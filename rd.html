<html lang="en">
<head>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8">
  <meta charset="utf-8">
  <meta name="generator" content="pandoc" />

    <meta name="author" content="Barret Schloerke" />
  
  
  <title>GGally</title>

    <script src="rd_files/jquery-1.11.3/jquery.min.js"></script>
  <link href="rd_files/bootstrap-3.3.2/css/bootstrap.min.css" rel="stylesheet" />
  <script src="rd_files/bootstrap-3.3.2/js/bootstrap.min.js"></script>
  <script src="rd_files/bootstrap-3.3.2/shim/html5shiv.min.js"></script>
  <script src="rd_files/bootstrap-3.3.2/shim/respond.min.js"></script>
  <link href="rd_files/highlight-8.4/tomorrow.css" rel="stylesheet" />
  <script src="rd_files/highlight-8.4/highlight.pack.js"></script>
  <link href="rd_files/fontawesome-4.3.0/css/font-awesome.min.css" rel="stylesheet" />
  <script src="rd_files/stickykit-1.1.1/sticky-kit.min.js"></script>
  <script src="rd_files/jqueryeasing-1.3/jquery.easing.min.js"></script>
  <link href="rd_files/recliner-0.2.2/recliner.css" rel="stylesheet" />
  <script src="rd_files/recliner-0.2.2/recliner.min.js"></script>
  <script src="rd_files/recliner-0.2.2/onload.js"></script>
  <link href="rd_files/packagedocs-0.0.1/pd.css" rel="stylesheet" />
  <script src="rd_files/packagedocs-0.0.1/pd.js"></script>
  <script src="rd_files/packagedocs-0.0.1/pd-collapse-toc.js"></script>
  
  
  
  
  
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
</head>

<body>

  
  <header class="navbar navbar-white navbar-fixed-top" role="banner" id="header">
    <div class="container">
      <div class="navbar-header">
        <button class="navbar-toggle" type="button" data-toggle="collapse" data-target=".navbar-collapse">
          <span class="sr-only">Toggle navigation</span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
                <a href="index.html" class="navbar-brand page-scroll">
        GGally - Extension to ‘ggplot2’
        </a>
      </div>
            <nav class="collapse navbar-collapse" role="navigation">
        <ul class="nav nav-pills pull-right">
<li>
<a href='index.html'>Docs</a>
</li>
<li class="active">
<a href='rd.html'>Package Ref</a>
</li>
<li>
<a href='https://github.com/ggobi/ggally'>Github <i class='fa fa-github'></i></a>
</li>
        </ul>
      </nav>
          </div>
  </header>

  <!-- Begin Body -->
  <div class="container">
    <div class="row">
            <div class="col-md-3" id="sidebar-col">
        <div id="toc">
          <ul>
          <li><a href="#plot-matrix">Plot Matrix</a><ul>
          <li><a href="#ggmatrix">ggmatrix</a></li>
          <li><a href="#ggpairs">ggpairs</a></li>
          <li><a href="#ggduo">ggduo</a></li>
          <li><a href="#ggscatmat">ggscatmat</a></li>
          <li><a href="#ggfacet">ggfacet</a></li>
          <li><a href="#ggts">ggts</a></li>
          </ul></li>
          <li><a href="#ggmatrix-helpers">ggmatrix helpers</a><ul>
          <li><a href="#wrap">wrap</a></li>
          <li><a href="#print.ggmatrix">print.ggmatrix</a></li>
          <li><a href="#ggmatrix_gtable">ggmatrix_gtable</a></li>
          <li><a href="#grab_legend">grab_legend</a></li>
          <li><a href="#gglegend">gglegend</a></li>
          <li><a href="#ggmatrix-1">[&lt;-.ggmatrix</a></li>
          <li><a href="#ggmatrix-2">[.ggmatrix</a></li>
          <li><a href="#gg-add">gg-add</a></li>
          <li><a href="#mapping_color_to_fill">mapping_color_to_fill</a></li>
          <li><a href="#str.ggmatrix">str.ggmatrix</a></li>
          <li><a href="#print_if_interactive">print_if_interactive</a></li>
          </ul></li>
          <li><a href="#model-diagnostics">Model Diagnostics</a><ul>
          <li><a href="#ggnostic">ggnostic</a></li>
          <li><a href="#broomify">broomify</a></li>
          <li><a href="#ggally_nostic_cooksd">ggally_nostic_cooksd</a></li>
          <li><a href="#ggally_nostic_hat">ggally_nostic_hat</a></li>
          <li><a href="#ggally_nostic_line">ggally_nostic_line</a></li>
          <li><a href="#ggally_nostic_resid">ggally_nostic_resid</a></li>
          <li><a href="#ggally_nostic_se_fit">ggally_nostic_se_fit</a></li>
          <li><a href="#ggally_nostic_sigma">ggally_nostic_sigma</a></li>
          <li><a href="#ggally_nostic_std_resid">ggally_nostic_std_resid</a></li>
          </ul></li>
          <li><a href="#major-plotting-functions">Major Plotting Functions</a><ul>
          <li><a href="#ggcoef">ggcoef</a></li>
          <li><a href="#ggcorr">ggcorr</a></li>
          <li><a href="#ggparcoord">ggparcoord</a></li>
          <li><a href="#ggsurv">ggsurv</a></li>
          </ul></li>
          <li><a href="#glyph-plot">Glyph Plot</a><ul>
          <li><a href="#glyphs">glyphs</a></li>
          <li><a href="#add_ref_boxes">add_ref_boxes</a></li>
          <li><a href="#add_ref_lines">add_ref_lines</a></li>
          <li><a href="#glyphplot">glyphplot</a></li>
          </ul></li>
          <li><a href="#networks">Networks</a><ul>
          <li><a href="#ggnet">ggnet</a></li>
          <li><a href="#ggnet2">ggnet2</a></li>
          <li><a href="#ggnetworkmap">ggnetworkmap</a></li>
          </ul></li>
          <li><a href="#high-level-plots">High-Level Plots</a><ul>
          <li><a href="#ggally_bardiag">ggally_barDiag</a></li>
          <li><a href="#ggally_box-ggally_box_no_facet">ggally_box, ggally_box_no_facet</a></li>
          <li><a href="#ggally_cor">ggally_cor</a></li>
          <li><a href="#ggally_density">ggally_density</a></li>
          <li><a href="#ggally_densitydiag">ggally_densityDiag</a></li>
          <li><a href="#ggally_denstrip">ggally_denstrip</a></li>
          <li><a href="#ggally_dot-ggally_dot_no_facet">ggally_dot, ggally_dot_no_facet</a></li>
          <li><a href="#ggally_facetbar">ggally_facetbar</a></li>
          <li><a href="#ggally_facetdensity">ggally_facetdensity</a></li>
          <li><a href="#ggally_facethist">ggally_facethist</a></li>
          <li><a href="#ggally_points">ggally_points</a></li>
          <li><a href="#ggally_ratio">ggally_ratio</a></li>
          <li><a href="#ggally_smooth-ggally_smooth_lm-ggally_smooth_loess">ggally_smooth, ggally_smooth_lm, ggally_smooth_loess</a></li>
          <li><a href="#ggally_text">ggally_text</a></li>
          <li><a href="#ggally_blank-ggally_blankdiag">ggally_blank, ggally_blankDiag</a></li>
          <li><a href="#ggally_na-ggally_nadiag">ggally_na, ggally_naDiag</a></li>
          <li><a href="#ggally_diagaxis">ggally_diagAxis</a></li>
          </ul></li>
          <li><a href="#datasets">Datasets</a><ul>
          <li><a href="#australia_pisa2012">australia_PISA2012</a></li>
          <li><a href="#flea">flea</a></li>
          <li><a href="#happy">happy</a></li>
          <li><a href="#nasa">nasa</a></li>
          <li><a href="#twitter_spambots">twitter_spambots</a></li>
          </ul></li>
          </ul>
        </div>
      </div>
      <div class="col-md-9" id="content-col">
      
<div id="content-top"></div>
<h1>
Extension to ‘ggplot2’
</h1>
<p>
<strong>Authors:</strong> <a href="mailto:schloerke@gmail.com">Barret Schloerke</a> [aut, cre],<a href="mailto:crowley.jason.s@gmail.com">Jason Crowley</a> [aut],<a href="mailto:dicook@monash.edu">Di Cook</a> [aut, ths],<a href="mailto:hofmann@iastate.edu">Heike Hofmann</a> [ths],<a href="mailto:h.wickham@gmail.com">Hadley Wickham</a> [ths],<a href="mailto:f.briatte@gmail.com">Francois Briatte</a> [aut],<a href="mailto:mmarbach@mail.uni-mannheim.de">Moritz Marbach</a> [aut],<a href="mailto:edwinthoen@gmail.com">Edwin Thoen</a> [aut],<a href="mailto:amos.elberg@gmail.com">Amos Elberg</a> [aut],<a href="mailto:joseph@larmarange.net">Joseph Larmarange</a> [aut]
</p>
<p>
<strong>Version:</strong> 1.2.9.9999
</p>
<p>
<strong>License:</strong> GPL (&gt;= 2.0)
</p>
<h4>
Description
</h4>
<p>
The R package ‘ggplot2’ is a plotting system based on the grammar of graphics. ‘GGally’ extends ‘ggplot2’ by adding several functions to reduce the complexity of combining geometric objects with transformed data. Some of these functions include a pairwise plot matrix, a two group pairwise plot matrix, a parallel coordinates plot, a survival plot, and several functions to plot networks.
</p>
<h4>
Depends
</h4>
<p>
R (&gt;= 3.1)
</p>
<h4>
Imports
</h4>
<p>
ggplot2 (&gt; 2.1.0), grid, gtable (&gt;= 0.2.0), plyr (&gt;= 1.8.3), progress, RColorBrewer, reshape (&gt;= 0.8.5), utils
</p>
<h4>
Suggests
</h4>
<p>
broom (&gt;= 0.4.0), chemometrics, geosphere (&gt;= 1.5-1), igraph (&gt;= 1.0.1), intergraph (&gt;= 2.0-2), maps (&gt;= 3.1.0), mapproj, network (&gt;= 1.12.0), scagnostics, scales (&gt;= 0.4.0), sna (&gt;= 2.3-2), survival, packagedocs, knitr, rmarkdown, roxygen2, testthat
</p>
<div id="plot-matrix" class="section level1">
<h1>Plot Matrix</h1>
<div id="ggmatrix" class="section level2">
<h2>ggmatrix</h2>
<a id="ggmatrix_alias"></a>
<h3>
ggmatrix - A ggplot2 Matrix
</h3>
<p class="rd-p">
Make a generic matrix of ggplot2 plots.
</p>
<h4>
Usage
</h4>
<pre class="r"><code><div>ggmatrix(plots, nrow, ncol, xAxisLabels&nbsp;=&nbsp;NULL, yAxisLabels&nbsp;=&nbsp;NULL, title&nbsp;=&nbsp;NULL, xlab&nbsp;=&nbsp;NULL, ylab&nbsp;=&nbsp;NULL, byrow&nbsp;=&nbsp;TRUE, showStrips&nbsp;=&nbsp;NULL, showAxisPlotLabels&nbsp;=&nbsp;TRUE, showXAxisPlotLabels&nbsp;=&nbsp;TRUE, showYAxisPlotLabels&nbsp;=&nbsp;TRUE, xProportions&nbsp;=&nbsp;NULL, yProportions&nbsp;=&nbsp;NULL, data&nbsp;=&nbsp;NULL, gg&nbsp;=&nbsp;NULL, legend&nbsp;=&nbsp;NULL)</div></code></pre>
<h4>
Arguments
</h4>
<dl class="rd-dl">
<dt>
plots
</dt>
<dd class="rd-dd">
list of plots to be put into matrix
</dd>
<dt>
nrow, ncol
</dt>
<dd class="rd-dd">
number of rows and columns
</dd>
<dt>
xAxisLabels, yAxisLabels
</dt>
<dd class="rd-dd">
strip titles for the x and y axis respectively. Set to <code>NULL</code> to not be displayed
</dd>
<dt>
title, xlab, ylab
</dt>
<dd class="rd-dd">
title, x label, and y label for the graph. Set to <code>NULL</code> to not be displayed
</dd>
<dt>
byrow
</dt>
<dd class="rd-dd">
boolean that determines whether the plots should be ordered by row or by column
</dd>
<dt>
showStrips
</dt>
<dd class="rd-dd">
boolean to determine if each plots strips should be displayed. <code>NULL</code> will default to the top and right side plots only. <code>TRUE</code> or <code>FALSE</code> will turn all strips on or off respectively.
</dd>
<dt>
showAxisPlotLabels, showXAxisPlotLabels, showYAxisPlotLabels
</dt>
<dd class="rd-dd">
booleans that determine if the plots axis labels are printed on the X (bottom) or Y (left) part of the plot matrix. If <code>showAxisPlotLabels</code> is set, both <code>showXAxisPlotLabels</code> and <code>showYAxisPlotLabels</code> will be set to the given value.
</dd>
<dt>
xProportions, yProportions
</dt>
<dd class="rd-dd">
Value to change how much area is given for each plot. Either <code>NULL</code> (default), numeric value matching respective length, or <code>grid::<a href=http://www.rdocumentation.org/packages/grid/topics/unit>unit</a></code> object with matching respective length
</dd>
<dt>
data
</dt>
<dd class="rd-dd">
data set using. This is the data to be used in place of ggally_data if the plot is a string to be evaluated at print time
</dd>
<dt>
gg
</dt>
<dd class="rd-dd">
ggplot2 theme objects to be applied to every plot
</dd>
<dt>
legend
</dt>
<dd class="rd-dd">
May be the two objects described below or the default <code>NULL</code> value. The legend position can be moved by using ggplot2s theme element <code>pm + theme(legend.position = “bottom”)</code>
<dl>
<dt>
a numeric vector of length 2
</dt>
<dd>
provides the location of the plot to use the legend for the plot matrixs legend. Such as <code>legend = c(3,5)</code> which will use the legend from the plot in the third row and fifth column
</dd>
<dt>
a single numeric value
</dt>
<dd>
provides the location of a plot according to the display order. Such as <code>legend = 3</code> in a plot matrix with 2 rows and 5 columns displayed by column will return the plot in position <code>c(1,2)</code>
</dd>
<dt>
a object from <code><a href=#grab_legend>grab_legend</a>()</code>
</dt>
<dd>
a predetermined plot legend that will be displayed directly
</dd>
</dl>
</dd>
</dl>
<h4>
Memory usage
</h4>
<p class="rd-p">
</p>
<p class="rd-p">
Now that the print.ggmatrix method uses a large gtable object, rather than print each plot independently, memory usage may be of concern. From small tests, memory usage flutters around <code>object.size(data) * 0.3 * length(plots)</code>. So, for a 80Mb random noise dataset with 100 plots, about 2.4 Gb of memory needed to print. For the 3.46 Mb diamonds dataset with 100 plots, about 100 Mb of memory was needed to print. The benefits of using the ggplot2 format greatly outweigh the price of about 20
</p>
<h4>
Examples
</h4>
<pre class="r"><code># small function to display plots only if it&#39;s interactive
p_ &lt;- GGally::print_if_interactive

plotList &lt;- list()
for (i in 1:6) {
  plotList[[i]] &lt;- ggally_text(paste(&quot;Plot #&quot;, i, sep = &quot;&quot;))
}
pm &lt;- ggmatrix(
  plotList,
  2, 3,
  c(&quot;A&quot;, &quot;B&quot;, &quot;C&quot;),
  c(&quot;D&quot;, &quot;E&quot;),
  byrow = TRUE
)
p_(pm)</code></pre>
<p><img src="rd_files/figure-html/ggmatrix_id_1-1.png" width="960" /></p>
<pre class="r"><code>pm &lt;- ggmatrix(
  plotList,
  2, 3,
  xAxisLabels = c(&quot;A&quot;, &quot;B&quot;, &quot;C&quot;),
  yAxisLabels = NULL,
  byrow = FALSE,
  showXAxisPlotLabels = FALSE
)
p_(pm)</code></pre>
<p><img src="rd_files/figure-html/ggmatrix_id_1-2.png" width="960" /></p>
<h4>
Author
</h4>
<p>Barret Schloerke <a href='mailto:schloerke@gmail.com'>schloerke@gmail.com</a></p>
</div>
<div id="ggpairs" class="section level2">
<h2>ggpairs</h2>
<a id="ggpairs_alias"></a>
<h3>
ggpairs - A ggplot2 generalized pairs plot
</h3>
<p class="rd-p">
Make a matrix of plots with a given data set
</p>
<h4>
Usage
</h4>
<pre class="r"><code><div>ggpairs(data, mapping&nbsp;=&nbsp;NULL, columns&nbsp;=&nbsp;1:ncol(data), title&nbsp;=&nbsp;NULL, upper&nbsp;=&nbsp;list(continuous&nbsp;=&nbsp;"cor", combo&nbsp;=&nbsp;"box_no_facet", discrete = "facetbar", na&nbsp;=&nbsp;"na"), lower&nbsp;=&nbsp;list(continuous&nbsp;=&nbsp;"points", combo = "facethist", discrete&nbsp;=&nbsp;"facetbar", na&nbsp;=&nbsp;"na"), diag&nbsp;=&nbsp;list(continuous = "densityDiag", discrete&nbsp;=&nbsp;"barDiag", na&nbsp;=&nbsp;"naDiag"), params&nbsp;=&nbsp;NULL, ..., xlab&nbsp;=&nbsp;NULL, ylab&nbsp;=&nbsp;NULL, axisLabels&nbsp;=&nbsp;c("show", "internal", "none"), columnLabels&nbsp;=&nbsp;colnames(data[columns]), showStrips&nbsp;=&nbsp;NULL, legend&nbsp;=&nbsp;NULL, cardinality_threshold&nbsp;=&nbsp;15, legends&nbsp;=&nbsp;stop("deprecated"))</div></code></pre>
<h4>
Arguments
</h4>
<dl class="rd-dl">
<dt>
data
</dt>
<dd class="rd-dd">
data set using. Can have both numerical and categorical data.
</dd>
<dt>
mapping
</dt>
<dd class="rd-dd">
aesthetic mapping (besides <code>x</code> and <code>y</code>). See <code><a href=http://www.rdocumentation.org/packages/ggplot2/topics/aes>aes</a>()</code>. If <code>mapping</code> is numeric, <code>columns</code> will be set to the <code>mapping</code> value and <code>mapping</code> will be set to <code>NULL</code>.
</dd>
<dt>
columns
</dt>
<dd class="rd-dd">
which columns are used to make plots. Defaults to all columns.
</dd>
<dt>
title, xlab, ylab
</dt>
<dd class="rd-dd">
title, x label, and y label for the graph
</dd>
<dt>
upper
</dt>
<dd class="rd-dd">
see Details
</dd>
<dt>
lower
</dt>
<dd class="rd-dd">
see Details
</dd>
<dt>
diag
</dt>
<dd class="rd-dd">
see Details
</dd>
<dt>
params
</dt>
<dd class="rd-dd">
deprecated. Please see <code><a href=#wrap>wrap_fn_with_param_arg</a></code>
</dd>
<dt>
…
</dt>
<dd class="rd-dd">
deprecated. Please use <code>mapping</code>
</dd>
<dt>
axisLabels
</dt>
<dd class="rd-dd">
either “show” to display axisLabels, “internal” for labels in the diagonal plots, or “none” for no axis labels
</dd>
<dt>
columnLabels
</dt>
<dd class="rd-dd">
label names to be displayed. Defaults to names of columns being used.
</dd>
<dt>
showStrips
</dt>
<dd class="rd-dd">
boolean to determine if each plots strips should be displayed. <code>NULL</code> will default to the top and right side plots only. <code>TRUE</code> or <code>FALSE</code> will turn all strips on or off respectively.
</dd>
<dt>
legend
</dt>
<dd class="rd-dd">
May be the two objects described below or the default <code>NULL</code> value. The legend position can be moved by using ggplot2s theme element <code>pm + theme(legend.position = “bottom”)</code>
<dl>
<dt>
a numeric vector of length 2
</dt>
<dd>
provides the location of the plot to use the legend for the plot matrixs legend. Such as <code>legend = c(3,5)</code> which will use the legend from the plot in the third row and fifth column
</dd>
<dt>
a single numeric value
</dt>
<dd>
provides the location of a plot according to the display order. Such as <code>legend = 3</code> in a plot matrix with 2 rows and 5 columns displayed by column will return the plot in position <code>c(1,2)</code>
</dd>
<dt>
a object from <code><a href=#grab_legend>grab_legend</a>()</code>
</dt>
<dd>
a predetermined plot legend that will be displayed directly
</dd>
</dl>
</dd>
<dt>
cardinality_threshold
</dt>
<dd class="rd-dd">
maximum number of levels allowed in a charcter / factor column. Set this value to NULL to not check factor columns. Defaults to 15
</dd>
<dt>
legends
</dt>
<dd class="rd-dd">
deprecated
</dd>
</dl>
<h4>
Value
</h4>
<p class="rd-p">
<dl>
ggpair object that if called, will print
</dl>
</p>
<h4>
Details
</h4>
<p class="rd-p">
<code>upper</code> and <code>lower</code> are lists that may contain the variables continuous, combo, discrete, and na. Each element of the list may be a function or a string. If a string is supplied, it must implement one of the following options:
<dl>
</p>
<p class="rd-p">
<dt>
continuous
</dt>
<dd>
exactly one of (points, smooth, smooth_loess, density, cor, blank). This option is used for continuous X and Y data.
</dd>
</p>
<p class="rd-p">
<dt>
combo
</dt>
<dd>
exactly one of (box, box_no_facet, dot, dot_no_facet, facethist, facetdensity, denstrip, blank). This option is used for either continuous X and categorical Y data or categorical X and continuous Y data.
</dd>
</p>
<p class="rd-p">
<dt>
discrete
</dt>
<dd>
exactly one of (facetbar, ratio, blank). This option is used for categorical X and Y data.
</dd>
</p>
<p class="rd-p">
<dt>
na
</dt>
<dd>
exactly one of (na, blank). This option is used when all X data is <code>NA</code>, all Y data is <code>NA</code>, or either all X or Y data is <code>NA</code>.
</dd>
</p>
<p class="rd-p">
</dl>
</p>
<p class="rd-p">
<code>diag</code> is a list that may only contain the variables continuous, discrete, and na. Each element of the diag list is a string implementing the following options:
<dl>
</p>
<p class="rd-p">
<dt>
continuous
</dt>
<dd>
exactly one of (densityDiag, barDiag, blankDiag). This option is used for continuous X data.
</dd>
</p>
<p class="rd-p">
<dt>
discrete
</dt>
<dd>
exactly one of (barDiag, blankDiag). This option is used for categorical X and Y data.
</dd>
</p>
<p class="rd-p">
<dt>
na
</dt>
<dd>
exactly one of (naDiag, blankDiag). This option is used when all X data is <code>NA</code>.
</dd>
</p>
<p class="rd-p">
</dl>
</p>
<p class="rd-p">
If blank is ever chosen as an option, then ggpairs will produce an empty plot.
</p>
<p class="rd-p">
If a function is supplied as an option to <code>upper</code>, <code>lower</code>, or <code>diag</code>, it should implement the function api of <code>function(data, mapping, …){#make ggplot2 plot}</code>. If a specific function needs its parameters set, <code><a href=#wrap>wrap</a>(fn, param1 = val1, param2 = val2)</code> the function with its parameters.
</p>
<h4>
References
</h4>
<p class="rd-p">
John W Emerson, Walton A Green, Barret Schloerke, Jason Crowley, Dianne Cook, Heike Hofmann, Hadley Wickham. The Generalized Pairs Plot. Journal of Computational and Graphical Statistics, vol. 22, no. 1, pp. 79-91, 2012.
</p>
<h4>
Examples
</h4>
<pre class="r"><code> # small function to display plots only if it&#39;s interactive
 p_ &lt;- GGally::print_if_interactive


## Quick example, with and without colour
data(flea)
ggpairs(flea, columns = 2:4)</code></pre>
<p><img src="rd_files/figure-html/ggpairs_id_2-1.png" width="960" /></p>
<pre class="r"><code>ggpairs(flea, columns = 2:4, ggplot2::aes(colour=species))</code></pre>
<p><img src="rd_files/figure-html/ggpairs_id_2-2.png" width="960" /></p>
<pre class="r"><code># Note: colour should be categorical, else you will need to reset
# the upper triangle to use points instead of trying to compute corr

data(tips, package = &quot;reshape&quot;)
pm &lt;- ggpairs(tips[, 1:3])
p_(pm)</code></pre>
<pre><code>## `stat_bin()` using `bins = 30`. Pick better value with `binwidth`.
## `stat_bin()` using `bins = 30`. Pick better value with `binwidth`.</code></pre>
<p><img src="rd_files/figure-html/ggpairs_id_2-3.png" width="960" /></p>
<pre class="r"><code>pm &lt;- ggpairs(tips, 1:3, columnLabels = c(&quot;Total Bill&quot;, &quot;Tip&quot;, &quot;Sex&quot;))
p_(pm)</code></pre>
<pre><code>## `stat_bin()` using `bins = 30`. Pick better value with `binwidth`.
## `stat_bin()` using `bins = 30`. Pick better value with `binwidth`.</code></pre>
<p><img src="rd_files/figure-html/ggpairs_id_2-4.png" width="960" /></p>
<pre class="r"><code>pm &lt;- ggpairs(tips, upper = &quot;blank&quot;)
p_(pm)</code></pre>
<pre><code>## `stat_bin()` using `bins = 30`. Pick better value with `binwidth`.
## `stat_bin()` using `bins = 30`. Pick better value with `binwidth`.
## `stat_bin()` using `bins = 30`. Pick better value with `binwidth`.
## `stat_bin()` using `bins = 30`. Pick better value with `binwidth`.
## `stat_bin()` using `bins = 30`. Pick better value with `binwidth`.
## `stat_bin()` using `bins = 30`. Pick better value with `binwidth`.
## `stat_bin()` using `bins = 30`. Pick better value with `binwidth`.
## `stat_bin()` using `bins = 30`. Pick better value with `binwidth`.
## `stat_bin()` using `bins = 30`. Pick better value with `binwidth`.
## `stat_bin()` using `bins = 30`. Pick better value with `binwidth`.
## `stat_bin()` using `bins = 30`. Pick better value with `binwidth`.
## `stat_bin()` using `bins = 30`. Pick better value with `binwidth`.</code></pre>
<p><img src="rd_files/figure-html/ggpairs_id_2-5.png" width="960" /></p>
<pre class="r"><code>## Plot Types
# Change default plot behavior
pm &lt;- ggpairs(
  tips[, c(1, 3, 4, 2)],
  upper = list(continuous = &quot;density&quot;, combo = &quot;box_no_facet&quot;),
  lower = list(continuous = &quot;points&quot;, combo = &quot;dot_no_facet&quot;)
)
p_(pm)</code></pre>
<p><img src="rd_files/figure-html/ggpairs_id_2-6.png" width="960" /></p>
<pre class="r"><code># Supply Raw Functions (may be user defined functions!)
pm &lt;- ggpairs(
  tips[, c(1, 3, 4, 2)],
  upper = list(continuous = ggally_density, combo = ggally_box_no_facet),
  lower = list(continuous = ggally_points, combo = ggally_dot_no_facet)
)
p_(pm)</code></pre>
<p><img src="rd_files/figure-html/ggpairs_id_2-7.png" width="960" /></p>
<pre class="r"><code># Use sample of the diamonds data
data(diamonds, package=&quot;ggplot2&quot;)
diamonds.samp &lt;- diamonds[sample(1:dim(diamonds)[1], 1000), ]

# Different aesthetics for different plot sections and plot types
pm &lt;- ggpairs(
 diamonds.samp[, 1:5],
 mapping = ggplot2::aes(color = cut),
 upper = list(continuous = wrap(&quot;density&quot;, alpha = 0.5), combo = &quot;box_no_facet&quot;),
 lower = list(continuous = wrap(&quot;points&quot;, alpha = 0.3), combo = wrap(&quot;dot_no_facet&quot;, alpha = 0.4)),
 title = &quot;Diamonds&quot;
)
p_(pm)</code></pre>
<p><img src="rd_files/figure-html/ggpairs_id_2-8.png" width="960" /></p>
<pre class="r"><code>## Axis Label Variations
# Only Variable Labels on the diagonal (no axis labels)
pm &lt;- ggpairs(tips[, 1:3], axisLabels=&quot;internal&quot;)
p_(pm)</code></pre>
<pre><code>## `stat_bin()` using `bins = 30`. Pick better value with `binwidth`.
## `stat_bin()` using `bins = 30`. Pick better value with `binwidth`.</code></pre>
<p><img src="rd_files/figure-html/ggpairs_id_2-9.png" width="960" /></p>
<pre class="r"><code># Only Variable Labels on the outside (no axis labels)
pm &lt;- ggpairs(tips[, 1:3], axisLabels=&quot;none&quot;)
p_(pm)</code></pre>
<pre><code>## `stat_bin()` using `bins = 30`. Pick better value with `binwidth`.
## `stat_bin()` using `bins = 30`. Pick better value with `binwidth`.</code></pre>
<p><img src="rd_files/figure-html/ggpairs_id_2-10.png" width="960" /></p>
<pre class="r"><code>## Plot Insertion Example
custom_car &lt;- ggpairs(mtcars[, c(&quot;mpg&quot;, &quot;wt&quot;, &quot;cyl&quot;)], upper = &quot;blank&quot;, title = &quot;Custom Example&quot;)
# ggplot example taken from example(geom_text)
  plot &lt;- ggplot2::ggplot(mtcars, ggplot2::aes(x=wt, y=mpg, label=rownames(mtcars)))
  plot &lt;- plot +
    ggplot2::geom_text(ggplot2::aes(colour=factor(cyl)), size = 3) +
    ggplot2::scale_colour_discrete(l=40)
custom_car[1, 2] &lt;- plot
personal_plot &lt;- ggally_text(
  &quot;ggpairs allows you\nto put in your\nown plot.\nLike that one.\n &lt;---&quot;
)
custom_car[1, 3] &lt;- personal_plot
p_(custom_car)</code></pre>
<p><img src="rd_files/figure-html/ggpairs_id_2-11.png" width="960" /></p>
<pre class="r"><code>## Remove binwidth warning from ggplot2
# displays warning about picking a better binwidth
pm &lt;- ggpairs(tips, 2:3)
p_(pm)</code></pre>
<pre><code>## `stat_bin()` using `bins = 30`. Pick better value with `binwidth`.</code></pre>
<p><img src="rd_files/figure-html/ggpairs_id_2-12.png" width="960" /></p>
<pre class="r"><code># no warning displayed
pm &lt;- ggpairs(tips, 2:3, lower = list(combo = wrap(&quot;facethist&quot;, binwidth = 0.5)))
p_(pm)</code></pre>
<p><img src="rd_files/figure-html/ggpairs_id_2-13.png" width="960" /></p>
<pre class="r"><code># no warning displayed with user supplied function
pm &lt;- ggpairs(tips, 2:3, lower = list(combo = wrap(ggally_facethist, binwidth = 0.5)))
p_(pm)</code></pre>
<p><img src="rd_files/figure-html/ggpairs_id_2-14.png" width="960" /></p>
<h4>
See also
</h4>
<p>wrap</p>
<h4>
Author
</h4>
<p>Barret Schloerke <a href='mailto:schloerke@gmail.com'>schloerke@gmail.com</a>, Jason Crowley <a href='mailto:crowley.jason.s@gmail.com'>crowley.jason.s@gmail.com</a>, Di Cook <a href='mailto:dicook@iastate.edu'>dicook@iastate.edu</a>, Heike Hofmann <a href='mailto:hofmann@iastate.edu'>hofmann@iastate.edu</a>, Hadley Wickham <a href='mailto:h.wickham@gmail.com'>h.wickham@gmail.com</a></p>
</div>
<div id="ggduo" class="section level2">
<h2>ggduo</h2>
<a id="ggduo_alias"></a>
<h3>
ggduo - A ggplot2 generalized pairs plot for two columns sets of a data.frame
</h3>
<p class="rd-p">
Make a matrix of plots with a given data set with two different column sets
</p>
<h4>
Usage
</h4>
<pre class="r"><code><div>ggduo(data, mapping&nbsp;=&nbsp;NULL, columnsX&nbsp;=&nbsp;1:ncol(data), columnsY&nbsp;=&nbsp;1:ncol(data), title&nbsp;=&nbsp;NULL, types&nbsp;=&nbsp;list(continuous = "smooth_loess", comboVertical&nbsp;=&nbsp;"box_no_facet", comboHorizontal&nbsp;=&nbsp;"facethist", discrete&nbsp;=&nbsp;"ratio"), axisLabels&nbsp;=&nbsp;c("show", "none"), columnLabelsX&nbsp;=&nbsp;colnames(data[columnsX]), columnLabelsY&nbsp;=&nbsp;colnames(data[columnsY]), xlab&nbsp;=&nbsp;NULL, ylab&nbsp;=&nbsp;NULL, showStrips&nbsp;=&nbsp;NULL, legend&nbsp;=&nbsp;NULL, cardinality_threshold&nbsp;=&nbsp;15, legends&nbsp;=&nbsp;stop("deprecated"))</div></code></pre>
<h4>
Arguments
</h4>
<dl class="rd-dl">
<dt>
data
</dt>
<dd class="rd-dd">
data set using. Can have both numerical and categorical data.
</dd>
<dt>
mapping
</dt>
<dd class="rd-dd">
aesthetic mapping (besides <code>x</code> and <code>y</code>). See <code><a href=http://www.rdocumentation.org/packages/ggplot2/topics/aes>aes</a>()</code>. If <code>mapping</code> is numeric, <code>columns</code> will be set to the <code>mapping</code> value and <code>mapping</code> will be set to <code>NULL</code>.
</dd>
<dt>
columnsX, columnsY
</dt>
<dd class="rd-dd">
which columns are used to make plots. Defaults to all columns.
</dd>
<dt>
title, xlab, ylab
</dt>
<dd class="rd-dd">
title, x label, and y label for the graph
</dd>
<dt>
types
</dt>
<dd class="rd-dd">
see Details
</dd>
<dt>
axisLabels
</dt>
<dd class="rd-dd">
either “show” to display axisLabels or “none” for no axis labels
</dd>
<dt>
columnLabelsX, columnLabelsY
</dt>
<dd class="rd-dd">
label names to be displayed. Defaults to names of columns being used.
</dd>
<dt>
showStrips
</dt>
<dd class="rd-dd">
boolean to determine if each plots strips should be displayed. <code>NULL</code> will default to the top and right side plots only. <code>TRUE</code> or <code>FALSE</code> will turn all strips on or off respectively.
</dd>
<dt>
legend
</dt>
<dd class="rd-dd">
May be the two objects described below or the default <code>NULL</code> value. The legend position can be moved by using ggplot2s theme element <code>pm + theme(legend.position = “bottom”)</code>
<dl>
<dt>
a numeric vector of length 2
</dt>
<dd>
provides the location of the plot to use the legend for the plot matrixs legend. Such as <code>legend = c(3,5)</code> which will use the legend from the plot in the third row and fifth column
</dd>
<dt>
a single numeric value
</dt>
<dd>
provides the location of a plot according to the display order. Such as <code>legend = 3</code> in a plot matrix with 2 rows and 5 columns displayed by column will return the plot in position <code>c(1,2)</code>
</dd>
<dt>
a object from <code><a href=#grab_legend>grab_legend</a>()</code>
</dt>
<dd>
a predetermined plot legend that will be displayed directly
</dd>
</dl>
</dd>
<dt>
cardinality_threshold
</dt>
<dd class="rd-dd">
maximum number of levels allowed in a charcter / factor column. Set this value to NULL to not check factor columns. Defaults to 15
</dd>
<dt>
legends
</dt>
<dd class="rd-dd">
deprecated
</dd>
</dl>
<h4>
Details
</h4>
<p class="rd-p">
<code>types</code> is a list that may contain the variables continuous, combo, discrete, and na. Each element of the list may be a function or a string. If a string is supplied, it must implement one of the following options:
<dl>
</p>
<p class="rd-p">
<dt>
continuous
</dt>
<dd>
exactly one of (points, smooth, smooth_loess, density, cor, blank). This option is used for continuous X and Y data.
</dd>
</p>
<p class="rd-p">
<dt>
comboHorizontal
</dt>
<dd>
exactly one of (box, box_no_facet, dot, dot_no_facet, facethist, facetdensity, denstrip, blank). This option is used for either continuous X and categorical Y data or categorical X and continuous Y data.
</dd>
</p>
<p class="rd-p">
<dt>
comboVertical
</dt>
<dd>
exactly one of (box, box_no_facet, dot, dot_no_facet, facethist, facetdensity, denstrip, blank). This option is used for either continuous X and categorical Y data or categorical X and continuous Y data.
</dd>
</p>
<p class="rd-p">
<dt>
discrete
</dt>
<dd>
exactly one of (facetbar, ratio, blank). This option is used for categorical X and Y data.
</dd>
</p>
<p class="rd-p">
<dt>
na
</dt>
<dd>
exactly one of (na, blank). This option is used when all X data is <code>NA</code>, all Y data is <code>NA</code>, or either all X or Y data is <code>NA</code>.
</dd>
</p>
<p class="rd-p">
</dl>
</p>
<p class="rd-p">
If blank is ever chosen as an option, then ggduo will produce an empty plot.
</p>
<p class="rd-p">
If a function is supplied as an option, it should implement the function api of <code>function(data, mapping, …){#make ggplot2 plot}</code>. If a specific function needs its parameters set, <code><a href=#wrap>wrap</a>(fn, param1 = val1, param2 = val2)</code> the function with its parameters.
</p>
<h4>
Examples
</h4>
<pre class="r"><code> # small function to display plots only if it&#39;s interactive
 p_ &lt;- GGally::print_if_interactive

 data(baseball, package = &quot;plyr&quot;)

 # Keep players from 1990-1995 with at least one at bat
 # Add how many singles a player hit
 # (must do in two steps as X1b is used in calculations)
 dt &lt;- transform(
   subset(baseball, year &gt;= 1990 &amp; year &lt;= 1995 &amp; ab &gt; 0),
   X1b = h - X2b - X3b - hr
 )
 # Add
 #  the player&#39;s batting average,
 #  the player&#39;s slugging percentage,
 #  and the player&#39;s on base percentage
 # Make factor a year, as each season is discrete
 dt &lt;- transform(
   dt,
   batting_avg = h / ab,
   slug = (X1b + 2*X2b + 3*X3b + 4*hr) / ab,
   on_base = (h + bb + hbp) / (ab + bb + hbp),
   year = as.factor(year)
 )


 pm &lt;- ggduo(
   dt,
   c(&quot;year&quot;, &quot;g&quot;, &quot;ab&quot;, &quot;lg&quot;),
   c(&quot;batting_avg&quot;, &quot;slug&quot;, &quot;on_base&quot;),
   mapping = ggplot2::aes(color = lg)
 )
 # Prints, but
 #   there is severe over plotting in the continuous plots
 #   the labels could be better
 #   want to add more hitting information
 p_(pm)</code></pre>
<p><img src="rd_files/figure-html/ggduo_id_3-1.png" width="960" /></p>
<pre class="r"><code> # Make a fake column that will be calculated when printing
 dt$hit_type &lt;- paste(&quot;hit_type:&quot;, seq_len(nrow(dt)))

 display_hit_type &lt;- function(plot_fn, is_ratio) {
   function(data, mapping, ...) {
     # change the color aesthetic to fill aesthetic
     mapping &lt;- mapping_color_to_fill(mapping)

     # If the y varaible is not &#39;hit_type&#39;, continue like normal
     if (deparse(mapping$y) != &quot;hit_type&quot;) {
       p &lt;- plot_fn(data, mapping, ...)
       return(p)
     }

     # Capture any extra column names needed
     extra_columns &lt;- unname(unlist(lapply(
       mapping[! names(mapping) %in% c(&quot;x&quot;, &quot;y&quot;)],
       deparse
     )))
     extra_columns &lt;- extra_columns[extra_columns %in% colnames(data)]

     x_name &lt;- deparse(mapping$x)

     # get the types of hits
     hit_types &lt;- c(&quot;X1b&quot;, &quot;X2b&quot;, &quot;X3b&quot;, &quot;hr&quot;)
     hit_names &lt;- c(&quot;single&quot;, &quot;double&quot;, &quot;tripple&quot;, &quot;home\nrun&quot;)
     if (is_ratio) {
       hit_types &lt;- rev(hit_types)
       hit_names &lt;- rev(hit_names)
     }

     # retrieve the columns and rename them
     data &lt;- data[, c(x_name, hit_types, extra_columns)]
     colnames(data) &lt;- c(x_name, hit_names, extra_columns)

     # melt the data to get the counts of the unique hit occurances
     dt_melt &lt;- reshape::melt.data.frame(data, id = c(x_name, extra_columns))
     dt_value &lt;- dt_melt$value

     # Make a new data.frame with all the necessary variables repeated
     dt_ratio &lt;- data.frame(variable = logical(sum(dt_value)))
     for (col in c(x_name, &quot;variable&quot;, extra_columns)) {
       dt_ratio[[col]] &lt;- rep(dt_melt[[col]], dt_value)
     }

     # copy the old mapping and overwrite the x and y values
     mapping_ratio &lt;- mapping
     mapping_ratio[c(&quot;x&quot;, &quot;y&quot;)] &lt;- ggplot2::aes_string(x = x_name, y = &quot;variable&quot;)

     # make ggplot2 object!
     plot_fn(dt_ratio, mapping_ratio, ...)
   }
 }


 display_hit_type_combo &lt;- display_hit_type(ggally_facethist, FALSE)
 display_hit_type_discrete &lt;- display_hit_type(ggally_ratio, TRUE)

 # remove the strips, as the same information is displayed in the bottom axis area
 pm &lt;- ggduo(
   dt,
   c(&quot;year&quot;, &quot;g&quot;, &quot;ab&quot;, &quot;lg&quot;),
   c(&quot;batting_avg&quot;, &quot;slug&quot;, &quot;on_base&quot;, &quot;hit_type&quot;),
   columnLabelsX = c(&quot;year&quot;, &quot;player game count&quot;, &quot;player at bat count&quot;, &quot;league&quot;),
   columnLabelsY = c(&quot;batting avg&quot;, &quot;slug %&quot;, &quot;on base %&quot;, &quot;hit type&quot;),
   title = &quot;Baseball Hitting Stats from 1990-1995&quot;,
   mapping = ggplot2::aes(color = lg),
   types = list(
     # change the shape and add some transparency to the points
     continuous = wrap(&quot;smooth_loess&quot;, alpha = 0.50, shape = &quot;+&quot;),
     # all combinations that are continuous horizontally should have a binwidth of 15
     comboHorizontal = wrap(display_hit_type_combo, binwidth = 15),
     # the ratio plot should have a black border around the rects of size 0.15
     discrete = wrap(display_hit_type_discrete, color = &quot;black&quot;, size = 0.15)
   ),
   showStrips = FALSE, cardinality_threshold = NULL
 );

 p_(pm)</code></pre>
<p><img src="rd_files/figure-html/ggduo_id_3-2.png" width="960" /></p>
<pre class="r"><code># Example derived from:
## R Data Analysis Examples: Canonical Correlation Analysis.  UCLA: Statistical
##   Consulting Group. from http://www.ats.ucla.edu/stat/r/dae/canonical.htm
##   (accessed June 23, 2016).
# &quot;Example 1. A researcher has collected data on three psychological variables, four
#  academic variables (standardized test scores) and gender for 600 college freshman.
#  She is interested in how the set of psychological variables relates to the academic
#  variables and gender. In particular, the researcher is interested in how many
#  dimensions (canonical variables) are necessary to understand the association between
#  the two sets of variables.&quot;
mm &lt;- read.csv(&quot;http://www.ats.ucla.edu/stat/data/mmreg.csv&quot;)
colnames(mm) &lt;- c(&quot;Control&quot;, &quot;Concept&quot;, &quot;Motivation&quot;, &quot;Read&quot;, &quot;Write&quot;, &quot;Math&quot;,
    &quot;Science&quot;, &quot;Sex&quot;)
summary(mm)</code></pre>
<pre><code>##     Control            Concept            Motivation          Read     
##  Min.   :-2.23000   Min.   :-2.620000   Min.   :0.0000   Min.   :28.3  
##  1st Qu.:-0.37250   1st Qu.:-0.300000   1st Qu.:0.3300   1st Qu.:44.2  
##  Median : 0.21000   Median : 0.030000   Median :0.6700   Median :52.1  
##  Mean   : 0.09653   Mean   : 0.004917   Mean   :0.6608   Mean   :51.9  
##  3rd Qu.: 0.51000   3rd Qu.: 0.440000   3rd Qu.:1.0000   3rd Qu.:60.1  
##  Max.   : 1.36000   Max.   : 1.190000   Max.   :1.0000   Max.   :76.0  
##      Write            Math          Science           Sex       
##  Min.   :25.50   Min.   :31.80   Min.   :26.00   Min.   :0.000  
##  1st Qu.:44.30   1st Qu.:44.50   1st Qu.:44.40   1st Qu.:0.000  
##  Median :54.10   Median :51.30   Median :52.60   Median :1.000  
##  Mean   :52.38   Mean   :51.85   Mean   :51.76   Mean   :0.545  
##  3rd Qu.:59.90   3rd Qu.:58.38   3rd Qu.:58.65   3rd Qu.:1.000  
##  Max.   :67.10   Max.   :75.50   Max.   :74.20   Max.   :1.000</code></pre>
<pre class="r"><code>psych_variables &lt;- c(&quot;Control&quot;, &quot;Concept&quot;, &quot;Motivation&quot;)
academic_variables &lt;- c(&quot;Read&quot;, &quot;Write&quot;, &quot;Math&quot;, &quot;Science&quot;, &quot;Sex&quot;)

## Within correlation
p_(ggpairs(mm, columns = psych_variables))</code></pre>
<p><img src="rd_files/figure-html/ggduo_id_3-3.png" width="960" /></p>
<pre class="r"><code>p_(ggpairs(mm, columns = academic_variables))</code></pre>
<p><img src="rd_files/figure-html/ggduo_id_3-4.png" width="960" /></p>
<pre class="r"><code>## Between correlation
loess_with_cor &lt;- function(data, mapping, ..., method = &quot;pearson&quot;) {
  x &lt;- data[[deparse(mapping$x)]]
  y &lt;- data[[deparse(mapping$y)]]
  cor &lt;- cor(x, y, method = method)
  ggally_smooth_loess(data, mapping, ...) +
    ggplot2::geom_label(
      data = data.frame(
        x = min(x, na.rm = TRUE),
        y = max(y, na.rm = TRUE),
        lab = round(cor, digits = 3)
      ),
      mapping = ggplot2::aes(x = x, y = y, label = lab),
      hjust = 0, vjust = 1,
      size = 5, fontface = &quot;bold&quot;
    )
}
pm &lt;- ggduo(mm, psych_variables, academic_variables, types = list(continuous = loess_with_cor))
suppressWarnings(p_(pm)) # ignore warnings from loess</code></pre>
<p><img src="rd_files/figure-html/ggduo_id_3-5.png" width="960" /></p>
</div>
<div id="ggscatmat" class="section level2">
<h2>ggscatmat</h2>
<a id="ggscatmat_alias"></a>
<h3>
ggscatmat - a traditional scatterplot matrix for purely quantitative variables
</h3>
<p class="rd-p">
This function makes a scatterplot matrix for quantitative variables with density plots on the diagonal and correlation printed in the upper triangle.
</p>
<h4>
Usage
</h4>
<pre class="r"><code><div>ggscatmat(data, columns&nbsp;=&nbsp;1:ncol(data), color&nbsp;=&nbsp;NULL, alpha&nbsp;=&nbsp;1, corMethod&nbsp;=&nbsp;"pearson")</div></code></pre>
<h4>
Arguments
</h4>
<dl class="rd-dl">
<dt>
data
</dt>
<dd class="rd-dd">
a data matrix. Should contain numerical (continuous) data.
</dd>
<dt>
columns
</dt>
<dd class="rd-dd">
an option to choose the column to be used in the raw dataset. Defaults to <code>1:ncol(data)</code>.
</dd>
<dt>
color
</dt>
<dd class="rd-dd">
an option to group the dataset by the factor variable and color them by different colors. Defaults to <code>NULL</code>.
</dd>
<dt>
alpha
</dt>
<dd class="rd-dd">
an option to set the transparency in scatterplots for large data. Defaults to <code>1</code>.
</dd>
<dt>
corMethod
</dt>
<dd class="rd-dd">
method argument supplied to <code><a href=http://www.rdocumentation.org/packages/stats/topics/cor>cor</a></code>
</dd>
</dl>
<h4>
Examples
</h4>
<pre class="r"><code>data(flea)
ggscatmat(flea, columns = 2:4)</code></pre>
<p><img src="rd_files/figure-html/ggscatmat_id_4-1.png" width="960" /></p>
<pre class="r"><code>ggscatmat(flea, columns = 2:4, color = &quot;species&quot;)</code></pre>
<p><img src="rd_files/figure-html/ggscatmat_id_4-2.png" width="960" /></p>
<h4>
Author
</h4>
<p>Mengjia Ni, Di Cook <a href='mailto:dicook@monash.edu'>dicook@monash.edu</a></p>
</div>
<div id="ggfacet" class="section level2">
<h2>ggfacet</h2>
<a id="ggfacet_alias"></a>
<h3>
ggfacet - single ggplot2 plot matrix with facet_grid
</h3>
<h4>
Usage
</h4>
<pre class="r"><code><div>ggfacet(data, mapping&nbsp;=&nbsp;NULL, columnsX&nbsp;=&nbsp;1:ncol(data), columnsY&nbsp;=&nbsp;1:ncol(data), fn&nbsp;=&nbsp;ggally_points, ..., columnLabelsX&nbsp;=&nbsp;names(data[columnsX]), columnLabelsY&nbsp;=&nbsp;names(data[columnsY]), xlab&nbsp;=&nbsp;NULL, ylab&nbsp;=&nbsp;NULL, title&nbsp;=&nbsp;NULL, scales&nbsp;=&nbsp;"free")</div></code></pre>
<h4>
Arguments
</h4>
<dl class="rd-dl">
<dt>
data
</dt>
<dd class="rd-dd">
data.frame that contains all columns to be displayed. This data will be melted before being passed into the function <code>fn</code>
</dd>
<dt>
mapping
</dt>
<dd class="rd-dd">
aesthetic mapping (besides <code>x</code> and <code>y</code>). See <code><a href=http://www.rdocumentation.org/packages/ggplot2/topics/aes>aes</a>()</code>
</dd>
<dt>
columnsX
</dt>
<dd class="rd-dd">
columns to be displayed in the plot matrix
</dd>
<dt>
columnsY
</dt>
<dd class="rd-dd">
rows to be displayed in the plot matrix
</dd>
<dt>
fn
</dt>
<dd class="rd-dd">
function to be executed. Similar to <code><a href=#ggpairs>ggpairs</a></code> and <code><a href=#ggduo>ggduo</a></code>, the function may either be a string identifier or a real function that <code><a href=#wrap>wrap</a></code> understands.
</dd>
<dt>
…
</dt>
<dd class="rd-dd">
extra arguments passed directly to <code>fn</code>
</dd>
<dt>
columnLabelsX, columnLabelsY
</dt>
<dd class="rd-dd">
column and row labels to display in the plot matrix
</dd>
<dt>
xlab, ylab, title
</dt>
<dd class="rd-dd">
plot matrix labels
</dd>
<dt>
scales
</dt>
<dd class="rd-dd">
parameter supplied to <code>ggplot2::<a href=http://www.rdocumentation.org/packages/ggplot2/topics/facet_grid>facet_grid</a></code>. Default behavior is <code>“free”</code>
</dd>
</dl>
<h4>
Examples
</h4>
<pre class="r"><code># Small function to display plots only if it&#39;s interactive
p_ &lt;- GGally::print_if_interactive
library(chemometrics)</code></pre>
<pre><code>## Loading required package: rpart</code></pre>
<pre class="r"><code>data(NIR)
NIR_sub &lt;- data.frame(NIR$yGlcEtOH, NIR$xNIR[,1:3])
str(NIR_sub)</code></pre>
<pre><code>## &#39;data.frame&#39;:    166 obs. of  5 variables:
##  $ Glucose: num  9.78 17.08 27.05 33.41 39.5 ...
##  $ Ethanol: num  40.3 39.1 37.9 37.3 36.4 ...
##  $ X1115.0: num  0.00319 0.00324 0.00317 0.00315 0.00315 ...
##  $ X1120.0: num  0.00401 0.00404 0.00398 0.00397 0.00397 ...
##  $ X1125.0: num  0.00458 0.0046 0.00457 0.00455 0.00456 ...</code></pre>
<pre class="r"><code>x_cols &lt;- c(&quot;X1115.0&quot;, &quot;X1120.0&quot;, &quot;X1125.0&quot;)
y_cols &lt;- c(&quot;Glucose&quot;, &quot;Ethanol&quot;)

# using ggduo directly
p &lt;- ggduo(NIR_sub, x_cols, y_cols, types = list(continuous = &quot;points&quot;))
p_(p)</code></pre>
<p><img src="rd_files/figure-html/ggfacet_id_5-1.png" width="960" /></p>
<pre class="r"><code># using ggfacet
p &lt;- ggfacet(NIR_sub, x_cols, y_cols)
p_(p)</code></pre>
<p><img src="rd_files/figure-html/ggfacet_id_5-2.png" width="960" /></p>
<pre class="r"><code># add a smoother
p &lt;- ggfacet(NIR_sub, x_cols, y_cols, fn = &#39;smooth_loess&#39;)
p_(p)</code></pre>
<p><img src="rd_files/figure-html/ggfacet_id_5-3.png" width="960" /></p>
<pre class="r"><code># same output
p &lt;- ggfacet(NIR_sub, x_cols, y_cols, fn = ggally_smooth_loess)
p_(p)</code></pre>
<p><img src="rd_files/figure-html/ggfacet_id_5-4.png" width="960" /></p>
<pre class="r"><code># Change scales to be the same in for every row and for every column
p &lt;- ggfacet(NIR_sub, x_cols, y_cols, scales = &quot;fixed&quot;)
p_(p)</code></pre>
<p><img src="rd_files/figure-html/ggfacet_id_5-5.png" width="960" /></p>
</div>
<div id="ggts" class="section level2">
<h2>ggts</h2>
<a id="ggts_alias"></a>
<h3>
Multiple Time Series
</h3>
<p class="rd-p">
GGally implementation of ts.plot. Wraps around the ggduo function and removes the column strips
</p>
<h4>
Usage
</h4>
<pre class="r"><code><div>ggts(..., columnLabelsX&nbsp;=&nbsp;NULL)</div></code></pre>
<h4>
Arguments
</h4>
<dl class="rd-dl">
<dt>
…
</dt>
<dd class="rd-dd">
supplied directly to <code><a href=#ggduo>ggduo</a></code>
</dd>
<dt>
columnLabelsX
</dt>
<dd class="rd-dd">
remove top strips for the X axis by default
</dd>
</dl>
<h4>
Value
</h4>
<p class="rd-p">
<dl>
ggmatrix object
</dl>
</p>
<h4>
Examples
</h4>
<pre class="r"><code>ggts(pigs, &quot;time&quot;, c(&quot;gilts&quot;, &quot;profit&quot;, &quot;s_per_herdsz&quot;, &quot;production&quot;, &quot;herdsz&quot;))</code></pre>
<p><img src="rd_files/figure-html/ggts_id_6-1.png" width="960" /></p>
</div>
</div>
<div id="ggmatrix-helpers" class="section level1">
<h1>ggmatrix helpers</h1>
<div id="wrap" class="section level2">
<h2>wrap</h2>
<a id="wrap_alias"></a>
<h3>
Wrap a function with different parameter values
</h3>
<p class="rd-p">
Wraps a function with the supplied parameters to force different default behavior. This is useful for functions that are supplied to ggpairs. It allows you to change the behavior of one function, rather than creating multiple functions with different parameter settings.
</p>
<h4>
Usage
</h4>
<pre class="r"><code><div>wrap_fn_with_param_arg(funcVal, params&nbsp;=&nbsp;NULL, funcArgName&nbsp;=&nbsp;deparse(substitute(funcVal)))</div>
<div>wrapp(funcVal, params&nbsp;=&nbsp;NULL, funcArgName&nbsp;=&nbsp;deparse(substitute(funcVal)))</div>
<div>wrap(funcVal, ..., funcArgName&nbsp;=&nbsp;deparse(substitute(funcVal)))</div>
<div>wrap_fn_with_params(funcVal, ..., funcArgName&nbsp;=&nbsp;deparse(substitute(funcVal)))</div></code></pre>
<h4>
Arguments
</h4>
<dl class="rd-dl">
<dt>
funcVal
</dt>
<dd class="rd-dd">
function that the <code>params</code> will be applied to. The function should follow the api of <code>function(data, mapping, …){}</code>. <code>funcVal</code> is allowed to be a string of one of the <code>ggally_NAME</code> functions, such as <code>“points”</code> for <code>ggally_points</code> or <code>“facetdensity”</code> for <code>ggally_facetdensity</code>.
</dd>
<dt>
params
</dt>
<dd class="rd-dd">
named vector or list of parameters to be applied to the <code>funcVal</code>
</dd>
<dt>
funcArgName
</dt>
<dd class="rd-dd">
name of function to be displayed
</dd>
<dt>
…
</dt>
<dd class="rd-dd">
named parameters to be supplied to <code>wrap_fn_with_param_arg</code>
</dd>
</dl>
<h4>
Value
</h4>
<p class="rd-p">
<dl>
a <code>function(data, mapping, …){}</code> that will wrap the original function with the parameters applied as arguements
</dl>
</p>
<h4>
Details
</h4>
<p class="rd-p">
<code>wrap</code> is identical to <code>wrap_fn_with_params</code>. These function take the new parameters as arguements.
</p>
<p class="rd-p">
<code>wrapp</code> is identical to <code>wrap_fn_with_param_arg</code>. These functions take the new parameters as a single list.
</p>
<p class="rd-p">
The <code>params</code> and <code>fn</code> attributes are there for debugging purposes. If either attribute is altered, the function must be re-wrapped to have the changes take effect.
</p>
<h4>
Examples
</h4>
<pre class="r"><code># example function that prints &#39;val&#39;
fn &lt;- function(data, mapping, val = 2) {
  print(val)
}
fn(data = NULL, mapping = NULL) # 2</code></pre>
<pre><code>## [1] 2</code></pre>
<pre class="r"><code># wrap function to change default value &#39;val&#39; to 5 instead of 2
wrapped_fn1 &lt;- wrap(fn, val = 5)
wrapped_fn1(data = NULL, mapping = NULL) # 5</code></pre>
<pre><code>## [1] 5</code></pre>
<pre class="r"><code># you may still supply regular values
wrapped_fn1(data = NULL, mapping = NULL, val = 3) # 3</code></pre>
<pre><code>## [1] 3</code></pre>
<pre class="r"><code># wrap function to change &#39;val&#39; to 5 using the arg list
wrapped_fn2 &lt;- wrap_fn_with_param_arg(fn, params = list(val = 5))
wrapped_fn2(data = NULL, mapping = NULL) # 5</code></pre>
<pre><code>## [1] 5</code></pre>
<pre class="r"><code># change parameter settings in ggpairs for a particular function
## Goal output:
(regularPlot &lt;- ggally_points(
  iris,
  ggplot2::aes(Sepal.Length, Sepal.Width),
  size = 5, color = &quot;red&quot;
))</code></pre>
<p><img src="rd_files/figure-html/wrap_id_7-1.png" width="960" /></p>
<pre class="r"><code># Wrap ggally_points to have parameter values size = 5 and color = &#39;red&#39;
w_ggally_points &lt;- wrap(ggally_points, size = 5, color = &quot;red&quot;)
(wrappedPlot &lt;- w_ggally_points(
  iris,
  ggplot2::aes(Sepal.Length, Sepal.Width)
))</code></pre>
<p><img src="rd_files/figure-html/wrap_id_7-2.png" width="960" /></p>
<pre class="r"><code># Double check the aes parameters are the same for the geom_point layer
identical(regularPlot$layers[[1]]$aes_params, wrappedPlot$layers[[1]]$aes_params)</code></pre>
<pre><code>## [1] TRUE</code></pre>
<pre class="r"><code># Use a wrapped function in ggpairs
ggpairs(iris, 1:3, lower = list(continuous = wrap(ggally_points, size = 5, color = &quot;red&quot;)))</code></pre>
<p><img src="rd_files/figure-html/wrap_id_7-3.png" width="960" /></p>
<pre class="r"><code>ggpairs(iris, 1:3, lower = list(continuous = w_ggally_points))</code></pre>
<p><img src="rd_files/figure-html/wrap_id_7-4.png" width="960" /></p>
</div>
<div id="print.ggmatrix" class="section level2">
<h2>print.ggmatrix</h2>
<a id="print.ggmatrix_alias"></a>
<h3>
Print ggpair object
</h3>
<p class="rd-p">
Print method taken from <code>ggplot2:::print.ggplot</code> and altered for a ggmatrix object
</p>
<h4>
Usage
</h4>
<pre class="r"><code><div>"print"(x, newpage&nbsp;=&nbsp;is.null(vp), vp&nbsp;=&nbsp;NULL, ...)</div></code></pre>
<h4>
Arguments
</h4>
<dl class="rd-dl">
<dt>
x
</dt>
<dd class="rd-dd">
plot to display
</dd>
<dt>
newpage
</dt>
<dd class="rd-dd">
draw new (empty) page first?
</dd>
<dt>
vp
</dt>
<dd class="rd-dd">
viewport to draw plot in
</dd>
<dt>
…
</dt>
<dd class="rd-dd">
arguments passed onto ggmatrix_gtable
</dd>
</dl>
<h4>
Examples
</h4>
<pre class="r"><code> data(tips, package = &quot;reshape&quot;)
 pMat &lt;- ggpairs(tips, c(1,3,2), mapping = ggplot2::aes_string(color = &quot;sex&quot;))
 pMat # calls print(pMat), which calls print.ggmatrix(pMat)</code></pre>
<pre><code>## `stat_bin()` using `bins = 30`. Pick better value with `binwidth`.
## `stat_bin()` using `bins = 30`. Pick better value with `binwidth`.</code></pre>
<p><img src="rd_files/figure-html/print.ggmatrix_id_8-1.png" width="960" /></p>
<h4>
Author
</h4>
<p>Barret Schloerke</p>
</div>
<div id="ggmatrix_gtable" class="section level2">
<h2>ggmatrix_gtable</h2>
<a id="ggmatrix_gtable_alias"></a>
<h3>
Print ggpair object
</h3>
<p class="rd-p">
Specialized method to print the ggpair object-
</p>
<h4>
Usage
</h4>
<pre class="r"><code><div>ggmatrix_gtable(pm, ..., progress&nbsp;=&nbsp;interactive() && (pm$ncol * pm$nrow) > 15, progress_format&nbsp;=&nbsp;" plot: [:plot_i,:plot_j] [:bar]:percent est::eta ")</div></code></pre>
<h4>
Arguments
</h4>
<dl class="rd-dl">
<dt>
pm
</dt>
<dd class="rd-dd">
ggpair object to be plotted
</dd>
<dt>
…
</dt>
<dd class="rd-dd">
ignored
</dd>
<dt>
progress
</dt>
<dd class="rd-dd">
boolean to determine if a progress bar should be displayed. This defaults to interactive sessions only
</dd>
<dt>
progress_format
</dt>
<dd class="rd-dd">
string supplied directly to <code>progress::<a href=http://www.rdocumentation.org/packages/progress/topics/progress_bar>progress_bar</a>(format = progress_format)</code>. Defaults to display the plot number, progress bar, percent complete, and estimated time to finish.
</dd>
</dl>
<h4>
Examples
</h4>
<pre class="r"><code>data(tips, package = &quot;reshape&quot;)
pm &lt;- ggpairs(tips, c(1,3,2), mapping = ggplot2::aes_string(color = &quot;sex&quot;))
ggmatrix_gtable(pm)</code></pre>
<pre><code>## `stat_bin()` using `bins = 30`. Pick better value with `binwidth`.
## `stat_bin()` using `bins = 30`. Pick better value with `binwidth`.</code></pre>
<pre><code>## TableGrob (15 x 12) &quot;layout&quot;: 35 grobs
##     z         cells       name                                    grob
## 1   0 ( 1-15, 1-12) background       rect[plot.background..rect.62912]
## 2   1 ( 7- 7, 4- 4)  panel-1-1                          gtable[layout]
## 3   1 ( 9- 9, 4- 4)  panel-2-1                          gtable[layout]
## 4   1 (11-11, 4- 4)  panel-3-1                          gtable[layout]
## 5   1 ( 7- 7, 6- 6)  panel-1-2                          gtable[layout]
## 6   1 ( 9- 9, 6- 6)  panel-2-2                          gtable[layout]
## 7   1 (11-11, 6- 6)  panel-3-2                          gtable[layout]
## 8   1 ( 7- 7, 8- 8)  panel-1-3                          gtable[layout]
## 9   1 ( 9- 9, 8- 8)  panel-2-3                          gtable[layout]
## 10  1 (11-11, 8- 8)  panel-3-3                          gtable[layout]
## 11  3 ( 5- 5, 4- 4)   axis-t-1                          zeroGrob[NULL]
## 12  3 ( 5- 5, 6- 6)   axis-t-2                          zeroGrob[NULL]
## 13  3 ( 5- 5, 8- 8)   axis-t-3                          zeroGrob[NULL]
## 14  3 (12-12, 4- 4)   axis-b-1                          gtable[layout]
## 15  3 (12-12, 6- 6)   axis-b-2                          gtable[layout]
## 16  3 (12-12, 8- 8)   axis-b-3                          gtable[layout]
## 17  3 ( 7- 7, 3- 3)   axis-l-1                          gtable[layout]
## 18  3 ( 9- 9, 3- 3)   axis-l-2                          gtable[layout]
## 19  3 (11-11, 3- 3)   axis-l-3                          gtable[layout]
## 20  3 ( 7- 7,10-10)   axis-r-1                          zeroGrob[NULL]
## 21  3 ( 9- 9,10-10)   axis-r-2                          zeroGrob[NULL]
## 22  3 (11-11,10-10)   axis-r-3                          zeroGrob[NULL]
## 23  2 ( 6- 6, 4- 4)  strip-t-1                           gtable[strip]
## 24  2 ( 6- 6, 6- 6)  strip-t-2                           gtable[strip]
## 25  2 ( 6- 6, 8- 8)  strip-t-3                           gtable[strip]
## 26  2 ( 7- 7, 9- 9)  strip-r-1                           gtable[strip]
## 27  2 ( 9- 9, 9- 9)  strip-r-2                           gtable[strip]
## 28  2 (11-11, 9- 9)  strip-r-3                           gtable[strip]
## 29  4 ( 4- 4, 4- 8)     xlab-t                          zeroGrob[NULL]
## 30  5 (13-13, 4- 8)     xlab-b                          zeroGrob[NULL]
## 31  6 ( 7-11, 2- 2)     ylab-l                          zeroGrob[NULL]
## 32  7 ( 7-11,11-11)     ylab-r                          zeroGrob[NULL]
## 33  8 ( 3- 3, 4- 8)   subtitle zeroGrob[plot.subtitle..zeroGrob.62909]
## 34  9 ( 2- 2, 4- 8)      title    zeroGrob[plot.title..zeroGrob.62908]
## 35 10 (14-14, 4- 8)    caption  zeroGrob[plot.caption..zeroGrob.62910]</code></pre>
<h4>
Author
</h4>
<p>Barret Schloerke <a href='mailto:schloerke@gmail.com'>schloerke@gmail.com</a></p>
</div>
<div id="grab_legend" class="section level2">
<h2>grab_legend</h2>
<a id="grab_legend_alias"></a>
<h3>
Grab the legend and print it as a plot
</h3>
<h4>
Usage
</h4>
<pre class="r"><code><div>grab_legend(p)</div>
<div>"print"(x, ..., plotNew&nbsp;=&nbsp;FALSE)</div></code></pre>
<h4>
Arguments
</h4>
<dl class="rd-dl">
<dt>
p
</dt>
<dd class="rd-dd">
ggplot2 plot object
</dd>
<dt>
x
</dt>
<dd class="rd-dd">
legend object that has been grabbed from a ggplot2 object
</dd>
<dt>
…
</dt>
<dd class="rd-dd">
ignored
</dd>
<dt>
plotNew
</dt>
<dd class="rd-dd">
boolean to determine if the <code>grid.newpage()</code> command and a new blank rectangle should be printed
</dd>
</dl>
<h4>
Examples
</h4>
<pre class="r"><code>library(ggplot2)
histPlot &lt;- qplot(
  x = Sepal.Length,
  data = iris,
  fill = Species,
  geom = &quot;histogram&quot;,
  binwidth = 1/4
)
(right &lt;- histPlot)</code></pre>
<p><img src="rd_files/figure-html/grab_legend_id_10-1.png" width="960" /></p>
<pre class="r"><code>(bottom &lt;- histPlot + theme(legend.position = &quot;bottom&quot;))</code></pre>
<p><img src="rd_files/figure-html/grab_legend_id_10-2.png" width="960" /></p>
<pre class="r"><code>(top &lt;- histPlot + theme(legend.position = &quot;top&quot;))</code></pre>
<p><img src="rd_files/figure-html/grab_legend_id_10-3.png" width="960" /></p>
<pre class="r"><code>(left &lt;- histPlot + theme(legend.position = &quot;left&quot;))

grab_legend(right)
grab_legend(bottom)
grab_legend(top)
grab_legend(left)</code></pre>
<p><img src="rd_files/figure-html/grab_legend_id_10-4.png" width="960" /></p>
</div>
<div id="gglegend" class="section level2">
<h2>gglegend</h2>
<a id="gglegend_alias"></a>
<h3>
Plot only legend of plot function
</h3>
<h4>
Usage
</h4>
<pre class="r"><code><div>gglegend(fn)</div></code></pre>
<h4>
Arguments
</h4>
<dl class="rd-dl">
<dt>
fn
</dt>
<dd class="rd-dd">
this value is passed directly to an empty <code><a href=#wrap>wrap</a></code> call. Please see <code>?<a href=#wrap>wrap</a></code> for more details.
</dd>
</dl>
<h4>
Value
</h4>
<p class="rd-p">
<dl>
a function that when called with arguements will produce the legend of the plotting function supplied.
</dl>
</p>
<h4>
Examples
</h4>
<pre class="r"><code># display regular plot
ggally_points(iris, ggplot2::aes(Sepal.Length, Sepal.Width, color = Species))

# Make a function that will only print the legend
points_legend &lt;- gglegend(ggally_points)
points_legend(iris, ggplot2::aes(Sepal.Length, Sepal.Width, color = Species))

# produce the sample legend plot, but supply a string that &#39;wrap&#39; understands
same_points_legend &lt;- gglegend(&quot;points&quot;)
identical(
  attr(attr(points_legend, &quot;fn&quot;), &quot;original_fn&quot;),
  attr(attr(same_points_legend, &quot;fn&quot;), &quot;original_fn&quot;)
)</code></pre>
<pre><code>## [1] TRUE</code></pre>
<pre class="r"><code># Complicated examples
custom_legend &lt;- wrap(gglegend(&quot;points&quot;), size = 6)
custom_legend(iris, ggplot2::aes(Sepal.Length, Sepal.Width, color = Species))</code></pre>
<p><img src="rd_files/figure-html/gglegend_id_11-1.png" width="960" /></p>
<pre class="r"><code># Use within ggpairs
pm &lt;- ggpairs(
  iris, 1:2,
  mapping = ggplot2::aes(color = Species),
  upper = list(continuous = gglegend(&quot;points&quot;))
)
# pm

# Place a legend in a specific location
pm &lt;- ggpairs(iris, 1:2, mapping = ggplot2::aes(color = Species))
# Make the legend
pm[1,2] &lt;- points_legend(iris, ggplot2::aes(Sepal.Width, Sepal.Length, color = Species))
pm</code></pre>
<p><img src="rd_files/figure-html/gglegend_id_11-2.png" width="960" /></p>
</div>
<div id="ggmatrix-1" class="section level2">
<h2>[&lt;-.ggmatrix</h2>
<a id="putPlot_alias"></a>
<h3>
Put Plot
</h3>
<p class="rd-p">
Function to place your own plot in the layout.
</p>
<h4>
Usage
</h4>
<pre class="r"><code><div>putPlot(pm, value, i, j)</div>
<div>"["(pm, i, j, ...) <- value</div></code></pre>
<h4>
Arguments
</h4>
<dl class="rd-dl">
<dt>
pm
</dt>
<dd class="rd-dd">
ggally object to be altered
</dd>
<dt>
value
</dt>
<dd class="rd-dd">
ggplot object to be placed
</dd>
<dt>
i
</dt>
<dd class="rd-dd">
row from the top
</dd>
<dt>
j
</dt>
<dd class="rd-dd">
column from the left
</dd>
<dt>
…
</dt>
<dd class="rd-dd">
ignored
</dd>
</dl>
<h4>
Examples
</h4>
<pre class="r"><code>custom_car &lt;- ggpairs(mtcars[, c(&quot;mpg&quot;, &quot;wt&quot;, &quot;cyl&quot;)], upper = &quot;blank&quot;, title = &quot;Custom Example&quot;)
# ggplot example taken from example(geom_text)
  plot &lt;- ggplot2::ggplot(mtcars, ggplot2::aes(x=wt, y=mpg, label=rownames(mtcars)))
  plot &lt;- plot +
    ggplot2::geom_text(ggplot2::aes(colour=factor(cyl)), size = 3) +
    ggplot2::scale_colour_discrete(l=40)
custom_car[1, 2] &lt;- plot
personal_plot &lt;- ggally_text(
  &quot;ggpairs allows you\nto put in your\nown plot.\nLike that one.\n &lt;---&quot;
)
custom_car[1, 3] &lt;- personal_plot
# custom_car

# remove plots after creating a plot matrix
custom_car[2,1] &lt;- NULL
custom_car[3,1] &lt;- &quot;blank&quot; # the same as storing null
custom_car[3,2] &lt;- NULL
custom_car</code></pre>
<p><img src="rd_files/figure-html/putPlot_id_12-1.png" width="960" /></p>
<h4>
Author
</h4>
<p>Barret Schloerke <a href='mailto:schloerke@gmail.com'>schloerke@gmail.com</a></p>
</div>
<div id="ggmatrix-2" class="section level2">
<h2>[.ggmatrix</h2>
<a id="getPlot_alias"></a>
<h3>
getPlot
</h3>
<p class="rd-p">
Retrieves the ggplot object at the desired location.
</p>
<h4>
Usage
</h4>
<pre class="r"><code><div>getPlot(pm, i, j)</div>
<div>"["(pm, i, j, ...)</div></code></pre>
<h4>
Arguments
</h4>
<dl class="rd-dl">
<dt>
pm
</dt>
<dd class="rd-dd">
ggpair object to select from
</dd>
<dt>
i
</dt>
<dd class="rd-dd">
row from the top
</dd>
<dt>
j
</dt>
<dd class="rd-dd">
column from the left
</dd>
<dt>
…
</dt>
<dd class="rd-dd">
ignored
</dd>
</dl>
<h4>
Examples
</h4>
<pre class="r"><code> data(tips, package = &quot;reshape&quot;)
 plotMatrix2 &lt;- ggpairs(tips[, 3:2], upper = list(combo = &quot;denstrip&quot;))
 plotMatrix2[1, 2]</code></pre>
<pre><code>## `stat_bin()` using `bins = 30`. Pick better value with `binwidth`.</code></pre>
<pre><code>## Warning: Removed 22 rows containing missing values (geom_bar).</code></pre>
<p><img src="rd_files/figure-html/getPlot_id_13-1.png" width="960" /></p>
<h4>
Author
</h4>
<p>Barret Schloerke <a href='mailto:schloerke@gmail.com'>schloerke@gmail.com</a></p>
</div>
<div id="gg-add" class="section level2">
<h2>gg-add</h2>
<a id="gg-add_alias"></a>
<h3>
Modify a ggmatrix object by adding an ggplot2 object to all plots
</h3>
<p class="rd-p">
This operator allows you to add ggplot2 objects to a ggmatrix object.
</p>
<h4>
Usage
</h4>
<pre class="r"><code><div>"+"(e1, e2)</div></code></pre>
<h4>
Arguments
</h4>
<dl class="rd-dl">
<dt>
e1
</dt>
<dd class="rd-dd">
An object of class <code>ggplot</code> or <code>theme</code>
</dd>
<dt>
e2
</dt>
<dd class="rd-dd">
A component to add to <code>e1</code>
</dd>
</dl>
<h4>
Details
</h4>
<p class="rd-p">
If the first object is an object of class <code>ggmatrix</code>, you can add the following types of objects, and it will return a modified ggplot object.
</p>
<p class="rd-p">
<ul>
<li>
<code>theme</code>: update plot theme
</li>
</ul>
</p>
<p class="rd-p">
The <code>+</code> operator completely replaces elements with elements from e2.
</p>
<h4>
Examples
</h4>
<pre class="r"><code>data(tips, package = &quot;reshape&quot;)
pm &lt;- ggpairs(tips[, 2:3])
## change to black and white theme
pm + ggplot2::theme_bw()</code></pre>
<pre><code>## `stat_bin()` using `bins = 30`. Pick better value with `binwidth`.</code></pre>
<p><img src="rd_files/figure-html/gg-add_id_14-1.png" width="960" /></p>
<pre class="r"><code>## change to linedraw theme
# pm + ggplot2::theme_linedraw()
## change to custom theme
# pm + ggplot2::theme(panel.background = ggplot2::element_rect(fill = &quot;lightblue&quot;))</code></pre>
<h4>
See also
</h4>
<p><code><a href=http://www.rdocumentation.org/packages/ggplot2/topics/gg-add>+.gg</a></code> and <code><a href=http://www.rdocumentation.org/packages/ggplot2/topics/theme>theme</a></code></p>
</div>
<div id="mapping_color_to_fill" class="section level2">
<h2>mapping_color_to_fill</h2>
<a id="mapping_color_to_fill_alias"></a>
<h3>
Aesthetic Mapping Color Fill
</h3>
<p class="rd-p">
Replace the fill with the color and make color NULL.
</p>
<h4>
Usage
</h4>
<pre class="r"><code><div>mapping_color_to_fill(current)</div></code></pre>
<h4>
Arguments
</h4>
<dl class="rd-dl">
<dt>
current
</dt>
<dd class="rd-dd">
the current aesthetics
</dd>
</dl>
</div>
<div id="str.ggmatrix" class="section level2">
<h2>str.ggmatrix</h2>
<a id="str.ggmatrix_alias"></a>
<h3>
ggmatrix structure
</h3>
<p class="rd-p">
View the condensed version of the ggmatrix object. The attribute “class” is ALWAYS altered to “_class&quot; to avoid recursion.
</p>
<h4>
Usage
</h4>
<pre class="r"><code><div>"str"(object, ..., raw&nbsp;=&nbsp;FALSE)</div></code></pre>
<h4>
Arguments
</h4>
<dl class="rd-dl">
<dt>
object
</dt>
<dd class="rd-dd">
ggmatrix object to be viewed
</dd>
<dt>
…
</dt>
<dd class="rd-dd">
passed on to the default str method
</dd>
<dt>
raw
</dt>
<dd class="rd-dd">
boolean to determine if the plots should be converted to text or kept as original objects
</dd>
</dl>
</div>
<div id="print_if_interactive" class="section level2">
<h2>print_if_interactive</h2>
<a id="print_if_interactive_alias"></a>
<h3>
Print if not CRAN
</h3>
<p class="rd-p">
Small function to print a plot if the R session is interactive or in a travis build
</p>
<h4>
Usage
</h4>
<pre class="r"><code><div>print_if_interactive(p)</div></code></pre>
<h4>
Arguments
</h4>
<dl class="rd-dl">
<dt>
p
</dt>
<dd class="rd-dd">
plot to be displayed
</dd>
</dl>
</div>
</div>
<div id="model-diagnostics" class="section level1">
<h1>Model Diagnostics</h1>
<div id="ggnostic" class="section level2">
<h2>ggnostic</h2>
<a id="ggnostic_alias"></a>
<h3>
ggnostic - Plot matrix of statistical model diagnostics
</h3>
<h4>
Usage
</h4>
<pre class="r"><code><div>ggnostic(model, ..., columnsX&nbsp;=&nbsp;attr(data, "var_x"), columnsY&nbsp;=&nbsp;c(".resid", ".sigma", ".hat", ".cooksd"), columnLabelsX&nbsp;=&nbsp;attr(data, "var_x_label"), columnLabelsY&nbsp;=&nbsp;gsub("\\.", " ", gsub("^\\.", "", columnsY)), xlab&nbsp;=&nbsp;"explanatory variables", ylab&nbsp;=&nbsp;"diagnostics", title&nbsp;=&nbsp;paste(deparse(model$call), collapse&nbsp;=&nbsp;"\n"), continuous&nbsp;=&nbsp;list(default&nbsp;=&nbsp;ggally_points, .fitted&nbsp;=&nbsp;ggally_points, .se.fit &nbsp;=&nbsp;ggally_nostic_se_fit, .resid&nbsp;=&nbsp;ggally_nostic_resid, .hat = ggally_nostic_hat, .sigma&nbsp;=&nbsp;ggally_nostic_sigma, .cooksd = ggally_nostic_cooksd, .std.resid&nbsp;=&nbsp;ggally_nostic_std_resid), combo&nbsp;=&nbsp;list(default&nbsp;=&nbsp;ggally_box_no_facet, fitted&nbsp;=&nbsp;ggally_box_no_facet, .se.fit&nbsp;=&nbsp;ggally_nostic_se_fit, .resid&nbsp;=&nbsp;ggally_nostic_resid, .hat = ggally_nostic_hat, .sigma&nbsp;=&nbsp;ggally_nostic_sigma, .cooksd = ggally_nostic_cooksd, .std.resid&nbsp;=&nbsp;ggally_nostic_std_resid), discrete&nbsp;=&nbsp;list(default&nbsp;=&nbsp;ggally_ratio, .fitted&nbsp;=&nbsp;ggally_ratio, .se.fit = ggally_ratio, .resid&nbsp;=&nbsp;ggally_ratio, .hat&nbsp;=&nbsp;ggally_ratio, .sigma = ggally_ratio, .cooksd&nbsp;=&nbsp;ggally_ratio, .std.resid&nbsp;=&nbsp;ggally_ratio), data&nbsp;=&nbsp;broomify(model))</div></code></pre>
<h4>
Arguments
</h4>
<dl class="rd-dl">
<dt>
model
</dt>
<dd class="rd-dd">
statistical model object such as output from <code>stats::<a href=http://www.rdocumentation.org/packages/stats/topics/lm>lm</a></code> or <code>stats::<a href=http://www.rdocumentation.org/packages/stats/topics/glm>glm</a></code>
</dd>
<dt>
…
</dt>
<dd class="rd-dd">
arguments passed directly to <code><a href=#ggduo>ggduo</a></code>
</dd>
<dt>
columnsX
</dt>
<dd class="rd-dd">
columns to be displayed in the plot matrix. Defaults to the predictor columns of the <code>model</code>
</dd>
<dt>
columnsY
</dt>
<dd class="rd-dd">
rows to be displayed in the plot matrix. Defaults to residuals, leave one out sigma value, diagonal of the hat matrix, and Cooks Distance. The possible values are the response variables in the model and the added columnsm provided by <code>broom::<a href=http://www.rdocumentation.org/packages/broom/topics/augment>augment</a>(model)</code>. See details for more information.
</dd>
<dt>
columnLabelsX, columnLabelsY
</dt>
<dd class="rd-dd">
column and row labels to display in the plot matrix
</dd>
<dt>
xlab, ylab, title
</dt>
<dd class="rd-dd">
plot matrix labels passed directly to <code><a href=#ggmatrix>ggmatrix</a></code>
</dd>
<dt>
continuous, combo, discrete
</dt>
<dd class="rd-dd">
list of functions for each y varaible. See details for more information.
</dd>
<dt>
data
</dt>
<dd class="rd-dd">
data defaults to a broomifyed model object. This object will contain information about the X variables, Y variables, and multiple broom outputs. See <code><a href=#broomify>broomify</a>(model)</code> for more information
</dd>
</dl>
<h4>
<code>columnsY</code>
</h4>
<p class="rd-p">
</p>
<p class="rd-p">
<code>broom::<a href=http://www.rdocumentation.org/packages/broom/topics/augment>augment</a>()</code> collects data from the supplied model and returns a data.frame with the following columns (taken direclty from broom documentation). These columns are the only allowed values in the <code>columnsY</code> parameter to <code>ggnostic</code>.
</p>
<p class="rd-p">
<dl>
</p>
<p class="rd-p">
<dt>
.resid
</dt>
<dd>
Residuals
</dd>
</p>
<p class="rd-p">
<dt>
.hat
</dt>
<dd>
Diagonal of the hat matrix
</dd>
</p>
<p class="rd-p">
<dt>
.sigma
</dt>
<dd>
Estimate of residual standard deviation when corresponding observation is dropped from model
</dd>
</p>
<p class="rd-p">
<dt>
.cooksd
</dt>
<dd>
Cooks distance, <code><a href=http://www.rdocumentation.org/packages/stats/topics/influence.measures>cooks.distance</a></code>
</dd>
</p>
<p class="rd-p">
<dt>
.fitted
</dt>
<dd>
Fitted values of model
</dd>
</p>
<p class="rd-p">
<dt>
.se.fit
</dt>
<dd>
Standard errors of fitted values
</dd>
</p>
<p class="rd-p">
<dt>
.std.resid
</dt>
<dd>
Standardised residuals
</dd>
</p>
<p class="rd-p">
<dt>
response variable name
</dt>
<dd>
The response variable in the model may be added. Such as <code>“mpg”</code> in the model <code>lm(mpg ~ ., data = mtcars)</code>
</dd>
</p>
<p class="rd-p">
</dl>
</p>
<p class="rd-p">
</p>
<h4>
<code>continuous</code>, <code>combo</code>, <code>discrete</code> types
</h4>
<p class="rd-p">
</p>
<p class="rd-p">
Similar to <code><a href=#ggduo>ggduo</a></code> and <code><a href=#ggpairs>ggpairs</a></code>, functions may be supplied to display the different column types. However, since the Y rows are fixed, each row has its own corresponding function in each of the plot types: continuous, combo, and discrete. Each plot type list can have keys that correspond to the <code>broom::<a href=http://www.rdocumentation.org/packages/broom/topics/augment>augment</a>()</code> output: <code>“.fitted”</code>, <code>“.resid”</code>, <code>“.std.resid”</code>, <code>“.sigma”</code>, <code>“.se.fit”</code>, <code>“.hat”</code>, <code>“.cooksd”</code>. An extra key, <code>“default”</code>, is used to plot the response variables of the model if they are included. Having a function for each diagnostic allows for very fine control over the diagnostics plot matrix. The functions for each type list are wrapped into a switch function that calls the function corresponding to the y variable being plotted. These switch functions are then passed directly to the <code>types</code> parameter in <code><a href=#ggduo>ggduo</a></code>.
</p>
<h4>
Examples
</h4>
<pre class="r"><code># small function to display plots only if it&#39;s interactive
p_ &lt;- GGally::print_if_interactive
data(mtcars)

# use mtcars dataset and alter the &#39;am&#39; column to display actual name values
mtc &lt;- mtcars
mtc$am &lt;- c(&quot;0&quot; = &quot;automatic&quot;, &quot;1&quot; = &quot;manual&quot;)[as.character(mtc$am)]

# step the complete model down to a smaller model
mod &lt;- stats::step(stats::lm(mpg ~ ., data = mtc), trace = FALSE)

# display using defaults
pm &lt;- ggnostic(mod)
p_(pm)</code></pre>
<pre><code>## `geom_smooth()` using method = &#39;loess&#39;
## `geom_smooth()` using method = &#39;loess&#39;</code></pre>
<p><img src="rd_files/figure-html/ggnostic_id_18-1.png" width="960" /></p>
<pre class="r"><code># color by am value
pm &lt;- ggnostic(mod, mapping = ggplot2::aes(color = am))
p_(pm)</code></pre>
<pre><code>## `geom_smooth()` using method = &#39;loess&#39;
## `geom_smooth()` using method = &#39;loess&#39;</code></pre>
<p><img src="rd_files/figure-html/ggnostic_id_18-2.png" width="960" /></p>
<pre class="r"><code># turn resid smooth error ribbon off
pm &lt;- ggnostic(mod, continuous = list(.resid = wrap(&quot;nostic_resid&quot;, se = FALSE)))
p_(pm)</code></pre>
<pre><code>## `geom_smooth()` using method = &#39;loess&#39;
## `geom_smooth()` using method = &#39;loess&#39;</code></pre>
<p><img src="rd_files/figure-html/ggnostic_id_18-3.png" width="960" /></p>
</div>
<div id="broomify" class="section level2">
<h2>broomify</h2>
<a id="broomify_alias"></a>
<h3>
Broomify a model
</h3>
<p class="rd-p">
broom::augment a model and add broom::glance and broom::tidy output as attributes. X and Y variables are also added.
</p>
<h4>
Usage
</h4>
<pre class="r"><code><div>broomify(model)</div></code></pre>
<h4>
Arguments
</h4>
<dl class="rd-dl">
<dt>
model
</dt>
<dd class="rd-dd">
model to be sent to <code>broom::<a href=http://www.rdocumentation.org/packages/broom/topics/augment>augment</a></code>, <code>broom::<a href=http://www.rdocumentation.org/packages/broom/topics/glance>glance</a></code>, and <code>broom::<a href=http://www.rdocumentation.org/packages/broom/topics/tidy>tidy</a></code>
</dd>
</dl>
<h4>
Value
</h4>
<p class="rd-p">
<dl>
broom::augmented data frame with the broom::glance data.frame and broom::tidy data.frame as broom_glance and broom_tidy attributes respectively. <code>var_x</code> and <code>var_y</code> variables are also added as attributes
</dl>
</p>
<h4>
Examples
</h4>
<pre class="r"><code>data(mtcars)
model &lt;- stats::lm(mpg ~ wt + qsec + am, data = mtcars)
broomified_model &lt;- broomify(model)
str(broomified_model)</code></pre>
<pre><code>## Classes &#39;broomify&#39; and &#39;data.frame&#39;: 32 obs. of  12 variables:
##  $ .rownames : chr  &quot;Mazda RX4&quot; &quot;Mazda RX4 Wag&quot; &quot;Datsun 710&quot; &quot;Hornet 4 Drive&quot; ...
##  $ mpg       : num  21 21 22.8 21.4 18.7 18.1 14.3 24.4 22.8 19.2 ...
##  $ wt        : num  2.62 2.88 2.32 3.21 3.44 ...
##  $ qsec      : num  16.5 17 18.6 19.4 17 ...
##  $ am        : num  1 1 1 0 0 0 0 0 0 0 ...
##  $ .fitted   : num  22.5 22.2 26.3 20.9 17 ...
##  $ .se.fit   : num  0.72 0.744 0.76 0.685 0.749 ...
##  $ .resid    : num  -1.47 -1.158 -3.481 0.543 1.69 ...
##  $ .hat      : num  0.0857 0.0914 0.0955 0.0776 0.0927 ...
##  $ .sigma    : num  2.49 2.49 2.4 2.5 2.48 ...
##  $ .cooksd   : num  0.00916 0.00614 0.05847 0.00111 0.0133 ...
##  $ .std.resid: num  -0.625 -0.494 -1.489 0.23 0.722 ...
##  - attr(*, &quot;broom_glance&quot;)=&#39;data.frame&#39;: 1 obs. of  11 variables:
##   ..$ r.squared    : num 0.85
##   ..$ adj.r.squared: num 0.834
##   ..$ sigma        : num 2.46
##   ..$ statistic    : num 52.7
##   ..$ p.value      : num 1.21e-11
##   ..$ df           : int 4
##   ..$ logLik       : num -72.1
##   ..$ AIC          : num 154
##   ..$ BIC          : num 161
##   ..$ deviance     : num 169
##   ..$ df.residual  : int 28
##  - attr(*, &quot;broom_tidy&quot;)=&#39;data.frame&#39;:   4 obs. of  5 variables:
##   ..$ term     : chr  &quot;(Intercept)&quot; &quot;wt&quot; &quot;qsec&quot; &quot;am&quot;
##   ..$ estimate : num  9.62 -3.92 1.23 2.94
##   ..$ std.error: num  6.96 0.711 0.289 1.411
##   ..$ statistic: num  1.38 -5.51 4.25 2.08
##   ..$ p.value  : num  1.78e-01 6.95e-06 2.16e-04 4.67e-02
##  - attr(*, &quot;var_x&quot;)= chr  &quot;wt&quot; &quot;qsec&quot; &quot;am&quot;
##  - attr(*, &quot;var_y&quot;)= chr &quot;mpg&quot;
##  - attr(*, &quot;var_x_label&quot;)= chr  &quot;wt***&quot; &quot;qsec***&quot; &quot;am*&quot;</code></pre>
</div>
<div id="ggally_nostic_cooksd" class="section level2">
<h2>ggally_nostic_cooksd</h2>
<a id="ggally_nostic_cooksd_alias"></a>
<h3>
ggnostic - Cook’s distance
</h3>
<p class="rd-p">
A function to display <code>stats::<a href='http://www.rdocumentation.org/packages/stats/topics/influence.measures'>cooks.distance</a></code>.
</p>
<h4>
Usage
</h4>
<pre class="r"><code><div>ggally_nostic_cooksd(data, mapping, ..., linePosition&nbsp;=&nbsp;4/nrow(data), lineColor&nbsp;=&nbsp;brew_colors("grey"), lineType&nbsp;=&nbsp;2)</div></code></pre>
<h4>
Arguments
</h4>
<dl class="rd-dl">
<dt>
data, mapping, …, lineColor, lineType
</dt>
<dd class="rd-dd">
parameters supplied to <code><a href=#ggally_nostic_line>ggally_nostic_line</a></code>
</dd>
<dt>
linePosition
</dt>
<dd class="rd-dd">
4 / n is the general cutoff point for Cooks Distance
</dd>
</dl>
<h4>
Value
</h4>
<p class="rd-p">
<dl>
ggplot2 plot object
</dl>
</p>
<h4>
Details
</h4>
<p class="rd-p">
A line is added at 4 / n to display the general cutoff point for Cooks Distance.
</p>
<p class="rd-p">
Reference: Cook, R. Dennis; Weisberg, Sanford (1982). Residuals and Influence in Regression. New York, NY: Chapman &amp; Hall. ISBN 0-412-24280-X
</p>
<h4>
Examples
</h4>
<pre class="r"><code>dt &lt;- broomify(stats::lm(mpg ~ wt + qsec + am, data = mtcars))
ggally_nostic_cooksd(dt, ggplot2::aes(wt, .cooksd))</code></pre>
<p><img src="rd_files/figure-html/ggally_nostic_cooksd_id_20-1.png" width="960" /></p>
<h4>
See also
</h4>
<p><code>stats::<a href=http://www.rdocumentation.org/packages/stats/topics/influence.measures>cooks.distance</a></code></p>
</div>
<div id="ggally_nostic_hat" class="section level2">
<h2>ggally_nostic_hat</h2>
<a id="ggally_nostic_hat_alias"></a>
<h3>
ggnostic - leverage points
</h3>
<p class="rd-p">
A function to display stats::influence’s hat information against a given explanatory variable.
</p>
<h4>
Usage
</h4>
<pre class="r"><code><div>ggally_nostic_hat(data, mapping, ..., linePosition&nbsp;=&nbsp;2 * sum(data[[deparse(mapping$y)]])/nrow(data), lineColor&nbsp;=&nbsp;brew_colors("grey"), lineSize&nbsp;=&nbsp;0.5, lineAlpha&nbsp;=&nbsp;1, lineType&nbsp;=&nbsp;2, avgLinePosition&nbsp;=&nbsp;sum(data[[deparse(mapping$y)]])/nrow(data), avgLineColor&nbsp;=&nbsp;brew_colors("grey"), avgLineSize&nbsp;=&nbsp;lineSize, avgLineAlpha&nbsp;=&nbsp;lineAlpha, avgLineType&nbsp;=&nbsp;1)</div></code></pre>
<h4>
Arguments
</h4>
<dl class="rd-dl">
<dt>
data, mapping, …
</dt>
<dd class="rd-dd">
supplied directly to <code><a href=#ggally_nostic_line>ggally_nostic_line</a></code>
</dd>
<dt>
linePosition, lineColor, lineSize, lineAlpha, lineType
</dt>
<dd class="rd-dd">
parameters supplied to <code>ggplot2::<a href=http://www.rdocumentation.org/packages/ggplot2/topics/geom_path>geom_line</a></code> for the cutoff line
</dd>
<dt>
avgLinePosition, avgLineColor, avgLineSize, avgLineAlpha, avgLineType
</dt>
<dd class="rd-dd">
parameters supplied to <code>ggplot2::<a href=http://www.rdocumentation.org/packages/ggplot2/topics/geom_path>geom_line</a></code> for the average line
</dd>
</dl>
<h4>
Value
</h4>
<p class="rd-p">
<dl>
ggplot2 plot object
</dl>
</p>
<h4>
Details
</h4>
<p class="rd-p">
As stated in <code>stats::<a href=http://www.rdocumentation.org/packages/stats/topics/lm.influence>influence</a></code> documentation:
</p>
<p class="rd-p">
hat: a vector containing the diagonal of the hat matrix.
</p>
<p class="rd-p">
The diagonal elements of the hat matrix describe the influence each response value has on the fitted value for that same observation.
</p>
<p class="rd-p">
A suggested “cutoff” line is added to the plot at a height of 2 * p / n and an expected line at a height of p / n. If either <code>linePosition</code> or <code>avgLinePosition</code> is <code>NULL</code>, the respective line will not be drawn.
</p>
<h4>
Examples
</h4>
<pre class="r"><code>dt &lt;- broomify(stats::lm(mpg ~ wt + qsec + am, data = mtcars))
ggally_nostic_hat(dt, ggplot2::aes(wt, .hat))</code></pre>
<p><img src="rd_files/figure-html/ggally_nostic_hat_id_21-1.png" width="960" /></p>
<h4>
See also
</h4>
<p><code>stats::<a href=http://www.rdocumentation.org/packages/stats/topics/lm.influence>influence</a></code></p>
</div>
<div id="ggally_nostic_line" class="section level2">
<h2>ggally_nostic_line</h2>
<a id="ggally_nostic_line_alias"></a>
<h3>
ggnostic -background line with geom
</h3>
<p class="rd-p">
If a non-null <code>linePosition</code> value is given, a line will be drawn before the given <code>continuous_geom</code> or <code>combo_geom</code> is added to the plot.
</p>
<h4>
Usage
</h4>
<pre class="r"><code><div>ggally_nostic_line(data, mapping, ..., linePosition&nbsp;=&nbsp;NULL, lineColor&nbsp;=&nbsp;"red", lineSize&nbsp;=&nbsp;0.5, lineAlpha&nbsp;=&nbsp;1, lineType&nbsp;=&nbsp;1, continuous_geom&nbsp;=&nbsp;ggplot2::geom_point, combo_geom&nbsp;=&nbsp;ggplot2::geom_boxplot, mapColorToFill&nbsp;=&nbsp;TRUE)</div></code></pre>
<h4>
Arguments
</h4>
<dl class="rd-dl">
<dt>
data, mapping
</dt>
<dd class="rd-dd">
supplied directly to <code>ggplot2::<a href=http://www.rdocumentation.org/packages/ggplot2/topics/ggplot>ggplot</a>(data, mapping)</code>
</dd>
<dt>
…
</dt>
<dd class="rd-dd">
parameters supplied to <code>continuous_geom</code> or <code>combo_geom</code>
</dd>
<dt>
linePosition, lineColor, lineSize, lineAlpha, lineType
</dt>
<dd class="rd-dd">
parameters supplied to <code>ggplot2::<a href=http://www.rdocumentation.org/packages/ggplot2/topics/geom_path>geom_line</a></code>
</dd>
<dt>
continuous_geom
</dt>
<dd class="rd-dd">
ggplot2 geom that is executed after the line is (possibly) added and if the x data is continous
</dd>
<dt>
combo_geom
</dt>
<dd class="rd-dd">
ggplot2 geom that is executed after the line is (possibly) added and if the x data is discrete
</dd>
<dt>
mapColorToFill
</dt>
<dd class="rd-dd">
boolean to determine if combo plots should cut the color mapping to the fill mapping
</dd>
</dl>
<h4>
Value
</h4>
<p class="rd-p">
<dl>
ggplot2 plot object
</dl>
</p>
<h4>
Details
</h4>
<p class="rd-p">
Functions with a color in their name have different default color behavior.
</p>
</div>
<div id="ggally_nostic_resid" class="section level2">
<h2>ggally_nostic_resid</h2>
<a id="ggally_nostic_resid_alias"></a>
<h3>
ggnostic - residuals
</h3>
<p class="rd-p">
If non-null <code>pVal</code> and <code>sigma</code> values are given, confidence interval lines will be added to the plot at the specified <code>pVal</code> percentiles of a N(0, sigma) distribution.
</p>
<h4>
Usage
</h4>
<pre class="r"><code><div>ggally_nostic_resid(data, mapping, ..., linePosition&nbsp;=&nbsp;0, lineColor&nbsp;=&nbsp;brew_colors("grey"), lineSize&nbsp;=&nbsp;0.5, lineAlpha&nbsp;=&nbsp;1, lineType&nbsp;=&nbsp;1, lineConfColor&nbsp;=&nbsp;brew_colors("grey"), lineConfSize&nbsp;=&nbsp;lineSize, lineConfAlpha&nbsp;=&nbsp;lineAlpha, lineConfType&nbsp;=&nbsp;2, pVal&nbsp;=&nbsp;c(0.025, 0.975), sigma&nbsp;=&nbsp;attr(data, "broom_glance")$sigma, se&nbsp;=&nbsp;TRUE, method&nbsp;=&nbsp;"auto")</div></code></pre>
<h4>
Arguments
</h4>
<dl class="rd-dl">
<dt>
data, mapping, …
</dt>
<dd class="rd-dd">
parameters supplied to <code><a href=#ggally_nostic_line>ggally_nostic_line</a></code>
</dd>
<dt>
linePosition, lineColor, lineSize, lineAlpha, lineType
</dt>
<dd class="rd-dd">
parameters supplied to <code>ggplot2::<a href=http://www.rdocumentation.org/packages/ggplot2/topics/geom_path>geom_line</a></code>
</dd>
<dt>
lineConfColor, lineConfSize, lineConfAlpha, lineConfType
</dt>
<dd class="rd-dd">
parameters supplied to the confidence interval lines
</dd>
<dt>
pVal
</dt>
<dd class="rd-dd">
percentiles of a N(0, sigma) distribution to be drawn
</dd>
<dt>
sigma
</dt>
<dd class="rd-dd">
sigma value for the <code>pVal</code> percentiles
</dd>
<dt>
se
</dt>
<dd class="rd-dd">
boolen to determine if the confidence intervals should be displayed
</dd>
<dt>
method
</dt>
<dd class="rd-dd">
parameter supplied to <code>ggplot2::<a href=http://www.rdocumentation.org/packages/ggplot2/topics/geom_smooth>geom_smooth</a></code>. Defaults to <code>“auto”</code>
</dd>
</dl>
<h4>
Value
</h4>
<p class="rd-p">
<dl>
ggplot2 plot object
</dl>
</p>
<h4>
Examples
</h4>
<pre class="r"><code>dt &lt;- broomify(stats::lm(mpg ~ wt + qsec + am, data = mtcars))
ggally_nostic_resid(dt, ggplot2::aes(wt, .resid))</code></pre>
<pre><code>## `geom_smooth()` using method = &#39;loess&#39;</code></pre>
<p><img src="rd_files/figure-html/ggally_nostic_resid_id_23-1.png" width="960" /></p>
<h4>
See also
</h4>
<p><code>stats::<a href=http://www.rdocumentation.org/packages/stats/topics/residuals>residuals</a></code></p>
</div>
<div id="ggally_nostic_se_fit" class="section level2">
<h2>ggally_nostic_se_fit</h2>
<a id="ggally_nostic_se_fit_alias"></a>
<h3>
ggnostic - fitted value standard error
</h3>
<p class="rd-p">
A function to display <code>stats::<a href='http://www.rdocumentation.org/packages/stats/topics/predict'>predict</a></code>’s standard errors
</p>
<h4>
Usage
</h4>
<pre class="r"><code><div>ggally_nostic_se_fit(data, mapping, ..., lineColor&nbsp;=&nbsp;brew_colors("grey"), linePosition&nbsp;=&nbsp;NULL)</div></code></pre>
<h4>
Arguments
</h4>
<dl class="rd-dl">
<dt>
data, mapping, …, lineColor
</dt>
<dd class="rd-dd">
parameters supplied to <code><a href=#ggally_nostic_line>ggally_nostic_line</a></code>
</dd>
<dt>
linePosition
</dt>
<dd class="rd-dd">
base comparison for a perfect fit
</dd>
</dl>
<h4>
Value
</h4>
<p class="rd-p">
<dl>
ggplot2 plot object
</dl>
</p>
<h4>
Details
</h4>
<p class="rd-p">
As stated in <code>stats::<a href=http://www.rdocumentation.org/packages/stats/topics/predict>predict</a></code> documentation:
</p>
<p class="rd-p">
If the logical se.fit is TRUE, standard errors of the predictions are calculated. If the numeric argument scale is set (with optional df), it is used as the residual standard deviation in the computation of the standard errors, otherwise this is extracted from the model fit.
</p>
<p class="rd-p">
Since the se.fit is <code>TRUE</code> and scale is unset by default, the standard errors are extracted from the model fit.
</p>
<p class="rd-p">
A base line of 0 is added to give reference to a perfect fit.
</p>
<h4>
Examples
</h4>
<pre class="r"><code>dt &lt;- broomify(stats::lm(mpg ~ wt + qsec + am, data = mtcars))
ggally_nostic_se_fit(dt, ggplot2::aes(wt, .se.fit))</code></pre>
<p><img src="rd_files/figure-html/ggally_nostic_se_fit_id_24-1.png" width="960" /></p>
<h4>
See also
</h4>
<p><code>stats::<a href=http://www.rdocumentation.org/packages/stats/topics/lm.influence>influence</a></code></p>
</div>
<div id="ggally_nostic_sigma" class="section level2">
<h2>ggally_nostic_sigma</h2>
<a id="ggally_nostic_sigma_alias"></a>
<h3>
ggnostic - leave one out model sigma
</h3>
<p class="rd-p">
A function to display <code>stats::<a href='http://www.rdocumentation.org/packages/stats/topics/lm.influence'>influence</a></code>’s sigma value.
</p>
<h4>
Usage
</h4>
<pre class="r"><code><div>ggally_nostic_sigma(data, mapping, ..., lineColor&nbsp;=&nbsp;brew_colors("grey"), linePosition&nbsp;=&nbsp;attr(data, "broom_glance")$sigma)</div></code></pre>
<h4>
Arguments
</h4>
<dl class="rd-dl">
<dt>
data, mapping, …, lineColor
</dt>
<dd class="rd-dd">
parameters supplied to <code><a href=#ggally_nostic_line>ggally_nostic_line</a></code>
</dd>
<dt>
linePosition
</dt>
<dd class="rd-dd">
line that is drawn in the background of the plot. Defaults to the overall models sigma value.
</dd>
</dl>
<h4>
Value
</h4>
<p class="rd-p">
<dl>
ggplot2 plot object
</dl>
</p>
<h4>
Details
</h4>
<p class="rd-p">
As stated in <code>stats::<a href=http://www.rdocumentation.org/packages/stats/topics/lm.influence>influence</a></code> documentation:
</p>
<p class="rd-p">
sigma: a vector whose i-th element contains the estimate of the residual standard deviation obtained when the i-th case is dropped from the regression. (The approximations needed for GLMs can result in this being NaN.)
</p>
<p class="rd-p">
A line is added to display the overall models sigma value. This gives a baseline for comparison
</p>
<h4>
Examples
</h4>
<pre class="r"><code>dt &lt;- broomify(stats::lm(mpg ~ wt + qsec + am, data = mtcars))
ggally_nostic_sigma(dt, ggplot2::aes(wt, .sigma))</code></pre>
<p><img src="rd_files/figure-html/ggally_nostic_sigma_id_25-1.png" width="960" /></p>
<h4>
See also
</h4>
<p><code>stats::<a href=http://www.rdocumentation.org/packages/stats/topics/lm.influence>influence</a></code></p>
</div>
<div id="ggally_nostic_std_resid" class="section level2">
<h2>ggally_nostic_std_resid</h2>
<a id="ggally_nostic_std_resid_alias"></a>
<h3>
ggnostic - standardized residuals
</h3>
<p class="rd-p">
If non-null <code>pVal</code> and <code>sigma</code> values are given, confidence interval lines will be added to the plot at the specified <code>pVal</code> locations of a N(0, 1) distribution.
</p>
<h4>
Usage
</h4>
<pre class="r"><code><div>ggally_nostic_std_resid(data, mapping, ..., sigma&nbsp;=&nbsp;1)</div></code></pre>
<h4>
Arguments
</h4>
<dl class="rd-dl">
<dt>
data, mapping, …
</dt>
<dd class="rd-dd">
parameters supplied to <code><a href=#ggally_nostic_resid>ggally_nostic_resid</a></code>
</dd>
<dt>
sigma
</dt>
<dd class="rd-dd">
sigma value for the <code>pVal</code> percentiles. Set to 1 for standardized residuals
</dd>
</dl>
<h4>
Value
</h4>
<p class="rd-p">
<dl>
ggplot2 plot object
</dl>
</p>
<h4>
Examples
</h4>
<pre class="r"><code>dt &lt;- broomify(stats::lm(mpg ~ wt + qsec + am, data = mtcars))
ggally_nostic_std_resid(dt, ggplot2::aes(wt, .std.resid))</code></pre>
<pre><code>## `geom_smooth()` using method = &#39;loess&#39;</code></pre>
<p><img src="rd_files/figure-html/ggally_nostic_std_resid_id_26-1.png" width="960" /></p>
<h4>
See also
</h4>
<p><code>stats::<a href=http://www.rdocumentation.org/packages/stats/topics/influence.measures>rstandard</a></code></p>
</div>
</div>
<div id="major-plotting-functions" class="section level1">
<h1>Major Plotting Functions</h1>
<div id="ggcoef" class="section level2">
<h2>ggcoef</h2>
<a id="ggcoef_alias"></a>
<h3>
ggcoef - Plot Model Coefficients with broom and ggplot2
</h3>
<p class="rd-p">
Plot the coefficients of a model with <span class="pkg">broom</span> and <span class="pkg">ggplot2</span>.
</p>
<h4>
Usage
</h4>
<pre class="r"><code><div>ggcoef(x, mapping&nbsp;=&nbsp;aes_string(y&nbsp;=&nbsp;"term", x&nbsp;=&nbsp;"estimate"), conf.int&nbsp;=&nbsp;TRUE, conf.level&nbsp;=&nbsp;0.95, exponentiate&nbsp;=&nbsp;FALSE, exclude_intercept&nbsp;=&nbsp;FALSE, vline&nbsp;=&nbsp;TRUE, vline_intercept&nbsp;=&nbsp;"auto", vline_color&nbsp;=&nbsp;"gray50", vline_linetype&nbsp;=&nbsp;"dotted", vline_size&nbsp;=&nbsp;1, errorbar_color&nbsp;=&nbsp;"gray25", errorbar_height&nbsp;=&nbsp;0, errorbar_linetype&nbsp;=&nbsp;"solid", errorbar_size&nbsp;=&nbsp;0.5, ...)</div></code></pre>
<h4>
Arguments
</h4>
<dl class="rd-dl">
<dt>
x
</dt>
<dd class="rd-dd">
a model object to be tidied with <code><a href=http://www.rdocumentation.org/packages/broom/topics/tidy>tidy</a></code> or a data frame (see Details)
</dd>
<dt>
mapping
</dt>
<dd class="rd-dd">
default aesthetic mapping
</dd>
<dt>
conf.int
</dt>
<dd class="rd-dd">
display confidence intervals as error bars?
</dd>
<dt>
conf.level
</dt>
<dd class="rd-dd">
level of confidence intervals (passed to <code><a href=http://www.rdocumentation.org/packages/broom/topics/tidy>tidy</a></code> if <code>x</code> is not a data frame)
</dd>
<dt>
exponentiate
</dt>
<dd class="rd-dd">
if <code>TRUE</code>, x-axis will be logarithmic (also passed to <code><a href=http://www.rdocumentation.org/packages/broom/topics/tidy>tidy</a></code> if <code>x</code> is not a data frame)
</dd>
<dt>
exclude_intercept
</dt>
<dd class="rd-dd">
should the intercept be excluded from the plot?
</dd>
<dt>
vline
</dt>
<dd class="rd-dd">
print a vertical line?
</dd>
<dt>
vline_intercept
</dt>
<dd class="rd-dd">
<code>xintercept</code> for the vertical line. <code>“auto”</code> for <code>x = 0</code> (or <code>x = 1</code> if exponentiate is <code>TRUE</code>)
</dd>
<dt>
vline_color
</dt>
<dd class="rd-dd">
color of the vertical line
</dd>
<dt>
vline_linetype
</dt>
<dd class="rd-dd">
line type of the vertical line
</dd>
<dt>
vline_size
</dt>
<dd class="rd-dd">
size of the vertical line
</dd>
<dt>
errorbar_color
</dt>
<dd class="rd-dd">
color of the error bars
</dd>
<dt>
errorbar_height
</dt>
<dd class="rd-dd">
height of the error bars
</dd>
<dt>
errorbar_linetype
</dt>
<dd class="rd-dd">
line type of the error bars
</dd>
<dt>
errorbar_size
</dt>
<dd class="rd-dd">
size of the error bars
</dd>
<dt>
…
</dt>
<dd class="rd-dd">
additional arguments sent to <code><a href=http://www.rdocumentation.org/packages/ggplot2/topics/geom_point>geom_point</a></code>
</dd>
</dl>
<h4>
Examples
</h4>
<pre class="r"><code>library(broom)
reg &lt;- lm(Sepal.Length ~ Sepal.Width + Petal.Length + Petal.Width, data = iris)
ggcoef(reg)</code></pre>
<p><img src="rd_files/figure-html/ggcoef_id_27-1.png" width="960" /></p>
<pre class="r"><code>d &lt;- as.data.frame(Titanic)
reg2 &lt;- glm(Survived ~ Sex + Age + Class, family = binomial, data = d, weights = d$Freq)
ggcoef(reg2, exponentiate = TRUE)</code></pre>
<p><img src="rd_files/figure-html/ggcoef_id_27-2.png" width="960" /></p>
<pre class="r"><code>ggcoef(reg2, exponentiate = TRUE, exclude_intercept = TRUE, errorbar_height = .2, color = &quot;blue&quot;)</code></pre>
<p><img src="rd_files/figure-html/ggcoef_id_27-3.png" width="960" /></p>
</div>
<div id="ggcorr" class="section level2">
<h2>ggcorr</h2>
<a id="ggcorr_alias"></a>
<h3>
ggcorr - Plot a correlation matrix with ggplot2
</h3>
<p class="rd-p">
Function for making a correlation matrix plot, using ggplot2. The function is directly inspired by Tian Zheng and Yu-Sung Su’s <code>corrplot</code> function in the ‘arm’ package. Please visit <a href = 'http://github.com/briatte/ggcorr'>http://github.com/briatte/ggcorr</a> for the latest version of <code>ggcorr</code>, and see the vignette at <a href = 'https://briatte.github.io/ggcorr/'>https://briatte.github.io/ggcorr/</a> for many examples of how to use it.
</p>
<h4>
Usage
</h4>
<pre class="r"><code><div>ggcorr(data, method&nbsp;=&nbsp;c("pairwise", "pearson"), cor_matrix&nbsp;=&nbsp;NULL, nbreaks&nbsp;=&nbsp;NULL, digits&nbsp;=&nbsp;2, name&nbsp;=&nbsp;"", low&nbsp;=&nbsp;"#3B9AB2", mid&nbsp;=&nbsp;"#EEEEEE", high&nbsp;=&nbsp;"#F21A00", midpoint&nbsp;=&nbsp;0, palette&nbsp;=&nbsp;NULL, geom&nbsp;=&nbsp;"tile", min_size&nbsp;=&nbsp;2, max_size&nbsp;=&nbsp;6, label&nbsp;=&nbsp;FALSE, label_alpha&nbsp;=&nbsp;FALSE, label_color&nbsp;=&nbsp;"black", label_round&nbsp;=&nbsp;1, label_size&nbsp;=&nbsp;4, limits&nbsp;=&nbsp;c(-1, 1), drop&nbsp;=&nbsp;is.null(limits) || identical(limits, FALSE), layout.exp&nbsp;=&nbsp;0, legend.position&nbsp;=&nbsp;"right", legend.size&nbsp;=&nbsp;9, ...)</div></code></pre>
<h4>
Arguments
</h4>
<dl class="rd-dl">
<dt>
data
</dt>
<dd class="rd-dd">
a data frame or matrix containing numeric (continuous) data. If any of the columns contain non-numeric data, they will be dropped with a warning.
</dd>
<dt>
method
</dt>
<dd class="rd-dd">
a vector of two character strings. The first value gives the method for computing covariances in the presence of missing values, and must be (an abbreviation of) one of <code>“everything”</code>, <code>“all.obs”</code>, <code>“complete.obs”</code>, <code>“na.or.complete”</code> or <code>“pairwise.complete.obs”</code>. The second value gives the type of correlation coefficient to compute, and must be one of <code>“pearson”</code>, <code>“kendall”</code> or <code>“spearman”</code>. See <code><a href=http://www.rdocumentation.org/packages/stats/topics/cor>cor</a></code> for details. Defaults to <code>c(“pairwise”, “pearson”)</code>.
</dd>
<dt>
cor_matrix
</dt>
<dd class="rd-dd">
the named correlation matrix to use for calculations. Defaults to the correlation matrix of <code>data</code> when <code>data</code> is supplied.
</dd>
<dt>
nbreaks
</dt>
<dd class="rd-dd">
the number of breaks to apply to the correlation coefficients, which results in a categorical color scale. See Note. Defaults to <code>NULL</code> (no breaks, continuous scaling).
</dd>
<dt>
digits
</dt>
<dd class="rd-dd">
the number of digits to show in the breaks of the correlation coefficients: see <code><a href=http://www.rdocumentation.org/packages/base/topics/cut>cut</a></code> for details. Defaults to <code>2</code>.
</dd>
<dt>
name
</dt>
<dd class="rd-dd">
a character string for the legend that shows the colors of the correlation coefficients. Defaults to <code>“”</code> (no legend name).
</dd>
<dt>
low
</dt>
<dd class="rd-dd">
the lower color of the gradient for continuous scaling of the correlation coefficients. Defaults to <code>“#3B9AB2”</code> (blue).
</dd>
<dt>
mid
</dt>
<dd class="rd-dd">
the midpoint color of the gradient for continuous scaling of the correlation coefficients. Defaults to <code>“#EEEEEE”</code> (very light grey).
</dd>
<dt>
high
</dt>
<dd class="rd-dd">
the upper color of the gradient for continuous scaling of the correlation coefficients. Defaults to <code>“#F21A00”</code> (red).
</dd>
<dt>
midpoint
</dt>
<dd class="rd-dd">
the midpoint value for continuous scaling of the correlation coefficients. Defaults to <code>0</code>.
</dd>
<dt>
palette
</dt>
<dd class="rd-dd">
if <code>nbreaks</code> is used, a ColorBrewer palette to use instead of the colors specified by <code>low</code>, <code>mid</code> and <code>high</code>. Defaults to <code>NULL</code>.
</dd>
<dt>
geom
</dt>
<dd class="rd-dd">
the geom object to use. Accepts either <code>“tile”</code>, <code>“circle”</code>, <code>“text”</code> or <code>“blank”</code>.
</dd>
<dt>
min_size
</dt>
<dd class="rd-dd">
when <code>geom</code> has been set to <code>“circle”</code>, the minimum size of the circles. Defaults to <code>2</code>.
</dd>
<dt>
max_size
</dt>
<dd class="rd-dd">
when <code>geom</code> has been set to <code>“circle”</code>, the maximum size of the circles. Defaults to <code>6</code>.
</dd>
<dt>
label
</dt>
<dd class="rd-dd">
whether to add correlation coefficients to the plot. Defaults to <code>FALSE</code>.
</dd>
<dt>
label_alpha
</dt>
<dd class="rd-dd">
whether to make the correlation coefficients increasingly transparent as they come close to 0. Also accepts any numeric value between <code>0</code> and <code>1</code>, in which case the level of transparency is set to that fixed value. Defaults to <code>FALSE</code> (no transparency).
</dd>
<dt>
label_color
</dt>
<dd class="rd-dd">
the color of the correlation coefficients. Defaults to <code>“grey75”</code>.
</dd>
<dt>
label_round
</dt>
<dd class="rd-dd">
the decimal rounding of the correlation coefficients. Defaults to <code>1</code>.
</dd>
<dt>
label_size
</dt>
<dd class="rd-dd">
the size of the correlation coefficients. Defaults to <code>4</code>.
</dd>
<dt>
limits
</dt>
<dd class="rd-dd">
bounding of color scaling for correlations, set <code>limits = NULL</code> or <code>FALSE</code> to remove
</dd>
<dt>
drop
</dt>
<dd class="rd-dd">
if using <code>nbreaks</code>, whether to drop unused breaks from the color scale. Defaults to <code>FALSE</code> (recommended).
</dd>
<dt>
layout.exp
</dt>
<dd class="rd-dd">
a multiplier to expand the horizontal axis to the left if variable names get clipped. Defaults to <code>0</code> (no expansion).
</dd>
<dt>
legend.position
</dt>
<dd class="rd-dd">
where to put the legend of the correlation coefficients: see <code><a href=http://www.rdocumentation.org/packages/ggplot2/topics/theme>theme</a></code> for details. Defaults to <code>“bottom”</code>.
</dd>
<dt>
legend.size
</dt>
<dd class="rd-dd">
the size of the legend title and labels, in points: see <code><a href=http://www.rdocumentation.org/packages/ggplot2/topics/theme>theme</a></code> for details. Defaults to <code>9</code>.
</dd>
<dt>
…
</dt>
<dd class="rd-dd">
other arguments supplied to <code><a href=http://www.rdocumentation.org/packages/ggplot2/topics/geom_text>geom_text</a></code> for the diagonal labels.
</dd>
</dl>
<h4>
Note
</h4>
<p class="rd-p">
Recommended values for the <code>nbreaks</code> argument are <code>3</code> to <code>11</code>, as values above 11 are visually difficult to separate and are not supported by diverging ColorBrewer palettes.
</p>
<h4>
Examples
</h4>
<pre class="r"><code># Basketball statistics provided by Nathan Yau at Flowing Data.
dt &lt;- read.csv(&quot;http://datasets.flowingdata.com/ppg2008.csv&quot;)

# Default output.
ggcorr(dt[, -1])</code></pre>
<p><img src="rd_files/figure-html/ggcorr_id_28-1.png" width="960" /></p>
<pre class="r"><code># Labelled output, with coefficient transparency.
ggcorr(dt[, -1],
       label = TRUE,
       label_alpha = TRUE)</code></pre>
<p><img src="rd_files/figure-html/ggcorr_id_28-2.png" width="960" /></p>
<pre class="r"><code># Custom options.
ggcorr(
  dt[, -1],
  name = expression(rho),
  geom = &quot;circle&quot;,
  max_size = 10,
  min_size = 2,
  size = 3,
  hjust = 0.75,
  nbreaks = 6,
  angle = -45,
  palette = &quot;PuOr&quot; # colorblind safe, photocopy-able
)</code></pre>
<p><img src="rd_files/figure-html/ggcorr_id_28-3.png" width="960" /></p>
<pre class="r"><code># Supply your own correlation matrix
ggcorr(
  data = NULL,
  cor_matrix = cor(dt[, -1], use = &quot;pairwise&quot;)
)</code></pre>
<p><img src="rd_files/figure-html/ggcorr_id_28-4.png" width="960" /></p>
<h4>
See also
</h4>
<p><code><a href=http://www.rdocumentation.org/packages/stats/topics/cor>cor</a></code> and <code>corrplot</code> in the <code>arm</code> package.</p>
<h4>
Author
</h4>
<p>Francois Briatte, with contributions from Amos B. Elberg and Barret Schloerke</p>
</div>
<div id="ggparcoord" class="section level2">
<h2>ggparcoord</h2>
<a id="ggparcoord_alias"></a>
<h3>
ggparcoord - A ggplot2 Parallel Coordinate Plot
</h3>
<p class="rd-p">
A function for plotting static parallel coordinate plots, utilizing the <code>ggplot2</code> graphics package.
</p>
<h4>
Usage
</h4>
<pre class="r"><code><div>ggparcoord(data, columns&nbsp;=&nbsp;1:ncol(data), groupColumn&nbsp;=&nbsp;NULL, scale&nbsp;=&nbsp;"std", scaleSummary&nbsp;=&nbsp;"mean", centerObsID&nbsp;=&nbsp;1, missing&nbsp;=&nbsp;"exclude", order&nbsp;=&nbsp;columns, showPoints&nbsp;=&nbsp;FALSE, splineFactor&nbsp;=&nbsp;FALSE, alphaLines&nbsp;=&nbsp;1, boxplot&nbsp;=&nbsp;FALSE, shadeBox&nbsp;=&nbsp;NULL, mapping&nbsp;=&nbsp;NULL, title&nbsp;=&nbsp;"")</div></code></pre>
<h4>
Arguments
</h4>
<dl class="rd-dl">
<dt>
data
</dt>
<dd class="rd-dd">
the dataset to plot
</dd>
<dt>
columns
</dt>
<dd class="rd-dd">
a vector of variables (either names or indices) to be axes in the plot
</dd>
<dt>
groupColumn
</dt>
<dd class="rd-dd">
a single variable to group (color) by
</dd>
<dt>
scale
</dt>
<dd class="rd-dd">
method used to scale the variables (see Details)
</dd>
<dt>
scaleSummary
</dt>
<dd class="rd-dd">
if scale==“center”, summary statistic to univariately center each variable by
</dd>
<dt>
centerObsID
</dt>
<dd class="rd-dd">
if scale==“centerObs”, row number of case plot should univariately be centered on
</dd>
<dt>
missing
</dt>
<dd class="rd-dd">
method used to handle missing values (see Details)
</dd>
<dt>
order
</dt>
<dd class="rd-dd">
method used to order the axes (see Details)
</dd>
<dt>
showPoints
</dt>
<dd class="rd-dd">
logical operator indicating whether points should be plotted or not
</dd>
<dt>
splineFactor
</dt>
<dd class="rd-dd">
logical or numeric operator indicating whether spline interpolation should be used. Numeric values will multiplied by the number of columns, <code>TRUE</code> will default to cubic interpolation, <code><a href=http://www.rdocumentation.org/packages/base/topics/AsIs>AsIs</a></code> to set the knot count directly and <code>0</code>, <code>FALSE</code>, or non-numeric values will not use spline interpolation.
</dd>
<dt>
alphaLines
</dt>
<dd class="rd-dd">
value of alpha scaler for the lines of the parcoord plot or a column name of the data
</dd>
<dt>
boxplot
</dt>
<dd class="rd-dd">
logical operator indicating whether or not boxplots should underlay the distribution of each variable
</dd>
<dt>
shadeBox
</dt>
<dd class="rd-dd">
color of underlaying box which extends from the min to the max for each variable (no box is plotted if shadeBox == NULL)
</dd>
<dt>
mapping
</dt>
<dd class="rd-dd">
aes string to pass to ggplot object
</dd>
<dt>
title
</dt>
<dd class="rd-dd">
character string denoting the title of the plot
</dd>
</dl>
<h4>
Value
</h4>
<p class="rd-p">
<dl>
ggplot object that if called, will print
</dl>
</p>
<h4>
Details
</h4>
<p class="rd-p">
<code>scale</code> is a character string that denotes how to scale the variables in the parallel coordinate plot. Options:
<ul>
<li>
<code>std</code>: univariately, subtract mean and divide by standard deviation
</li>
<li>
<code>robust</code>: univariately, subtract median and divide by median absolute deviation
</li>
<li>
<code>uniminmax</code>: univariately, scale so the minimum of the variable is zero, and the maximum is one
</li>
<li>
<code>globalminmax</code>: no scaling is done; the range of the graphs is defined by the global minimum and the global maximum
</li>
<li>
<code>center</code>: use <code>uniminmax</code> to standardize vertical height, then center each variable at a value specified by the <code>scaleSummary</code> param
</li>
<li>
<code>centerObs</code>: use <code>uniminmax</code> to standardize vertical height, then center each variable at the value of the observation specified by the <code>centerObsID</code> param
</li>
</ul>
</p>
<p class="rd-p">
<code>missing</code> is a character string that denotes how to handle missing missing values. Options:
<ul>
<li>
<code>exclude</code>: remove all cases with missing values
</li>
<li>
<code>mean</code>: set missing values to the mean of the variable
</li>
<li>
<code>median</code>: set missing values to the median of the variable
</li>
<li>
<code>min10</code>: set missing values to 10% below the minimum of the variable
</li>
<li>
<code>random</code>: set missing values to value of randomly chosen observation on that variable
</li>
</ul>
</p>
<p class="rd-p">
<code>order</code> is either a vector of indices or a character string that denotes how to order the axes (variables) of the parallel coordinate plot. Options:
<ul>
<li>
<code>(default)</code>: order by the vector denoted by <code>columns</code>
</li>
<li>
<code>(given vector)</code>: order by the vector specified
</li>
<li>
<code>anyClass</code>: order variables by their separation between any one class and the rest (as opposed to their overall variation between classes). This is accomplished by calculating the F-statistic for each class vs. the rest, for each axis variable. The axis variables are then ordered (decreasing) by their maximum of k F-statistics, where k is the number of classes.
</li>
<li>
<code>allClass</code>: order variables by their overall F statistic (decreasing) from an ANOVA with <code>groupColumn</code> as the explanatory variable (note: it is required to specify a <code>groupColumn</code> with this ordering method). Basically, this method orders the variables by their variation between classes (most to least).
</li>
<li>
<code>skewness</code>: order variables by their sample skewness (most skewed to least skewed)
</li>
<li>
<code>Outlying</code>: order by the scagnostic measure, Outlying, as calculated by the package <code>scagnostics</code>. Other scagnostic measures available to order by are <code>Skewed</code>, <code>Clumpy</code>, <code>Sparse</code>, <code>Striated</code>, <code>Convex</code>, <code>Skinny</code>, <code>Stringy</code>, and <code>Monotonic</code>. Note: To use these methods of ordering, you must have the <code>scagnostics</code> package loaded.
</li>
</ul>
</p>
<p class="rd-p">
</p>
<h4>
Examples
</h4>
<pre class="r"><code># small function to display plots only if it&#39;s interactive
p_ &lt;- GGally::print_if_interactive

# use sample of the diamonds data for illustrative purposes
data(diamonds, package=&quot;ggplot2&quot;)
diamonds.samp &lt;- diamonds[sample(1:dim(diamonds)[1], 100), ]

# basic parallel coordinate plot, using default settings
p &lt;- ggparcoord(data = diamonds.samp, columns = c(1, 5:10))
p_(p)</code></pre>
<p><img src="rd_files/figure-html/ggparcoord_id_29-1.png" width="960" /></p>
<pre class="r"><code># this time, color by diamond cut
p &lt;- ggparcoord(data = diamonds.samp, columns = c(1, 5:10), groupColumn = 2)
p_(p)</code></pre>
<p><img src="rd_files/figure-html/ggparcoord_id_29-2.png" width="960" /></p>
<pre class="r"><code># underlay univariate boxplots, add title, use uniminmax scaling
p &lt;- ggparcoord(data = diamonds.samp, columns = c(1, 5:10), groupColumn = 2,
  scale = &quot;uniminmax&quot;, boxplot = TRUE, title = &quot;Parallel Coord. Plot of Diamonds Data&quot;)
p_(p)</code></pre>
<p><img src="rd_files/figure-html/ggparcoord_id_29-3.png" width="960" /></p>
<pre class="r"><code># utilize ggplot2 aes to switch to thicker lines
p &lt;- ggparcoord(data = diamonds.samp, columns = c(1, 5:10), groupColumn = 2,
  title =&quot;Parallel Coord. Plot of Diamonds Data&quot;, mapping = ggplot2::aes(size = 1)) +
  ggplot2::scale_size_identity()
p_(p)</code></pre>
<p><img src="rd_files/figure-html/ggparcoord_id_29-4.png" width="960" /></p>
<pre class="r"><code># basic parallel coord plot of the msleep data, using &#39;random&#39; imputation and
# coloring by diet (can also use variable names in the columns and groupColumn
# arguments)
data(msleep, package=&quot;ggplot2&quot;)
p &lt;- ggparcoord(data = msleep, columns = 6:11, groupColumn = &quot;vore&quot;, missing =
  &quot;random&quot;, scale = &quot;uniminmax&quot;)
p_(p)</code></pre>
<p><img src="rd_files/figure-html/ggparcoord_id_29-5.png" width="960" /></p>
<pre class="r"><code># center each variable by its median, using the default missing value handler,
# &#39;exclude&#39;
p &lt;- ggparcoord(data = msleep, columns = 6:11, groupColumn = &quot;vore&quot;, scale =
  &quot;center&quot;, scaleSummary = &quot;median&quot;)
p_(p)</code></pre>
<p><img src="rd_files/figure-html/ggparcoord_id_29-6.png" width="960" /></p>
<pre class="r"><code># with the iris data, order the axes by overall class (Species) separation using
# the anyClass option
p &lt;- ggparcoord(data = iris, columns = 1:4, groupColumn = 5, order = &quot;anyClass&quot;)
p_(p)</code></pre>
<p><img src="rd_files/figure-html/ggparcoord_id_29-7.png" width="960" /></p>
<pre class="r"><code># add points to the plot, add a title, and use an alpha scalar to make the lines
# transparent
p &lt;- ggparcoord(data = iris, columns = 1:4, groupColumn = 5, order = &quot;anyClass&quot;,
  showPoints = TRUE, title = &quot;Parallel Coordinate Plot for the Iris Data&quot;,
  alphaLines = 0.3)
p_(p)</code></pre>
<p><img src="rd_files/figure-html/ggparcoord_id_29-8.png" width="960" /></p>
<pre class="r"><code># color according to a column
iris2 &lt;- iris
iris2$alphaLevel &lt;- c(&quot;setosa&quot; = 0.2, &quot;versicolor&quot; = 0.3, &quot;virginica&quot; = 0)[iris2$Species]
p &lt;- ggparcoord(data = iris2, columns = 1:4, groupColumn = 5, order = &quot;anyClass&quot;,
  showPoints = TRUE, title = &quot;Parallel Coordinate Plot for the Iris Data&quot;,
  alphaLines = &quot;alphaLevel&quot;)
p_(p)</code></pre>
<p><img src="rd_files/figure-html/ggparcoord_id_29-9.png" width="960" /></p>
<pre class="r"><code>## Use splines on values, rather than lines (all produce the same result)
columns &lt;- c(1, 5:10)
p &lt;- ggparcoord(diamonds.samp, columns, groupColumn = 2, splineFactor = TRUE)
p_(p)</code></pre>
<p><img src="rd_files/figure-html/ggparcoord_id_29-10.png" width="960" /></p>
<pre class="r"><code>p &lt;- ggparcoord(diamonds.samp, columns, groupColumn = 2, splineFactor = 3)
p_(p)</code></pre>
<p><img src="rd_files/figure-html/ggparcoord_id_29-11.png" width="960" /></p>
<pre class="r"><code>splineFactor &lt;- length(columns) * 3
p &lt;- ggparcoord(diamonds.samp, columns, groupColumn = 2, splineFactor = I(splineFactor))
p_(p)</code></pre>
<p><img src="rd_files/figure-html/ggparcoord_id_29-12.png" width="960" /></p>
<h4>
Author
</h4>
<p>Jason Crowley <a href='mailto:crowley.jason.s@gmail.com'>crowley.jason.s@gmail.com</a>, Barret Schloerke <a href='mailto:schloerke@gmail.com'>schloerke@gmail.com</a>, Di Cook <a href='mailto:dicook@iastate.edu'>dicook@iastate.edu</a>, Heike Hofmann <a href='mailto:hofmann@iastate.edu'>hofmann@iastate.edu</a>, Hadley Wickham <a href='mailto:h.wickham@gmail.com'>h.wickham@gmail.com</a></p>
</div>
<div id="ggsurv" class="section level2">
<h2>ggsurv</h2>
<a id="ggsurv_alias"></a>
<h3>
Survival curves with ggplot2
</h3>
<p class="rd-p">
This function produces Kaplan-Meier plots using <code>ggplot2</code>. As a first argument it needs a <code>survfit</code> object, created by the <code>survival</code> package. Default settings differ for single stratum and multiple strata objects.
</p>
<h4>
Usage
</h4>
<pre class="r"><code><div>ggsurv(s, CI&nbsp;=&nbsp;"def", plot.cens&nbsp;=&nbsp;TRUE, surv.col&nbsp;=&nbsp;"gg.def", cens.col&nbsp;=&nbsp;"gg.def", lty.est&nbsp;=&nbsp;1, lty.ci&nbsp;=&nbsp;2, size.est&nbsp;=&nbsp;0.5, size.ci&nbsp;=&nbsp;size.est, cens.size&nbsp;=&nbsp;2, cens.shape&nbsp;=&nbsp;3, back.white&nbsp;=&nbsp;FALSE, xlab&nbsp;=&nbsp;"Time", ylab&nbsp;=&nbsp;"Survival", main&nbsp;=&nbsp;"", order.legend&nbsp;=&nbsp;TRUE)</div></code></pre>
<h4>
Arguments
</h4>
<dl class="rd-dl">
<dt>
s
</dt>
<dd class="rd-dd">
an object of class <code>survfit</code>
</dd>
<dt>
CI
</dt>
<dd class="rd-dd">
should a confidence interval be plotted? Defaults to <code>TRUE</code> for single stratum objects and <code>FALSE</code> for multiple strata objects.
</dd>
<dt>
plot.cens
</dt>
<dd class="rd-dd">
mark the censored observations?
</dd>
<dt>
surv.col
</dt>
<dd class="rd-dd">
colour of the survival estimate. Defaults to black for one stratum, and to the default <code>ggplot2</code> colours for multiple strata. Length of vector with colour names should be either 1 or equal to the number of strata.
</dd>
<dt>
cens.col
</dt>
<dd class="rd-dd">
colour of the points that mark censored observations.
</dd>
<dt>
lty.est
</dt>
<dd class="rd-dd">
linetype of the survival curve(s). Vector length should be either 1 or equal to the number of strata.
</dd>
<dt>
lty.ci
</dt>
<dd class="rd-dd">
linetype of the bounds that mark the 95% CI.
</dd>
<dt>
size.est
</dt>
<dd class="rd-dd">
line width of the survival curve
</dd>
<dt>
size.ci
</dt>
<dd class="rd-dd">
line width of the 95% CI
</dd>
<dt>
cens.size
</dt>
<dd class="rd-dd">
point size of the censoring points
</dd>
<dt>
cens.shape
</dt>
<dd class="rd-dd">
shape of the points that mark censored observations.
</dd>
<dt>
back.white
</dt>
<dd class="rd-dd">
if TRUE the background will not be the default grey of <code>ggplot2</code> but will be white with borders around the plot.
</dd>
<dt>
xlab
</dt>
<dd class="rd-dd">
the label of the x-axis.
</dd>
<dt>
ylab
</dt>
<dd class="rd-dd">
the label of the y-axis.
</dd>
<dt>
main
</dt>
<dd class="rd-dd">
the plot label.
</dd>
<dt>
order.legend
</dt>
<dd class="rd-dd">
boolean to determine if the legend display should be ordered by final survival time
</dd>
</dl>
<h4>
Value
</h4>
<p class="rd-p">
<dl>
An object of class <code>ggplot</code>
</dl>
</p>
<h4>
Examples
</h4>
<pre class="r"><code>if (require(survival) &amp;&amp; require(scales)) {
  data(lung, package = &quot;survival&quot;)
  sf.lung &lt;- survival::survfit(Surv(time, status) ~ 1, data = lung)
  ggsurv(sf.lung)

  # Multiple strata examples
  sf.sex &lt;- survival::survfit(Surv(time, status) ~ sex, data = lung)
  pl.sex &lt;- ggsurv(sf.sex)
  pl.sex

  # Adjusting the legend of the ggsurv fit
  pl.sex +
    ggplot2::guides(linetype = FALSE) +
    ggplot2::scale_colour_discrete(
      name   = &#39;Sex&#39;,
      breaks = c(1,2),
      labels = c(&#39;Male&#39;, &#39;Female&#39;)
    )

  # We can still adjust the plot after fitting
  data(kidney, package = &quot;survival&quot;)
  sf.kid &lt;- survival::survfit(Surv(time, status) ~ disease, data = kidney)
  pl.kid &lt;- ggsurv(sf.kid, plot.cens = FALSE)
  pl.kid

  # Zoom in to first 80 days
  pl.kid + ggplot2::coord_cartesian(xlim = c(0, 80), ylim = c(0.45, 1))

  # Add the diseases names to the plot and remove legend
  pl.kid +
    ggplot2::annotate(
      &quot;text&quot;,
      label  = c(&quot;PKD&quot;, &quot;Other&quot;, &quot;GN&quot;, &quot;AN&quot;),
      x      = c(90, 125, 5, 60),
      y      = c(0.8, 0.65, 0.55, 0.30),
      size   = 5,
      colour = scales::hue_pal(
        h         = c(0, 360) + 15,
        c         = 100,
        l         = 65,
        h.start   = 0,
        direction = 1
      )(4)
    ) +
    ggplot2::guides(color = FALSE, linetype = FALSE)
}</code></pre>
<pre><code>## Scale for &#39;colour&#39; is already present. Adding another scale for
## &#39;colour&#39;, which will replace the existing scale.</code></pre>
<p><img src="rd_files/figure-html/ggsurv_id_30-1.png" width="960" /></p>
<h4>
Author
</h4>
<p>Edwin Thoen <a href='mailto:edwinthoen@gmail.com'>edwinthoen@gmail.com</a></p>
</div>
</div>
<div id="glyph-plot" class="section level1">
<h1>Glyph Plot</h1>
<div id="glyphs" class="section level2">
<h2>glyphs</h2>
<a id="glyphs_alias"></a>
<h3>
Create the data needed to generate a glyph plot.
</h3>
<h4>
Usage
</h4>
<pre class="r"><code><div>glyphs(data, x_major, x_minor, y_major, y_minor, polar&nbsp;=&nbsp;FALSE, height&nbsp;=&nbsp;ggplot2::rel(0.95), width&nbsp;=&nbsp;ggplot2::rel(0.95), y_scale&nbsp;=&nbsp;identity, x_scale&nbsp;=&nbsp;identity)</div></code></pre>
<h4>
Arguments
</h4>
<dl class="rd-dl">
<dt>
data
</dt>
<dd class="rd-dd">
A data frame containing variables named in <code>x_major</code>, <code>x_minor</code>, <code>y_major</code> and <code>y_minor</code>.
</dd>
<dt>
x_major, x_minor, y_major, y_minor
</dt>
<dd class="rd-dd">
The name of the variable (as a string) for the major and minor x and y axes. Together, each unique
</dd>
<dt>
polar
</dt>
<dd class="rd-dd">
A logical of length 1, specifying whether the glyphs should be drawn in polar coordinates. Defaults to <code>FALSE</code>.
</dd>
<dt>
height, width
</dt>
<dd class="rd-dd">
The height and width of each glyph. Defaults to 95% of the <code><a href=http://www.rdocumentation.org/packages/ggplot2/topics/resolution>resolution</a></code> of the data. Specify the width absolutely by supplying a numeric vector of length 1, or relative to the
</dd>
<dt>
y_scale, x_scale
</dt>
<dd class="rd-dd">
The scaling function to be applied to each set of minor values within a grid cell. Defaults to <code><a href=http://www.rdocumentation.org/packages/base/topics/identity>identity</a></code> so that no scaling is performed.
</dd>
</dl>
<h4>
Examples
</h4>
<pre class="r"><code> data(nasa)
 nasaLate &lt;- nasa[
   nasa$date &gt;= as.POSIXct(&quot;1998-01-01&quot;) &amp;
   nasa$lat &gt;= 20 &amp;
   nasa$lat &lt;= 40 &amp;
   nasa$long &gt;= -80 &amp;
   nasa$long &lt;= -60
 , ]
 temp.gly &lt;- glyphs(nasaLate, &quot;long&quot;, &quot;day&quot;, &quot;lat&quot;, &quot;surftemp&quot;, height=2.5)</code></pre>
<pre><code>## Using width 2.38</code></pre>
<pre class="r"><code> ggplot2::ggplot(temp.gly, ggplot2::aes(gx, gy, group = gid)) +
   add_ref_lines(temp.gly, color = &quot;grey90&quot;) +
   add_ref_boxes(temp.gly, color = &quot;grey90&quot;) +
   ggplot2::geom_path() +
   ggplot2::theme_bw() +
   ggplot2::labs(x = &quot;&quot;, y = &quot;&quot;)</code></pre>
<p><img src="rd_files/figure-html/glyphs_id_31-1.png" width="960" /></p>
<h4>
Author
</h4>
<p>Di Cook <a href='mailto:dicook@monash.edu'>dicook@monash.edu</a>, Heike Hofmann, Hadley Wickham</p>
</div>
<div id="add_ref_boxes" class="section level2">
<h2>add_ref_boxes</h2>
<a id="add_ref_boxes_alias"></a>
<h3>
Add reference boxes around each cell of the glyphmap.
</h3>
<h4>
Usage
</h4>
<pre class="r"><code><div>add_ref_boxes(data, var_fill&nbsp;=&nbsp;NULL, color&nbsp;=&nbsp;"white", size&nbsp;=&nbsp;0.5, fill&nbsp;=&nbsp;NA, ...)</div></code></pre>
<h4>
Arguments
</h4>
<dl class="rd-dl">
<dt>
data
</dt>
<dd class="rd-dd">
A glyphmap structure.
</dd>
<dt>
var_fill
</dt>
<dd class="rd-dd">
Variable name to use to set the fill color
</dd>
<dt>
color
</dt>
<dd class="rd-dd">
Set the color to draw in, default is “white”
</dd>
<dt>
size
</dt>
<dd class="rd-dd">
Set the line size, default is 0.5
</dd>
<dt>
fill
</dt>
<dd class="rd-dd">
fill value used if <code>var_fill</code> is <code>NULL</code>
</dd>
<dt>
…
</dt>
<dd class="rd-dd">
other arguments passed onto <code><a href=http://www.rdocumentation.org/packages/ggplot2/topics/geom_tile>geom_rect</a></code>
</dd>
</dl>
</div>
<div id="add_ref_lines" class="section level2">
<h2>add_ref_lines</h2>
<a id="add_ref_lines_alias"></a>
<h3>
Add reference lines for each cell of the glyphmap.
</h3>
<h4>
Usage
</h4>
<pre class="r"><code><div>add_ref_lines(data, color&nbsp;=&nbsp;"white", size&nbsp;=&nbsp;1.5, ...)</div></code></pre>
<h4>
Arguments
</h4>
<dl class="rd-dl">
<dt>
data
</dt>
<dd class="rd-dd">
A glyphmap structure.
</dd>
<dt>
color
</dt>
<dd class="rd-dd">
Set the color to draw in, default is “white”
</dd>
<dt>
size
</dt>
<dd class="rd-dd">
Set the line size, default is 1.5
</dd>
<dt>
…
</dt>
<dd class="rd-dd">
other arguments passed onto <code><a href=http://www.rdocumentation.org/packages/ggplot2/topics/geom_path>geom_line</a></code>
</dd>
</dl>
</div>
<div id="glyphplot" class="section level2">
<h2>glyphplot</h2>
<a id="glyphplot_alias"></a>
<h3>
Glyph plot class
</h3>
<h4>
Usage
</h4>
<pre class="r"><code><div>glyphplot(data, width, height, polar, x_major, y_major)</div>
<div>is.glyphplot(x)</div>
<div>"["(x, ...)</div>
<div>"print"(x, ...)</div></code></pre>
<h4>
Arguments
</h4>
<dl class="rd-dl">
<dt>
data
</dt>
<dd class="rd-dd">
A data frame containing variables named in <code>x_major</code>, <code>x_minor</code>, <code>y_major</code> and <code>y_minor</code>.
</dd>
<dt>
height, width
</dt>
<dd class="rd-dd">
The height and width of each glyph. Defaults to 95% of the <code><a href=http://www.rdocumentation.org/packages/ggplot2/topics/resolution>resolution</a></code> of the data. Specify the width absolutely by supplying a numeric vector of length 1, or relative to the
</dd>
<dt>
polar
</dt>
<dd class="rd-dd">
A logical of length 1, specifying whether the glyphs should be drawn in polar coordinates. Defaults to <code>FALSE</code>.
</dd>
<dt>
x_major, y_major
</dt>
<dd class="rd-dd">
The name of the variable (as a string) for the major x and y axes. Together, the
</dd>
<dt>
x
</dt>
<dd class="rd-dd">
glyphplot to be printed
</dd>
<dt>
…
</dt>
<dd class="rd-dd">
ignored
</dd>
</dl>
<h4>
Author
</h4>
<p>Di Cook <a href='mailto:dicook@monash.edu'>dicook@monash.edu</a>, Heike Hofmann, Hadley Wickham</p>
</div>
</div>
<div id="networks" class="section level1">
<h1>Networks</h1>
<div id="ggnet" class="section level2">
<h2>ggnet</h2>
<a id="ggnet_alias"></a>
<h3>
ggnet - Plot a network with ggplot2
</h3>
<p class="rd-p">
Function for plotting network objects using ggplot2, now replaced by the <code><a href='ggnet2.html'>ggnet2</a></code> function, which provides additional control over plotting parameters. Please visit <a href = 'http://github.com/briatte/ggnet'>http://github.com/briatte/ggnet</a> for the latest version of ggnet2, and <a href = 'https://briatte.github.io/ggnet'>https://briatte.github.io/ggnet</a> for a vignette that contains many examples and explanations.
</p>
<h4>
Usage
</h4>
<pre class="r"><code><div>ggnet(net, mode&nbsp;=&nbsp;"fruchtermanreingold", layout.par&nbsp;=&nbsp;NULL, layout.exp&nbsp;=&nbsp;0, size&nbsp;=&nbsp;9, alpha&nbsp;=&nbsp;1, weight&nbsp;=&nbsp;"none", weight.legend&nbsp;=&nbsp;NA, weight.method&nbsp;=&nbsp;weight, weight.min&nbsp;=&nbsp;NA, weight.max&nbsp;=&nbsp;NA, weight.cut&nbsp;=&nbsp;FALSE, group&nbsp;=&nbsp;NULL, group.legend&nbsp;=&nbsp;NA, node.group&nbsp;=&nbsp;group, node.color&nbsp;=&nbsp;NULL, node.alpha&nbsp;=&nbsp;alpha, segment.alpha&nbsp;=&nbsp;alpha, segment.color&nbsp;=&nbsp;"grey50", segment.label&nbsp;=&nbsp;NULL, segment.size&nbsp;=&nbsp;0.25, arrow.size&nbsp;=&nbsp;0, arrow.gap&nbsp;=&nbsp;0, arrow.type&nbsp;=&nbsp;"closed", label&nbsp;=&nbsp;FALSE, label.nodes&nbsp;=&nbsp;label, label.size&nbsp;=&nbsp;size/2, label.trim&nbsp;=&nbsp;FALSE, legend.size&nbsp;=&nbsp;9, legend.position&nbsp;=&nbsp;"right", names&nbsp;=&nbsp;c("", ""), quantize.weights&nbsp;=&nbsp;FALSE, subset.threshold&nbsp;=&nbsp;0, top8.nodes&nbsp;=&nbsp;FALSE, trim.labels&nbsp;=&nbsp;FALSE, ...)</div></code></pre>
<h4>
Arguments
</h4>
<dl class="rd-dl">
<dt>
net
</dt>
<dd class="rd-dd">
an object of class <code><a href=http://www.rdocumentation.org/packages/network/topics/network>network</a></code>, or any object that can be coerced to this class, such as an adjacency or incidence matrix, or an edge list: see <a href=http://www.rdocumentation.org/packages/network/topics/edgeset.constructors>edgeset.constructors</a> and <a href=http://www.rdocumentation.org/packages/network/topics/network>network</a> for details. If the object is of class <code><a href=http://www.rdocumentation.org/packages/igraph/topics/aaa-igraph-package>igraph</a></code> and the <code><a href=http://www.rdocumentation.org/packages/intergraph/topics/intergraph-package>intergraph</a></code> package is installed, it will be used to convert the object: see <code><a href=http://www.rdocumentation.org/packages/intergraph/topics/asNetwork>asNetwork</a></code> for details.
</dd>
<dt>
mode
</dt>
<dd class="rd-dd">
a placement method from those provided in the <code><a href=http://www.rdocumentation.org/packages/sna/topics/sna>sna</a></code> package: see <a href=http://www.rdocumentation.org/packages/sna/topics/gplot.layout>gplot.layout</a> for details. Also accepts the names of two numeric vertex attributes of <code>net</code>, or a matrix of numeric coordinates, in which case the first two columns of the matrix are used. Defaults to the Fruchterman-Reingold force-directed algorithm.
</dd>
<dt>
layout.par
</dt>
<dd class="rd-dd">
options to be passed to the placement method, as listed in <a href=http://www.rdocumentation.org/packages/sna/topics/gplot.layout>gplot.layout</a>. Defaults to <code>NULL</code>.
</dd>
<dt>
layout.exp
</dt>
<dd class="rd-dd">
a multiplier to expand the horizontal axis if node labels get clipped: see <a href=http://www.rdocumentation.org/packages/scales/topics/expand_range>expand_range</a> for details. Defaults to <code>0</code> (no expansion).
</dd>
<dt>
size
</dt>
<dd class="rd-dd">
size of the network nodes. If the nodes are weighted, their area is proportionally scaled up to the size set by <code>size</code>. Defaults to <code>9</code>.
</dd>
<dt>
alpha
</dt>
<dd class="rd-dd">
a level of transparency for nodes, vertices and arrows. Defaults to <code>1</code>.
</dd>
<dt>
weight
</dt>
<dd class="rd-dd">
the weighting method for the nodes, which might be a vertex attribute or a vector of size values. Also accepts <code>“indegree”</code>, <code>“outdegree”</code>, <code>“degree”</code> or <code>“freeman”</code> to size the nodes by their unweighted degree centrality (<code>“degree”</code> and <code>“freeman”</code> are equivalent): see <code><a href=http://www.rdocumentation.org/packages/sna/topics/degree>degree</a></code> for details. All node weights must be positive. Defaults to <code>“none”</code> (no weighting).
</dd>
<dt>
weight.legend
</dt>
<dd class="rd-dd">
the name to assign to the legend created by <code>weight</code>. Defaults to <code>NA</code> (no name).
</dd>
<dt>
weight.method
</dt>
<dd class="rd-dd">
see <code>weight</code>
</dd>
<dt>
weight.min
</dt>
<dd class="rd-dd">
whether to subset the network to nodes with a minimum size, based on the values of <code>weight</code>. Defaults to <code>NA</code> (preserves all nodes).
</dd>
<dt>
weight.max
</dt>
<dd class="rd-dd">
whether to subset the network to nodes with a maximum size, based on the values of <code>weight</code>. Defaults to <code>NA</code> (preserves all nodes).
</dd>
<dt>
weight.cut
</dt>
<dd class="rd-dd">
whether to cut the size of the nodes into a certain number of quantiles. Accepts <code>TRUE</code>, which tries to cut the sizes into quartiles, or any positive numeric value, which tries to cut the sizes into that many quantiles. If the size of the nodes do not contain the specified number of distinct quantiles, the largest possible number is used. See <code><a href=http://www.rdocumentation.org/packages/stats/topics/quantile>quantile</a></code> and <code><a href=http://www.rdocumentation.org/packages/base/topics/cut>cut</a></code> for details. Defaults to <code>FALSE</code> (does nothing).
</dd>
<dt>
group
</dt>
<dd class="rd-dd">
the groups of the nodes, either as a vector of values or as a vertex attribute. If set to <code>mode</code> on a bipartite network, the nodes will be grouped as <code>“actor”</code> if they belong to the primary mode and <code>“event”</code> if they belong to the secondary mode.
</dd>
<dt>
group.legend
</dt>
<dd class="rd-dd">
the name to assign to the legend created by <code>group</code>.
</dd>
<dt>
node.group
</dt>
<dd class="rd-dd">
see <code>group</code>
</dd>
<dt>
node.color
</dt>
<dd class="rd-dd">
a vector of character strings to color the nodes with, holding as many colors as there are levels in <code>node.group</code>. Defaults to <code>NULL</code>, which will assign grayscale colors to each group.
</dd>
<dt>
node.alpha
</dt>
<dd class="rd-dd">
transparency of the nodes. Inherits from <code>alpha</code>.
</dd>
<dt>
segment.alpha
</dt>
<dd class="rd-dd">
the level of transparency of the edges. Defaults to <code>alpha</code>, which defaults to <code>1</code>.
</dd>
<dt>
segment.color
</dt>
<dd class="rd-dd">
the color of the edges, as a color value, a vector of color values, or as an edge attribute containing color values. Defaults to <code>“grey50”</code>.
</dd>
<dt>
segment.label
</dt>
<dd class="rd-dd">
the labels to plot at the middle of the edges, as a single value, a vector of values, or as an edge attribute. Defaults to <code>NULL</code> (no edge labels).
</dd>
<dt>
segment.size
</dt>
<dd class="rd-dd">
the size of the edges, in points, as a single numeric value, a vector of values, or as an edge attribute. Defaults to <code>0.25</code>.
</dd>
<dt>
arrow.size
</dt>
<dd class="rd-dd">
the size of the arrows for directed network edges, in points. See <code><a href=http://www.rdocumentation.org/packages/grid/topics/arrow>arrow</a></code> for details. Defaults to <code>0</code> (no arrows).
</dd>
<dt>
arrow.gap
</dt>
<dd class="rd-dd">
a setting aimed at improving the display of edge arrows by plotting slightly shorter edges. Accepts any value between <code>0</code> and <code>1</code>, where a value of <code>0.05</code> will generally achieve good results when the size of the nodes is reasonably small. Defaults to <code>0</code> (no shortening).
</dd>
<dt>
arrow.type
</dt>
<dd class="rd-dd">
the type of the arrows for directed network edges. See <code><a href=http://www.rdocumentation.org/packages/grid/topics/arrow>arrow</a></code> for details. Defaults to <code>“closed”</code>.
</dd>
<dt>
label
</dt>
<dd class="rd-dd">
whether to label the nodes. If set to <code>TRUE</code>, nodes are labeled with their vertex names. If set to a vector that contains as many elements as there are nodes in <code>net</code>, nodes are labeled with these. If set to any other vector of values, the nodes are labeled only when their vertex name matches one of these values. Defaults to <code>FALSE</code> (no labels).
</dd>
<dt>
label.nodes
</dt>
<dd class="rd-dd">
see <code>label</code>
</dd>
<dt>
label.size
</dt>
<dd class="rd-dd">
the size of the node labels, in points, as a numeric value, a vector of numeric values, or as a vertex attribute containing numeric values. Defaults to <code>size / 2</code> (half the maximum node size), which defaults to <code>6</code>.
</dd>
<dt>
label.trim
</dt>
<dd class="rd-dd">
whether to apply some trimming to the node labels. Accepts any function that can process a character vector, or a strictly positive numeric value, in which case the labels are trimmed to a fixed-length substring of that length: see <code><a href=http://www.rdocumentation.org/packages/base/topics/substr>substr</a></code> for details. Defaults to <code>FALSE</code> (does nothing).
</dd>
<dt>
legend.size
</dt>
<dd class="rd-dd">
the size of the legend symbols and text, in points. Defaults to <code>9</code>.
</dd>
<dt>
legend.position
</dt>
<dd class="rd-dd">
the location of the plot legend(s). Accepts all <code>legend.position</code> values supported by <code><a href=http://www.rdocumentation.org/packages/ggplot2/topics/theme>theme</a></code>. Defaults to <code>“right”</code>.
</dd>
<dt>
names
</dt>
<dd class="rd-dd">
deprecated: see <code>group.legend</code> and <code>size.legend</code>
</dd>
<dt>
quantize.weights
</dt>
<dd class="rd-dd">
deprecated: see <code>weight.cut</code>
</dd>
<dt>
subset.threshold
</dt>
<dd class="rd-dd">
deprecated: see <code>weight.min</code>
</dd>
<dt>
top8.nodes
</dt>
<dd class="rd-dd">
deprecated: this functionality was experimental and has been removed entirely from <code>ggnet</code>
</dd>
<dt>
trim.labels
</dt>
<dd class="rd-dd">
deprecated: see <code>label.trim</code>
</dd>
<dt>
…
</dt>
<dd class="rd-dd">
other arguments passed to the <code>geom_text</code> object that sets the node labels: see <code><a href=http://www.rdocumentation.org/packages/ggplot2/topics/geom_text>geom_text</a></code> for details.
</dd>
</dl>
<h4>
Details
</h4>
<p class="rd-p">
The degree centrality measures that can be produced through the <code>weight</code> argument will take the directedness of the network into account, but will be unweighted. To compute weighted network measures, see the <code>tnet</code> package by Tore Opsahl (<code>help(“tnet”, package = “tnet”)</code>).
</p>
<h4>
Examples
</h4>
<pre class="r"><code>library(network)

# random adjacency matrix
x           &lt;- 10
ndyads      &lt;- x * (x - 1)
density     &lt;- x / ndyads
m           &lt;- matrix(0, nrow = x, ncol = x)
dimnames(m) &lt;- list(letters[ 1:x ], letters[ 1:x ])
m[ row(m) != col(m) ] &lt;- runif(ndyads) &lt; density
m</code></pre>
<pre><code>##   a b c d e f g h i j
## a 0 0 0 1 0 0 0 1 0 0
## b 0 0 0 0 0 0 0 0 0 0
## c 0 0 0 0 0 0 0 0 0 0
## d 0 0 0 0 0 0 0 0 0 0
## e 0 0 0 0 0 0 0 0 0 0
## f 1 0 0 0 0 0 0 0 0 0
## g 0 0 0 0 0 0 0 0 0 0
## h 0 1 0 0 1 0 0 0 0 0
## i 0 1 0 0 0 0 0 0 0 1
## j 0 0 0 1 1 0 1 0 0 0</code></pre>
<pre class="r"><code># random undirected network
n &lt;- network::network(m, directed = FALSE)
n</code></pre>
<pre><code>##  Network attributes:
##   vertices = 10 
##   directed = FALSE 
##   hyper = FALSE 
##   loops = FALSE 
##   multiple = FALSE 
##   bipartite = FALSE 
##   total edges= 10 
##     missing edges= 0 
##     non-missing edges= 10 
## 
##  Vertex attribute names: 
##     vertex.names 
## 
## No edge attributes</code></pre>
<pre class="r"><code>ggnet(n, label = TRUE, alpha = 1, color = &quot;white&quot;, segment.color = &quot;black&quot;)</code></pre>
<p><img src="rd_files/figure-html/ggnet_id_35-1.png" width="960" /></p>
<pre class="r"><code># random groups
g &lt;- sample(letters[ 1:3 ], 10, replace = TRUE)

# color palette
p &lt;- c(&quot;a&quot; = &quot;steelblue&quot;, &quot;b&quot; = &quot;forestgreen&quot;, &quot;c&quot; = &quot;tomato&quot;)

ggnet(n, node.group = g, node.color = p, label = TRUE, color = &quot;white&quot;)</code></pre>
<p><img src="rd_files/figure-html/ggnet_id_35-2.png" width="960" /></p>
<pre class="r"><code># edge arrows on a directed network
ggnet(network(m, directed = TRUE), arrow.gap = 0.05, arrow.size = 10)</code></pre>
<pre><code>## Warning: Removed 1 rows containing missing values (geom_segment).</code></pre>
<p><img src="rd_files/figure-html/ggnet_id_35-3.png" width="960" /></p>
<h4>
See also
</h4>
<p><code><a href=#ggnet2>ggnet2</a></code> in this package, <code><a href=http://www.rdocumentation.org/packages/sna/topics/gplot>gplot</a></code> in the <code><a href=http://www.rdocumentation.org/packages/sna/topics/sna>sna</a></code> package, and <code><a href=http://www.rdocumentation.org/packages/network/topics/plot.network>plot.network</a></code> in the <code><a href=http://www.rdocumentation.org/packages/network/topics/network>network</a></code> package</p>
<h4>
Author
</h4>
<p>Moritz Marbach and Francois Briatte, with help from Heike Hoffmann, Pedro Jordano and Ming-Yu Liu</p>
</div>
<div id="ggnet2" class="section level2">
<h2>ggnet2</h2>
<a id="ggnet2_alias"></a>
<h3>
ggnet2 - Plot a network with ggplot2
</h3>
<p class="rd-p">
Function for plotting network objects using ggplot2, with additional control over graphical parameters that are not supported by the <code><a href='ggnet.html'>ggnet</a></code> function. Please visit <a href = 'http://github.com/briatte/ggnet'>http://github.com/briatte/ggnet</a> for the latest version of ggnet2, and <a href = 'https://briatte.github.io/ggnet'>https://briatte.github.io/ggnet</a> for a vignette that contains many examples and explanations.
</p>
<h4>
Usage
</h4>
<pre class="r"><code><div>ggnet2(net, mode&nbsp;=&nbsp;"fruchtermanreingold", layout.par&nbsp;=&nbsp;NULL, layout.exp&nbsp;=&nbsp;0, alpha&nbsp;=&nbsp;1, color&nbsp;=&nbsp;"grey75", shape&nbsp;=&nbsp;19, size&nbsp;=&nbsp;9, max_size&nbsp;=&nbsp;9, na.rm&nbsp;=&nbsp;NA, palette&nbsp;=&nbsp;NULL, alpha.palette&nbsp;=&nbsp;NULL, alpha.legend&nbsp;=&nbsp;NA, color.palette&nbsp;=&nbsp;palette, color.legend&nbsp;=&nbsp;NA, shape.palette&nbsp;=&nbsp;NULL, shape.legend&nbsp;=&nbsp;NA, size.palette&nbsp;=&nbsp;NULL, size.legend&nbsp;=&nbsp;NA, size.zero&nbsp;=&nbsp;FALSE, size.cut&nbsp;=&nbsp;FALSE, size.min&nbsp;=&nbsp;NA, size.max&nbsp;=&nbsp;NA, label&nbsp;=&nbsp;FALSE, label.alpha&nbsp;=&nbsp;1, label.color&nbsp;=&nbsp;"black", label.size&nbsp;=&nbsp;max_size/2, label.trim&nbsp;=&nbsp;FALSE, node.alpha&nbsp;=&nbsp;alpha, node.color&nbsp;=&nbsp;color, node.label&nbsp;=&nbsp;label, node.shape&nbsp;=&nbsp;shape, node.size&nbsp;=&nbsp;size, edge.alpha&nbsp;=&nbsp;1, edge.color&nbsp;=&nbsp;"grey50", edge.lty&nbsp;=&nbsp;"solid", edge.size&nbsp;=&nbsp;0.25, edge.label&nbsp;=&nbsp;NULL, edge.label.alpha&nbsp;=&nbsp;1, edge.label.color&nbsp;=&nbsp;label.color, edge.label.fill&nbsp;=&nbsp;"white", edge.label.size&nbsp;=&nbsp;max_size/2, arrow.size&nbsp;=&nbsp;0, arrow.gap&nbsp;=&nbsp;0, arrow.type&nbsp;=&nbsp;"closed", legend.size&nbsp;=&nbsp;9, legend.position&nbsp;=&nbsp;"right", ...)</div></code></pre>
<h4>
Arguments
</h4>
<dl class="rd-dl">
<dt>
net
</dt>
<dd class="rd-dd">
an object of class <code><a href=http://www.rdocumentation.org/packages/network/topics/network>network</a></code>, or any object that can be coerced to this class, such as an adjacency or incidence matrix, or an edge list: see <a href=http://www.rdocumentation.org/packages/network/topics/edgeset.constructors>edgeset.constructors</a> and <a href=http://www.rdocumentation.org/packages/network/topics/network>network</a> for details. If the object is of class <code><a href=http://www.rdocumentation.org/packages/igraph/topics/aaa-igraph-package>igraph</a></code> and the <code><a href=http://www.rdocumentation.org/packages/intergraph/topics/intergraph-package>intergraph</a></code> package is installed, it will be used to convert the object: see <code><a href=http://www.rdocumentation.org/packages/intergraph/topics/asNetwork>asNetwork</a></code> for details.
</dd>
<dt>
mode
</dt>
<dd class="rd-dd">
a placement method from those provided in the <code><a href=http://www.rdocumentation.org/packages/sna/topics/sna>sna</a></code> package: see <a href=http://www.rdocumentation.org/packages/sna/topics/gplot.layout>gplot.layout</a> for details. Also accepts the names of two numeric vertex attributes of <code>net</code>, or a matrix of numeric coordinates, in which case the first two columns of the matrix are used. Defaults to the Fruchterman-Reingold force-directed algorithm.
</dd>
<dt>
layout.par
</dt>
<dd class="rd-dd">
options to be passed to the placement method, as listed in <a href=http://www.rdocumentation.org/packages/sna/topics/gplot.layout>gplot.layout</a>. Defaults to <code>NULL</code>.
</dd>
<dt>
layout.exp
</dt>
<dd class="rd-dd">
a multiplier to expand the horizontal axis if node labels get clipped: see <a href=http://www.rdocumentation.org/packages/scales/topics/expand_range>expand_range</a> for details. Defaults to <code>0</code> (no expansion).
</dd>
<dt>
alpha
</dt>
<dd class="rd-dd">
the level of transparency of the edges and nodes, which might be a single value, a vertex attribute, or a vector of values. Also accepts <code>“mode”</code> on bipartite networks (see Details). Defaults to <code>1</code> (no transparency).
</dd>
<dt>
color
</dt>
<dd class="rd-dd">
the color of the nodes, which might be a single value, a vertex attribute, or a vector of values. Also accepts <code>“mode”</code> on bipartite networks (see Details). Defaults to <code>grey75</code>.
</dd>
<dt>
shape
</dt>
<dd class="rd-dd">
the shape of the nodes, which might be a single value, a vertex attribute, or a vector of values. Also accepts <code>“mode”</code> on bipartite networks (see Details). Defaults to <code>19</code> (solid circle).
</dd>
<dt>
size
</dt>
<dd class="rd-dd">
the size of the nodes, in points, which might be a single value, a vertex attribute, or a vector of values. Also accepts <code>“indegree”</code>, <code>“outdegree”</code>, <code>“degree”</code> or <code>“freeman”</code> to size the nodes by their unweighted degree centrality (<code>“degree”</code> and <code>“freeman”</code> are equivalent): see <code><a href=http://www.rdocumentation.org/packages/sna/topics/degree>degree</a></code> for details. All node sizes must be strictly positive. Also accepts <code>“mode”</code> on bipartite networks (see Details). Defaults to <code>9</code>.
</dd>
<dt>
max_size
</dt>
<dd class="rd-dd">
the <em>maximum</em> size of the node when <code>size</code> produces nodes of different sizes, in points. Defaults to <code>9</code>.
</dd>
<dt>
na.rm
</dt>
<dd class="rd-dd">
whether to subset the network to nodes that are <em>not</em> missing a given vertex attribute. If set to any vertex attribute of <code>net</code>, the nodes for which this attribute is <code>NA</code> will be removed. Defaults to <code>NA</code> (does nothing).
</dd>
<dt>
palette
</dt>
<dd class="rd-dd">
the palette to color the nodes, when <code>color</code> is not a color value or a vector of color values. Accepts named vectors of color values, or if <code><a href=http://www.rdocumentation.org/packages/RColorBrewer/topics/ColorBrewer>RColorBrewer</a></code> is installed, any ColorBrewer palette name: see <code><a href=http://www.rdocumentation.org/packages/RColorBrewer/topics/ColorBrewer>brewer.pal</a></code> and <a href = http://colorbrewer2.org/>http://colorbrewer2.org/</a> for details. Defaults to <code>NULL</code>, which will create an array of grayscale color values if <code>color</code> is not a color value or a vector of color values.
</dd>
<dt>
alpha.palette
</dt>
<dd class="rd-dd">
the palette to control the transparency levels of the nodes set by <code>alpha</code> when the levels are not numeric values. Defaults to <code>NULL</code>, which will create an array of alpha transparency values if <code>alpha</code> is not a numeric value or a vector of numeric values.
</dd>
<dt>
alpha.legend
</dt>
<dd class="rd-dd">
the name to assign to the legend created by <code>alpha</code> when its levels are not numeric values. Defaults to <code>NA</code> (no name).
</dd>
<dt>
color.palette
</dt>
<dd class="rd-dd">
see <code>palette</code>
</dd>
<dt>
color.legend
</dt>
<dd class="rd-dd">
the name to assign to the legend created by <code>palette</code>. Defaults to <code>NA</code> (no name).
</dd>
<dt>
shape.palette
</dt>
<dd class="rd-dd">
the palette to control the shapes of the nodes set by <code>shape</code> when the shapes are not numeric values. Defaults to <code>NULL</code>, which will create an array of shape values if <code>shape</code> is not a numeric value or a vector of numeric values.
</dd>
<dt>
shape.legend
</dt>
<dd class="rd-dd">
the name to assign to the legend created by <code>shape</code> when its levels are not numeric values. Defaults to <code>NA</code> (no name).
</dd>
<dt>
size.palette
</dt>
<dd class="rd-dd">
the palette to control the sizes of the nodes set by <code>size</code> when the sizes are not numeric values.
</dd>
<dt>
size.legend
</dt>
<dd class="rd-dd">
the name to assign to the legend created by <code>size</code>. Defaults to <code>NA</code> (no name).
</dd>
<dt>
size.zero
</dt>
<dd class="rd-dd">
whether to accept zero-sized nodes based on the value(s) of <code>size</code>. Defaults to <code>FALSE</code>, which ensures that zero-sized nodes are still shown in the plot and its size legend.
</dd>
<dt>
size.cut
</dt>
<dd class="rd-dd">
whether to cut the size of the nodes into a certain number of quantiles. Accepts <code>TRUE</code>, which tries to cut the sizes into quartiles, or any positive numeric value, which tries to cut the sizes into that many quantiles. If the size of the nodes do not contain the specified number of distinct quantiles, the largest possible number is used. See <code><a href=http://www.rdocumentation.org/packages/stats/topics/quantile>quantile</a></code> and <code><a href=http://www.rdocumentation.org/packages/base/topics/cut>cut</a></code> for details. Defaults to <code>FALSE</code> (does nothing).
</dd>
<dt>
size.min
</dt>
<dd class="rd-dd">
whether to subset the network to nodes with a minimum size, based on the values of <code>size</code>. Defaults to <code>NA</code> (preserves all nodes).
</dd>
<dt>
size.max
</dt>
<dd class="rd-dd">
whether to subset the network to nodes with a maximum size, based on the values of <code>size</code>. Defaults to <code>NA</code> (preserves all nodes).
</dd>
<dt>
label
</dt>
<dd class="rd-dd">
whether to label the nodes. If set to <code>TRUE</code>, nodes are labeled with their vertex names. If set to a vector that contains as many elements as there are nodes in <code>net</code>, nodes are labeled with these. If set to any other vector of values, the nodes are labeled only when their vertex name matches one of these values. Defaults to <code>FALSE</code> (no labels).
</dd>
<dt>
label.alpha
</dt>
<dd class="rd-dd">
the level of transparency of the node labels, as a numeric value, a vector of numeric values, or as a vertex attribute containing numeric values. Defaults to <code>1</code> (no transparency).
</dd>
<dt>
label.color
</dt>
<dd class="rd-dd">
the color of the node labels, as a color value, a vector of color values, or as a vertex attribute containing color values. Defaults to <code>“black”</code>.
</dd>
<dt>
label.size
</dt>
<dd class="rd-dd">
the size of the node labels, in points, as a numeric value, a vector of numeric values, or as a vertex attribute containing numeric values. Defaults to <code>max_size / 2</code> (half the maximum node size), which defaults to <code>4.5</code>.
</dd>
<dt>
label.trim
</dt>
<dd class="rd-dd">
whether to apply some trimming to the node labels. Accepts any function that can process a character vector, or a strictly positive numeric value, in which case the labels are trimmed to a fixed-length substring of that length: see <code><a href=http://www.rdocumentation.org/packages/base/topics/substr>substr</a></code> for details. Defaults to <code>FALSE</code> (does nothing).
</dd>
<dt>
node.alpha
</dt>
<dd class="rd-dd">
see <code>alpha</code>
</dd>
<dt>
node.color
</dt>
<dd class="rd-dd">
see <code>color</code>
</dd>
<dt>
node.label
</dt>
<dd class="rd-dd">
see <code>label</code>
</dd>
<dt>
node.shape
</dt>
<dd class="rd-dd">
see <code>shape</code>
</dd>
<dt>
node.size
</dt>
<dd class="rd-dd">
see <code>size</code>
</dd>
<dt>
edge.alpha
</dt>
<dd class="rd-dd">
the level of transparency of the edges. Defaults to the value of <code>alpha</code>, which defaults to <code>1</code>.
</dd>
<dt>
edge.color
</dt>
<dd class="rd-dd">
the color of the edges, as a color value, a vector of color values, or as an edge attribute containing color values. Defaults to <code>“grey50”</code>.
</dd>
<dt>
edge.lty
</dt>
<dd class="rd-dd">
the linetype of the edges, as a linetype value, a vector of linetype values, or as an edge attribute containing linetype values. Defaults to <code>“solid”</code>.
</dd>
<dt>
edge.size
</dt>
<dd class="rd-dd">
the size of the edges, in points, as a numeric value, a vector of numeric values, or as an edge attribute containing numeric values. All edge sizes must be strictly positive. Defaults to <code>0.25</code>.
</dd>
<dt>
edge.label
</dt>
<dd class="rd-dd">
the labels to plot at the middle of the edges, as a single value, a vector of values, or as an edge attribute. Defaults to <code>NULL</code> (no edge labels).
</dd>
<dt>
edge.label.alpha
</dt>
<dd class="rd-dd">
the level of transparency of the edge labels, as a numeric value, a vector of numeric values, or as an edge attribute containing numeric values. Defaults to <code>1</code> (no transparency).
</dd>
<dt>
edge.label.color
</dt>
<dd class="rd-dd">
the color of the edge labels, as a color value, a vector of color values, or as an edge attribute containing color values. Defaults to <code>label.color</code>, which defaults to <code>“black”</code>.
</dd>
<dt>
edge.label.fill
</dt>
<dd class="rd-dd">
the background color of the edge labels. Defaults to <code>“white”</code>.
</dd>
<dt>
edge.label.size
</dt>
<dd class="rd-dd">
the size of the edge labels, in points, as a numeric value, a vector of numeric values, or as an edge attribute containing numeric values. All edge label sizes must be strictly positive. Defaults to <code>max_size / 2</code> (half the maximum node size), which defaults to <code>4.5</code>.
</dd>
<dt>
arrow.size
</dt>
<dd class="rd-dd">
the size of the arrows for directed network edges, in points. See <code><a href=http://www.rdocumentation.org/packages/grid/topics/arrow>arrow</a></code> for details. Defaults to <code>0</code> (no arrows).
</dd>
<dt>
arrow.gap
</dt>
<dd class="rd-dd">
a setting aimed at improving the display of edge arrows by plotting slightly shorter edges. Accepts any value between <code>0</code> and <code>1</code>, where a value of <code>0.05</code> will generally achieve good results when the size of the nodes is reasonably small. Defaults to <code>0</code> (no shortening).
</dd>
<dt>
arrow.type
</dt>
<dd class="rd-dd">
the type of the arrows for directed network edges. See <code><a href=http://www.rdocumentation.org/packages/grid/topics/arrow>arrow</a></code> for details. Defaults to <code>“closed”</code>.
</dd>
<dt>
legend.size
</dt>
<dd class="rd-dd">
the size of the legend symbols and text, in points. Defaults to <code>9</code>.
</dd>
<dt>
legend.position
</dt>
<dd class="rd-dd">
the location of the plot legend(s). Accepts all <code>legend.position</code> values supported by <code><a href=http://www.rdocumentation.org/packages/ggplot2/topics/theme>theme</a></code>. Defaults to <code>“right”</code>.
</dd>
<dt>
…
</dt>
<dd class="rd-dd">
other arguments passed to the <code>geom_text</code> object that sets the node labels: see <code><a href=http://www.rdocumentation.org/packages/ggplot2/topics/geom_text>geom_text</a></code> for details.
</dd>
</dl>
<h4>
Details
</h4>
<p class="rd-p">
The degree centrality measures that can be produced through the <code>size</code> argument will take the directedness of the network into account, but will be unweighted. To compute weighted network measures, see the <code>tnet</code> package by Tore Opsahl (<code>help(“tnet”, package = “tnet”)</code>).
</p>
<p class="rd-p">
The nodes of bipartite networks can be mapped to their mode by passing the <code>“mode”</code> argument to any of <code>alpha</code>, <code>color</code>, <code>shape</code> and <code>size</code>, in which case the nodes of the primary mode will be mapped as <code>“actor”</code>, and the nodes of the secondary mode will be mapped as <code>“event”</code>.
</p>
<h4>
Examples
</h4>
<pre class="r"><code>library(network)

# random adjacency matrix
x           &lt;- 10
ndyads      &lt;- x * (x - 1)
density     &lt;- x / ndyads
m           &lt;- matrix(0, nrow = x, ncol = x)
dimnames(m) &lt;- list(letters[ 1:x ], letters[ 1:x ])
m[ row(m) != col(m) ] &lt;- runif(ndyads) &lt; density
m</code></pre>
<pre><code>##   a b c d e f g h i j
## a 0 0 0 1 0 0 0 0 0 0
## b 0 0 0 0 0 0 0 0 0 0
## c 0 0 0 0 0 0 0 0 0 1
## d 0 1 0 0 0 0 0 1 0 0
## e 1 0 0 0 0 0 0 0 0 0
## f 0 0 0 0 0 0 0 0 0 0
## g 0 0 0 1 0 0 0 0 0 0
## h 0 0 1 1 0 0 0 0 0 0
## i 0 0 0 1 1 0 0 0 0 0
## j 0 0 0 0 0 1 0 0 0 0</code></pre>
<pre class="r"><code># random undirected network
n &lt;- network::network(m, directed = FALSE)
n</code></pre>
<pre><code>##  Network attributes:
##   vertices = 10 
##   directed = FALSE 
##   hyper = FALSE 
##   loops = FALSE 
##   multiple = FALSE 
##   bipartite = FALSE 
##   total edges= 10 
##     missing edges= 0 
##     non-missing edges= 10 
## 
##  Vertex attribute names: 
##     vertex.names 
## 
## No edge attributes</code></pre>
<pre class="r"><code>ggnet2(n, label = TRUE)</code></pre>
<p><img src="rd_files/figure-html/ggnet2_id_36-1.png" width="960" /></p>
<pre class="r"><code>ggnet2(n, label = TRUE, shape = 15)</code></pre>
<p><img src="rd_files/figure-html/ggnet2_id_36-2.png" width="960" /></p>
<pre class="r"><code>ggnet2(n, label = TRUE, shape = 15, color = &quot;black&quot;, label.color = &quot;white&quot;)</code></pre>
<p><img src="rd_files/figure-html/ggnet2_id_36-3.png" width="960" /></p>
<pre class="r"><code># add vertex attribute
x = network.vertex.names(n)
x = ifelse(x %in% c(&quot;a&quot;, &quot;e&quot;, &quot;i&quot;), &quot;vowel&quot;, &quot;consonant&quot;)
n %v% &quot;phono&quot; = x

ggnet2(n, color = &quot;phono&quot;)</code></pre>
<p><img src="rd_files/figure-html/ggnet2_id_36-4.png" width="960" /></p>
<pre class="r"><code>ggnet2(n, color = &quot;phono&quot;, palette = c(&quot;vowel&quot; = &quot;gold&quot;, &quot;consonant&quot; = &quot;grey&quot;))</code></pre>
<p><img src="rd_files/figure-html/ggnet2_id_36-5.png" width="960" /></p>
<pre class="r"><code>ggnet2(n, shape = &quot;phono&quot;, color = &quot;phono&quot;)</code></pre>
<pre><code>## Warning in guide_merge.legend(init, x[[i]]): Duplicated override.aes is
## ignored.</code></pre>
<p><img src="rd_files/figure-html/ggnet2_id_36-6.png" width="960" /></p>
<pre class="r"><code>if (require(RColorBrewer)) {

  # random groups
  n %v% &quot;group&quot; &lt;- sample(LETTERS[1:3], 10, replace = TRUE)

  ggnet2(n, color = &quot;group&quot;, palette = &quot;Set2&quot;)

}</code></pre>
<pre><code>## Loading required package: RColorBrewer</code></pre>
<p><img src="rd_files/figure-html/ggnet2_id_36-7.png" width="960" /></p>
<pre class="r"><code># random weights
n %e% &quot;weight&quot; &lt;- sample(1:3, network.edgecount(n), replace = TRUE)
ggnet2(n, edge.size = &quot;weight&quot;, edge.label = &quot;weight&quot;)</code></pre>
<p><img src="rd_files/figure-html/ggnet2_id_36-8.png" width="960" /></p>
<pre class="r"><code># edge arrows on a directed network
ggnet2(network(m, directed = TRUE), arrow.gap = 0.05, arrow.size = 10)</code></pre>
<p><img src="rd_files/figure-html/ggnet2_id_36-9.png" width="960" /></p>
<pre class="r"><code># Padgett&#39;s Florentine wedding data
data(flo, package = &quot;network&quot;)
flo</code></pre>
<pre><code>##              Acciaiuoli Albizzi Barbadori Bischeri Castellani Ginori
## Acciaiuoli            0       0         0        0          0      0
## Albizzi               0       0         0        0          0      1
## Barbadori             0       0         0        0          1      0
## Bischeri              0       0         0        0          0      0
## Castellani            0       0         1        0          0      0
## Ginori                0       1         0        0          0      0
## Guadagni              0       1         0        1          0      0
## Lamberteschi          0       0         0        0          0      0
## Medici                1       1         1        0          0      0
## Pazzi                 0       0         0        0          0      0
## Peruzzi               0       0         0        1          1      0
## Pucci                 0       0         0        0          0      0
## Ridolfi               0       0         0        0          0      0
## Salviati              0       0         0        0          0      0
## Strozzi               0       0         0        1          1      0
## Tornabuoni            0       0         0        0          0      0
##              Guadagni Lamberteschi Medici Pazzi Peruzzi Pucci Ridolfi
## Acciaiuoli          0            0      1     0       0     0       0
## Albizzi             1            0      1     0       0     0       0
## Barbadori           0            0      1     0       0     0       0
## Bischeri            1            0      0     0       1     0       0
## Castellani          0            0      0     0       1     0       0
## Ginori              0            0      0     0       0     0       0
## Guadagni            0            1      0     0       0     0       0
## Lamberteschi        1            0      0     0       0     0       0
## Medici              0            0      0     0       0     0       1
## Pazzi               0            0      0     0       0     0       0
## Peruzzi             0            0      0     0       0     0       0
## Pucci               0            0      0     0       0     0       0
## Ridolfi             0            0      1     0       0     0       0
## Salviati            0            0      1     1       0     0       0
## Strozzi             0            0      0     0       1     0       1
## Tornabuoni          1            0      1     0       0     0       1
##              Salviati Strozzi Tornabuoni
## Acciaiuoli          0       0          0
## Albizzi             0       0          0
## Barbadori           0       0          0
## Bischeri            0       1          0
## Castellani          0       1          0
## Ginori              0       0          0
## Guadagni            0       0          1
## Lamberteschi        0       0          0
## Medici              1       0          1
## Pazzi               1       0          0
## Peruzzi             0       1          0
## Pucci               0       0          0
## Ridolfi             0       1          1
## Salviati            0       0          0
## Strozzi             0       0          0
## Tornabuoni          0       0          0</code></pre>
<pre class="r"><code>ggnet2(flo, label = TRUE)</code></pre>
<p><img src="rd_files/figure-html/ggnet2_id_36-10.png" width="960" /></p>
<pre class="r"><code>ggnet2(flo, label = TRUE, label.trim = 4, vjust = -1, size = 3, color = 1)</code></pre>
<p><img src="rd_files/figure-html/ggnet2_id_36-11.png" width="960" /></p>
<pre class="r"><code>ggnet2(flo, label = TRUE, size = 12, color = &quot;white&quot;)</code></pre>
<p><img src="rd_files/figure-html/ggnet2_id_36-12.png" width="960" /></p>
<h4>
See also
</h4>
<p><code><a href=#ggnet>ggnet</a></code> in this package, <code><a href=http://www.rdocumentation.org/packages/sna/topics/gplot>gplot</a></code> in the <code><a href=http://www.rdocumentation.org/packages/sna/topics/sna>sna</a></code> package, and <code><a href=http://www.rdocumentation.org/packages/network/topics/plot.network>plot.network</a></code> in the <code><a href=http://www.rdocumentation.org/packages/network/topics/network>network</a></code> package</p>
<h4>
Author
</h4>
<p>Moritz Marbach and Francois Briatte, with help from Heike Hoffmann, Pedro Jordano and Ming-Yu Liu</p>
</div>
<div id="ggnetworkmap" class="section level2">
<h2>ggnetworkmap</h2>
<a id="ggnetworkmap_alias"></a>
<h3>
ggnetworkmap - Plot a network with ggplot2 suitable for overlay on a ggmap:: map ggplot, or other ggplot
</h3>
<p class="rd-p">
This is a descendent of the original <code>ggnet</code> function. <code>ggnet</code> added the innovation of plotting the network geographically. However, <code>ggnet</code> needed to be the first object in the ggplot chain. <code>ggnetworkmap</code> does not. If passed a <code>ggplot</code> object as its first argument, such as output from <code>ggmap</code>, <code>ggnetworkmap</code> will plot on top of that chart, looking for vertex attributes <code>lon</code> and <code>lat</code> as coordinates. Otherwise, <code>ggnetworkmap</code> will generate coordinates using the Fruchterman-Reingold algorithm.
</p>
<h4>
Usage
</h4>
<pre class="r"><code><div>ggnetworkmap(gg, net, size&nbsp;=&nbsp;3, alpha&nbsp;=&nbsp;0.75, weight, node.group, node.color&nbsp;=&nbsp;NULL, node.alpha&nbsp;=&nbsp;NULL, ring.group, segment.alpha&nbsp;=&nbsp;NULL, segment.color&nbsp;=&nbsp;"grey", great.circles&nbsp;=&nbsp;FALSE, segment.size&nbsp;=&nbsp;0.25, arrow.size&nbsp;=&nbsp;0, label.nodes&nbsp;=&nbsp;FALSE, label.size&nbsp;=&nbsp;size/2, ...)</div></code></pre>
<h4>
Arguments
</h4>
<dl class="rd-dl">
<dt>
gg
</dt>
<dd class="rd-dd">
an object of class <code>ggplot</code>.
</dd>
<dt>
net
</dt>
<dd class="rd-dd">
an object of class <code><a href=http://www.rdocumentation.org/packages/network/topics/network>network</a></code>, or any object that can be coerced to this class, such as an adjacency or incidence matrix, or an edge list: see <a href=http://www.rdocumentation.org/packages/network/topics/edgeset.constructors>edgeset.constructors</a> and <a href=http://www.rdocumentation.org/packages/network/topics/network>network</a> for details. If the object is of class <code><a href=http://www.rdocumentation.org/packages/igraph/topics/aaa-igraph-package>igraph</a></code> and the <code><a href=http://www.rdocumentation.org/packages/intergraph/topics/intergraph-package>intergraph</a></code> package is installed, it will be used to convert the object: see <code><a href=http://www.rdocumentation.org/packages/intergraph/topics/asNetwork>asNetwork</a></code> for details.
</dd>
<dt>
size
</dt>
<dd class="rd-dd">
size of the network nodes. Defaults to 3. If the nodes are weighted, their area is proportionally scaled up to the size set by <code>size</code>.
</dd>
<dt>
alpha
</dt>
<dd class="rd-dd">
a level of transparency for nodes, vertices and arrows. Defaults to 0.75.
</dd>
<dt>
weight
</dt>
<dd class="rd-dd">
if present, the unquoted name of a vertex attribute in <code>data</code>. Otherwise nodes are unweighted.
</dd>
<dt>
node.group
</dt>
<dd class="rd-dd">
<code>NULL</code>, the default, or the unquoted name of a vertex attribute that will be used to determine the color of each node.
</dd>
<dt>
node.color
</dt>
<dd class="rd-dd">
If <code>node.group</code> is null, a character string specifying a color.
</dd>
<dt>
node.alpha
</dt>
<dd class="rd-dd">
transparency of the nodes. Inherits from <code>alpha</code>.
</dd>
<dt>
ring.group
</dt>
<dd class="rd-dd">
if not <code>NULL</code>, the default, the unquoted name of a vertex attribute that will be used to determine the color of each node border.
</dd>
<dt>
segment.alpha
</dt>
<dd class="rd-dd">
transparency of the vertex links. Inherits from <code>alpha</code>
</dd>
<dt>
segment.color
</dt>
<dd class="rd-dd">
color of the vertex links. Defaults to <code>“grey”</code>.
</dd>
<dt>
great.circles
</dt>
<dd class="rd-dd">
whether to draw edges as great circles using the <code>geosphere</code> package. Defaults to <code>FALSE</code>
</dd>
<dt>
segment.size
</dt>
<dd class="rd-dd">
size of the vertex links, as a vector of values or as a single value. Defaults to 0.25.
</dd>
<dt>
arrow.size
</dt>
<dd class="rd-dd">
size of the vertex arrows for directed network plotting, in centimeters. Defaults to 0.
</dd>
<dt>
label.nodes
</dt>
<dd class="rd-dd">
label nodes with their vertex names attribute. If set to <code>TRUE</code>, all nodes are labelled. Also accepts a vector of character strings to match with vertex names.
</dd>
<dt>
label.size
</dt>
<dd class="rd-dd">
size of the labels. Defaults to <code>size / 2</code>.
</dd>
<dt>
…
</dt>
<dd class="rd-dd">
other arguments supplied to geom_text for the node labels. Arguments pertaining to the title or other items can be achieved through ggplot2 methods.
</dd>
</dl>
<h4>
Details
</h4>
<p class="rd-p">
This is a function for plotting graphs generated by <code>network</code> or <code>igraph</code> in a more flexible and elegant manner than permitted by ggnet. The function does not need to be the first plot in the ggplot chain, so the graph can be plotted on top of a map or other chart. Segments can be straight lines, or plotted as great circles. Note that the great circles feature can produce odd results with arrows and with vertices beyond the plot edges; this is a gglot2 limitation and cannot yet be fixed. Nodes can have two color schemes, which are then plotted as the center and ring around the node. The color schemes are selected by adding scale_fill_ or scale_color_ just like any other ggplot2 plot. If there are no rings, scale_color sets the color of the nodes. If there are rings, scale_color sets the color of the rings, and scale_fill sets the color of the centers. Note that additional arguments in the … are passed to geom_text for plotting labels.
</p>
<h4>
Examples
</h4>
<pre class="r"><code># small function to display plots only if it&#39;s interactive
p_ &lt;- GGally::print_if_interactive

invisible(lapply(c(&quot;ggplot2&quot;, &quot;maps&quot;, &quot;network&quot;, &quot;sna&quot;), base::library, character.only = TRUE))

## Example showing great circles on a simple map of the USA
## http://flowingdata.com/2011/05/11/how-to-map-connections-with-great-circles/

airports &lt;- read.csv(&quot;http://datasets.flowingdata.com/tuts/maparcs/airports.csv&quot;, header = TRUE)
rownames(airports) &lt;- airports$iata

# select some random flights
set.seed(1234)
flights &lt;- data.frame(
  origin = sample(airports[200:400, ]$iata, 200, replace = TRUE),
  destination = sample(airports[200:400, ]$iata, 200, replace = TRUE)
)

# convert to network
flights &lt;- network(flights, directed = TRUE)

# add geographic coordinates
flights %v% &quot;lat&quot; &lt;- airports[ network.vertex.names(flights), &quot;lat&quot; ]
flights %v% &quot;lon&quot; &lt;- airports[ network.vertex.names(flights), &quot;long&quot; ]

# drop isolated airports
delete.vertices(flights, which(degree(flights) &lt; 2))

# compute degree centrality
flights %v% &quot;degree&quot; &lt;- degree(flights, gmode = &quot;digraph&quot;)

# add random groups
flights %v% &quot;mygroup&quot; &lt;- sample(letters[1:4], network.size(flights), replace = TRUE)

# create a map of the USA
usa &lt;- ggplot(map_data(&quot;usa&quot;), aes(x = long, y = lat)) +
  geom_polygon(aes(group = group), color = &quot;grey65&quot;,
               fill = &quot;#f9f9f9&quot;, size = 0.2)

# overlay network data to map
p &lt;- ggnetworkmap(
  usa, flights, size = 4, great.circles = TRUE,
  node.group = mygroup, segment.color = &quot;steelblue&quot;,
  ring.group = degree, weight = degree
)
p_(p)</code></pre>
<p><img src="rd_files/figure-html/ggnetworkmap_id_37-1.png" width="960" /></p>
<pre class="r"><code>## Exploring a community of spambots found on Twitter
## Data by Amos Elberg: see ?twitter_spambots for details

data(twitter_spambots)

# create a world map
world &lt;- fortify(map(&quot;world&quot;, plot = FALSE, fill = TRUE))
world &lt;- ggplot(world, aes(x = long, y = lat)) +
  geom_polygon(aes(group = group), color = &quot;grey65&quot;,
               fill = &quot;#f9f9f9&quot;, size = 0.2)

# view global structure
p &lt;- ggnetworkmap(world, twitter_spambots)
p_(p)</code></pre>
<p><img src="rd_files/figure-html/ggnetworkmap_id_37-2.png" width="960" /></p>
<pre class="r"><code># domestic distribution
p &lt;- ggnetworkmap(net = twitter_spambots)
p_(p)</code></pre>
<p><img src="rd_files/figure-html/ggnetworkmap_id_37-3.png" width="960" /></p>
<pre class="r"><code># topology
p &lt;- ggnetworkmap(net = twitter_spambots, arrow.size = 0.5)
p_(p)</code></pre>
<p><img src="rd_files/figure-html/ggnetworkmap_id_37-4.png" width="960" /></p>
<pre class="r"><code># compute indegree and outdegree centrality
twitter_spambots %v% &quot;indegree&quot; &lt;- degree(twitter_spambots, cmode = &quot;indegree&quot;)
twitter_spambots %v% &quot;outdegree&quot; &lt;- degree(twitter_spambots, cmode = &quot;outdegree&quot;)

p &lt;- ggnetworkmap(
  net = twitter_spambots,
  arrow.size = 0.5,
  node.group = indegree,
  ring.group = outdegree, size = 4
) +
  scale_fill_continuous(&quot;Indegree&quot;, high = &quot;red&quot;, low = &quot;yellow&quot;) +
  labs(color = &quot;Outdegree&quot;)
p_(p)</code></pre>
<p><img src="rd_files/figure-html/ggnetworkmap_id_37-5.png" width="960" /></p>
<pre class="r"><code># show some vertex attributes associated with each account
p &lt;- ggnetworkmap(
  net = twitter_spambots,
  arrow.size = 0.5,
  node.group = followers,
  ring.group = friends,
  size = 4,
  weight = indegree,
  label.nodes = TRUE, vjust = -1.5
) +
  scale_fill_continuous(&quot;Followers&quot;, high = &quot;red&quot;, low = &quot;yellow&quot;) +
  labs(color = &quot;Friends&quot;) +
  scale_color_continuous(low = &quot;lightgreen&quot;, high = &quot;darkgreen&quot;)
p_(p)</code></pre>
<p><img src="rd_files/figure-html/ggnetworkmap_id_37-6.png" width="960" /></p>
<h4>
Author
</h4>
<p>Amos Elberg <a href='mailto:amos.elberg@gmail.com'>amos.elberg@gmail.com</a>. Original by Moritz Marbach <a href='mailto:mmarbach@mail.uni-mannheim.de'>mmarbach@mail.uni-mannheim.de</a>, Francois Briatte <a href='mailto:f.briatte@gmail.com'>f.briatte@gmail.com</a></p>
</div>
</div>
<div id="high-level-plots" class="section level1">
<h1>High-Level Plots</h1>
<div id="ggally_bardiag" class="section level2">
<h2>ggally_barDiag</h2>
<a id="ggally_barDiag_alias"></a>
<h3>
Plots the Bar Plots by Using Diagonal
</h3>
<p class="rd-p">
Plots the bar plots by using Diagonal.
</p>
<h4>
Usage
</h4>
<pre class="r"><code><div>ggally_barDiag(data, mapping, ..., rescale&nbsp;=&nbsp;FALSE)</div></code></pre>
<h4>
Arguments
</h4>
<dl class="rd-dl">
<dt>
data
</dt>
<dd class="rd-dd">
data set using
</dd>
<dt>
mapping
</dt>
<dd class="rd-dd">
aesthetics being used
</dd>
<dt>
…
</dt>
<dd class="rd-dd">
other arguements are sent to geom_bar
</dd>
<dt>
rescale
</dt>
<dd class="rd-dd">
boolean to decide whether or not to rescale the count output. Only applies to numeric data
</dd>
</dl>
<h4>
Examples
</h4>
<pre class="r"><code>data(tips, package = &quot;reshape&quot;)
ggally_barDiag(tips, mapping = ggplot2::aes(x = day))</code></pre>
<p><img src="rd_files/figure-html/ggally_barDiag_id_38-1.png" width="960" /></p>
<pre class="r"><code>ggally_barDiag(tips, mapping = ggplot2::aes(x = tip), binwidth = 0.25)</code></pre>
<p><img src="rd_files/figure-html/ggally_barDiag_id_38-2.png" width="960" /></p>
<h4>
Author
</h4>
<p>Barret Schloerke <a href='mailto:schloerke@gmail.com'>schloerke@gmail.com</a></p>
</div>
<div id="ggally_box-ggally_box_no_facet" class="section level2">
<h2>ggally_box, ggally_box_no_facet</h2>
<a id="ggally_box_alias"></a>
<h3>
Plots the Box Plot
</h3>
<p class="rd-p">
Make a box plot with a given data set. <code>ggally_box_no_facet</code> will be a single panel plot, while <code>ggally_box</code> will be a faceted plot
</p>
<h4>
Usage
</h4>
<pre class="r"><code><div>ggally_box(data, mapping, ...)</div>
<div>ggally_box_no_facet(data, mapping, ...)</div></code></pre>
<h4>
Arguments
</h4>
<dl class="rd-dl">
<dt>
data
</dt>
<dd class="rd-dd">
data set using
</dd>
<dt>
mapping
</dt>
<dd class="rd-dd">
aesthetics being used
</dd>
<dt>
…
</dt>
<dd class="rd-dd">
other arguments being supplied to geom_boxplot
</dd>
</dl>
<h4>
Examples
</h4>
<pre class="r"><code> data(tips, package = &quot;reshape&quot;)
 ggally_box(tips, mapping = ggplot2::aes(x = total_bill, y = sex))</code></pre>
<p><img src="rd_files/figure-html/ggally_box_id_39-1.png" width="960" /></p>
<pre class="r"><code> ggally_box(tips, mapping = ggplot2::aes_string(x = &quot;total_bill&quot;, y = &quot;sex&quot;))</code></pre>
<p><img src="rd_files/figure-html/ggally_box_id_39-2.png" width="960" /></p>
<pre class="r"><code> ggally_box(
   tips,
   mapping        = ggplot2::aes_string(y = &quot;total_bill&quot;, x = &quot;sex&quot;, color = &quot;sex&quot;),
   outlier.colour = &quot;red&quot;,
   outlier.shape  = 13,
   outlier.size   = 8
 )</code></pre>
<p><img src="rd_files/figure-html/ggally_box_id_39-3.png" width="960" /></p>
<h4>
Author
</h4>
<p>Barret Schloerke <a href='mailto:schloerke@gmail.com'>schloerke@gmail.com</a></p>
</div>
<div id="ggally_cor" class="section level2">
<h2>ggally_cor</h2>
<a id="ggally_cor_alias"></a>
<h3>
Correlation from the Scatter Plot
</h3>
<p class="rd-p">
Estimate correlation from the given data.
</p>
<h4>
Usage
</h4>
<pre class="r"><code><div>ggally_cor(data, mapping, alignPercent&nbsp;=&nbsp;0.6, method&nbsp;=&nbsp;"pearson", use&nbsp;=&nbsp;"complete.obs", corAlignPercent&nbsp;=&nbsp;NULL, corMethod&nbsp;=&nbsp;NULL, corUse&nbsp;=&nbsp;NULL, ...)</div></code></pre>
<h4>
Arguments
</h4>
<dl class="rd-dl">
<dt>
data
</dt>
<dd class="rd-dd">
data set using
</dd>
<dt>
mapping
</dt>
<dd class="rd-dd">
aesthetics being used
</dd>
<dt>
alignPercent
</dt>
<dd class="rd-dd">
right align position of numbers. Default is 60 percent across the horizontal
</dd>
<dt>
method
</dt>
<dd class="rd-dd">
<code>method</code> suppied to cor function
</dd>
<dt>
use
</dt>
<dd class="rd-dd">
<code>use</code> supplied to cor function
</dd>
<dt>
corAlignPercent
</dt>
<dd class="rd-dd">
deprecated. Use parameter <code>alignPercent</code>
</dd>
<dt>
corMethod
</dt>
<dd class="rd-dd">
deprecated. Use parameter <code>method</code>
</dd>
<dt>
corUse
</dt>
<dd class="rd-dd">
deprecated. Use parameter <code>use</code>
</dd>
<dt>
…
</dt>
<dd class="rd-dd">
other arguments being supplied to geom_text
</dd>
</dl>
<h4>
Examples
</h4>
<pre class="r"><code> data(tips, package = &quot;reshape&quot;)
 ggally_cor(tips, mapping = ggplot2::aes_string(x = &quot;total_bill&quot;, y = &quot;tip&quot;))</code></pre>
<p><img src="rd_files/figure-html/ggally_cor_id_40-1.png" width="960" /></p>
<pre class="r"><code> ggally_cor(
   tips,
   mapping = ggplot2::aes(x = total_bill, y = tip),
   size = 15,
   colour = I(&quot;red&quot;)
 )</code></pre>
<p><img src="rd_files/figure-html/ggally_cor_id_40-2.png" width="960" /></p>
<pre class="r"><code> ggally_cor(
   tips,
   mapping = ggplot2::aes_string(x = &quot;total_bill&quot;, y = &quot;tip&quot;, color = &quot;sex&quot;),
   size = 5
 )</code></pre>
<p><img src="rd_files/figure-html/ggally_cor_id_40-3.png" width="960" /></p>
<h4>
Author
</h4>
<p>Barret Schloerke <a href='mailto:schloerke@gmail.com'>schloerke@gmail.com</a></p>
</div>
<div id="ggally_density" class="section level2">
<h2>ggally_density</h2>
<a id="ggally_density_alias"></a>
<h3>
Plots the Scatter Density Plot
</h3>
<p class="rd-p">
Make a scatter density plot from a given data.
</p>
<h4>
Usage
</h4>
<pre class="r"><code><div>ggally_density(data, mapping, ...)</div></code></pre>
<h4>
Arguments
</h4>
<dl class="rd-dl">
<dt>
data
</dt>
<dd class="rd-dd">
data set using
</dd>
<dt>
mapping
</dt>
<dd class="rd-dd">
aesthetics being used
</dd>
<dt>
…
</dt>
<dd class="rd-dd">
parameters sent to either stat_density2d or geom_density2d
</dd>
</dl>
<h4>
Details
</h4>
<p class="rd-p">
The aesthetic “fill” determines whether or not stat_density2d (filled) or geom_density2d (lines) is used.
</p>
<h4>
Examples
</h4>
<pre class="r"><code> data(tips, package = &quot;reshape&quot;)
 ggally_density(tips, mapping = ggplot2::aes(x = total_bill, y = tip))</code></pre>
<p><img src="rd_files/figure-html/ggally_density_id_41-1.png" width="960" /></p>
<pre class="r"><code> ggally_density(tips, mapping = ggplot2::aes_string(x = &quot;total_bill&quot;, y = &quot;tip&quot;))</code></pre>
<p><img src="rd_files/figure-html/ggally_density_id_41-2.png" width="960" /></p>
<pre class="r"><code> ggally_density(
   tips,
   mapping = ggplot2::aes_string(x = &quot;total_bill&quot;, y = &quot;tip&quot;, fill = &quot;..level..&quot;)
 )</code></pre>
<p><img src="rd_files/figure-html/ggally_density_id_41-3.png" width="960" /></p>
<pre class="r"><code> ggally_density(
   tips,
   mapping = ggplot2::aes_string(x = &quot;total_bill&quot;, y = &quot;tip&quot;, fill = &quot;..level..&quot;)
 ) + ggplot2::scale_fill_gradient(breaks = c(0.05, 0.1, 0.15, 0.2))</code></pre>
<p><img src="rd_files/figure-html/ggally_density_id_41-4.png" width="960" /></p>
<h4>
Author
</h4>
<p>Barret Schloerke <a href='mailto:schloerke@gmail.com'>schloerke@gmail.com</a></p>
</div>
<div id="ggally_densitydiag" class="section level2">
<h2>ggally_densityDiag</h2>
<a id="ggally_densityDiag_alias"></a>
<h3>
Plots the Density Plots by Using Diagonal
</h3>
<p class="rd-p">
Plots the density plots by using Diagonal.
</p>
<h4>
Usage
</h4>
<pre class="r"><code><div>ggally_densityDiag(data, mapping, ..., rescale&nbsp;=&nbsp;FALSE)</div></code></pre>
<h4>
Arguments
</h4>
<dl class="rd-dl">
<dt>
data
</dt>
<dd class="rd-dd">
data set using
</dd>
<dt>
mapping
</dt>
<dd class="rd-dd">
aesthetics being used.
</dd>
<dt>
…
</dt>
<dd class="rd-dd">
other arguments sent to stat_density
</dd>
<dt>
rescale
</dt>
<dd class="rd-dd">
boolean to decide whether or not to rescale the count output
</dd>
</dl>
<h4>
Examples
</h4>
<pre class="r"><code> data(tips, package = &quot;reshape&quot;)
 ggally_densityDiag(tips, mapping = ggplot2::aes(x = total_bill))</code></pre>
<p><img src="rd_files/figure-html/ggally_densityDiag_id_42-1.png" width="960" /></p>
<pre class="r"><code> ggally_densityDiag(tips, mapping = ggplot2::aes(x = total_bill, color = day))</code></pre>
<p><img src="rd_files/figure-html/ggally_densityDiag_id_42-2.png" width="960" /></p>
<h4>
Author
</h4>
<p>Barret Schloerke <a href='mailto:schloerke@gmail.com'>schloerke@gmail.com</a></p>
</div>
<div id="ggally_denstrip" class="section level2">
<h2>ggally_denstrip</h2>
<a id="ggally_denstrip_alias"></a>
<h3>
Plots a tile plot with facets
</h3>
<p class="rd-p">
Make Tile Plot as densely as possible.
</p>
<h4>
Usage
</h4>
<pre class="r"><code><div>ggally_denstrip(data, mapping, ...)</div></code></pre>
<h4>
Arguments
</h4>
<dl class="rd-dl">
<dt>
data
</dt>
<dd class="rd-dd">
data set using
</dd>
<dt>
mapping
</dt>
<dd class="rd-dd">
aesthetics being used
</dd>
<dt>
…
</dt>
<dd class="rd-dd">
other arguments being sent to stat_bin
</dd>
</dl>
<h4>
Examples
</h4>
<pre class="r"><code> data(tips, package = &quot;reshape&quot;)
 ggally_denstrip(tips, mapping = ggplot2::aes(x = total_bill, y = sex))</code></pre>
<pre><code>## `stat_bin()` using `bins = 30`. Pick better value with `binwidth`.</code></pre>
<pre><code>## Warning: Removed 15 rows containing missing values (geom_bar).</code></pre>
<p><img src="rd_files/figure-html/ggally_denstrip_id_43-1.png" width="960" /></p>
<pre class="r"><code> ggally_denstrip(tips, mapping = ggplot2::aes_string(x = &quot;total_bill&quot;, y = &quot;sex&quot;))</code></pre>
<pre><code>## `stat_bin()` using `bins = 30`. Pick better value with `binwidth`.</code></pre>
<pre><code>## Warning: Removed 15 rows containing missing values (geom_bar).</code></pre>
<p><img src="rd_files/figure-html/ggally_denstrip_id_43-2.png" width="960" /></p>
<pre class="r"><code> ggally_denstrip(
   tips,
   mapping = ggplot2::aes_string(x = &quot;sex&quot;, y = &quot;tip&quot;, binwidth = &quot;0.2&quot;)
 ) + ggplot2::scale_fill_gradient(low = &quot;grey80&quot;, high = &quot;black&quot;)</code></pre>
<pre><code>## `stat_bin()` using `bins = 30`. Pick better value with `binwidth`.</code></pre>
<pre><code>## Warning: Removed 22 rows containing missing values (geom_bar).</code></pre>
<p><img src="rd_files/figure-html/ggally_denstrip_id_43-3.png" width="960" /></p>
<h4>
Author
</h4>
<p>Barret Schloerke <a href='mailto:schloerke@gmail.com'>schloerke@gmail.com</a></p>
</div>
<div id="ggally_dot-ggally_dot_no_facet" class="section level2">
<h2>ggally_dot, ggally_dot_no_facet</h2>
<a id="ggally_dot_alias"></a>
<h3>
Plots the Box Plot with Dot
</h3>
<p class="rd-p">
Add jittering with the box plot. <code>ggally_dot_no_facet</code> will be a single panel plot, while <code>ggally_dot</code> will be a faceted plot
</p>
<h4>
Usage
</h4>
<pre class="r"><code><div>ggally_dot(data, mapping, ...)</div>
<div>ggally_dot_no_facet(data, mapping, ...)</div></code></pre>
<h4>
Arguments
</h4>
<dl class="rd-dl">
<dt>
data
</dt>
<dd class="rd-dd">
data set using
</dd>
<dt>
mapping
</dt>
<dd class="rd-dd">
aesthetics being used
</dd>
<dt>
…
</dt>
<dd class="rd-dd">
other arguments being supplied to geom_jitter
</dd>
</dl>
<h4>
Examples
</h4>
<pre class="r"><code> data(tips, package = &quot;reshape&quot;)
 ggally_dot(tips, mapping = ggplot2::aes(x = total_bill, y = sex))</code></pre>
<p><img src="rd_files/figure-html/ggally_dot_id_44-1.png" width="960" /></p>
<pre class="r"><code> ggally_dot(tips, mapping = ggplot2::aes_string(x = &quot;total_bill&quot;, y = &quot;sex&quot;))</code></pre>
<p><img src="rd_files/figure-html/ggally_dot_id_44-2.png" width="960" /></p>
<pre class="r"><code> ggally_dot(
   tips,
   mapping = ggplot2::aes_string(y = &quot;total_bill&quot;, x = &quot;sex&quot;, color = &quot;sex&quot;)
 )</code></pre>
<p><img src="rd_files/figure-html/ggally_dot_id_44-3.png" width="960" /></p>
<pre class="r"><code> ggally_dot(
   tips,
   mapping = ggplot2::aes_string(y = &quot;total_bill&quot;, x = &quot;sex&quot;, color = &quot;sex&quot;, shape = &quot;sex&quot;)
 ) + ggplot2::scale_shape(solid=FALSE)</code></pre>
<p><img src="rd_files/figure-html/ggally_dot_id_44-4.png" width="960" /></p>
<h4>
Author
</h4>
<p>Barret Schloerke <a href='mailto:schloerke@gmail.com'>schloerke@gmail.com</a></p>
</div>
<div id="ggally_facetbar" class="section level2">
<h2>ggally_facetbar</h2>
<a id="ggally_facetbar_alias"></a>
<h3>
Plots the Bar Plots Faceted by Conditional Variable
</h3>
<p class="rd-p">
X variables are plotted using <code>geom_bar</code> and faceted by the Y variable.
</p>
<h4>
Usage
</h4>
<pre class="r"><code><div>ggally_facetbar(data, mapping, ...)</div></code></pre>
<h4>
Arguments
</h4>
<dl class="rd-dl">
<dt>
data
</dt>
<dd class="rd-dd">
data set using
</dd>
<dt>
mapping
</dt>
<dd class="rd-dd">
aesthetics being used
</dd>
<dt>
…
</dt>
<dd class="rd-dd">
other arguements are sent to geom_bar
</dd>
</dl>
<h4>
Examples
</h4>
<pre class="r"><code> data(tips, package = &quot;reshape&quot;)
 ggally_facetbar(tips, ggplot2::aes(x = sex, y = smoker, fill = time))</code></pre>
<p><img src="rd_files/figure-html/ggally_facetbar_id_45-1.png" width="960" /></p>
<pre class="r"><code> ggally_facetbar(tips, ggplot2::aes(x = smoker, y = sex, fill = time))</code></pre>
<p><img src="rd_files/figure-html/ggally_facetbar_id_45-2.png" width="960" /></p>
<h4>
Author
</h4>
<p>Barret Schloerke <a href='mailto:schloerke@gmail.com'>schloerke@gmail.com</a></p>
</div>
<div id="ggally_facetdensity" class="section level2">
<h2>ggally_facetdensity</h2>
<a id="ggally_facetdensity_alias"></a>
<h3>
Plots the density plots by faceting
</h3>
<p class="rd-p">
Make density plots by displaying subsets of the data in different panels.
</p>
<h4>
Usage
</h4>
<pre class="r"><code><div>ggally_facetdensity(data, mapping, ...)</div></code></pre>
<h4>
Arguments
</h4>
<dl class="rd-dl">
<dt>
data
</dt>
<dd class="rd-dd">
data set using
</dd>
<dt>
mapping
</dt>
<dd class="rd-dd">
aesthetics being used
</dd>
<dt>
…
</dt>
<dd class="rd-dd">
other arguments being sent to stat_density
</dd>
</dl>
<h4>
Examples
</h4>
<pre class="r"><code> data(tips, package = &quot;reshape&quot;)
 ggally_facetdensity(tips, mapping = ggplot2::aes(x = total_bill, y = sex))</code></pre>
<p><img src="rd_files/figure-html/ggally_facetdensity_id_46-1.png" width="960" /></p>
<pre class="r"><code> ggally_facetdensity(
   tips,
   mapping = ggplot2::aes_string(y = &quot;total_bill&quot;, x = &quot;sex&quot;, color = &quot;sex&quot;)
 )</code></pre>
<p><img src="rd_files/figure-html/ggally_facetdensity_id_46-2.png" width="960" /></p>
<h4>
Author
</h4>
<p>Barret Schloerke <a href='mailto:schloerke@gmail.com'>schloerke@gmail.com</a></p>
</div>
<div id="ggally_facethist" class="section level2">
<h2>ggally_facethist</h2>
<a id="ggally_facethist_alias"></a>
<h3>
Plots the Histograms by Faceting
</h3>
<p class="rd-p">
Make histograms by displaying subsets of the data in different panels.
</p>
<h4>
Usage
</h4>
<pre class="r"><code><div>ggally_facethist(data, mapping, ...)</div></code></pre>
<h4>
Arguments
</h4>
<dl class="rd-dl">
<dt>
data
</dt>
<dd class="rd-dd">
data set using
</dd>
<dt>
mapping
</dt>
<dd class="rd-dd">
aesthetics being used
</dd>
<dt>
…
</dt>
<dd class="rd-dd">
parameters sent to stat_bin()
</dd>
</dl>
<h4>
Examples
</h4>
<pre class="r"><code> data(tips, package = &quot;reshape&quot;)
 ggally_facethist(tips, mapping = ggplot2::aes(x = tip, y = sex))</code></pre>
<pre><code>## `stat_bin()` using `bins = 30`. Pick better value with `binwidth`.</code></pre>
<p><img src="rd_files/figure-html/ggally_facethist_id_47-1.png" width="960" /></p>
<pre class="r"><code> ggally_facethist(tips, mapping = ggplot2::aes_string(x = &quot;tip&quot;, y = &quot;sex&quot;), binwidth = 0.1)</code></pre>
<p><img src="rd_files/figure-html/ggally_facethist_id_47-2.png" width="960" /></p>
<h4>
Author
</h4>
<p>Barret Schloerke <a href='mailto:schloerke@gmail.com'>schloerke@gmail.com</a></p>
</div>
<div id="ggally_points" class="section level2">
<h2>ggally_points</h2>
<a id="ggally_points_alias"></a>
<h3>
Plots the Scatter Plot
</h3>
<p class="rd-p">
Make a scatter plot with a given data set.
</p>
<h4>
Usage
</h4>
<pre class="r"><code><div>ggally_points(data, mapping, ...)</div></code></pre>
<h4>
Arguments
</h4>
<dl class="rd-dl">
<dt>
data
</dt>
<dd class="rd-dd">
data set using
</dd>
<dt>
mapping
</dt>
<dd class="rd-dd">
aesthetics being used
</dd>
<dt>
…
</dt>
<dd class="rd-dd">
other arguments are sent to geom_point
</dd>
</dl>
<h4>
Examples
</h4>
<pre class="r"><code>data(mtcars)
ggally_points(mtcars, mapping = ggplot2::aes(x = disp, y = hp))</code></pre>
<p><img src="rd_files/figure-html/ggally_points_id_48-1.png" width="960" /></p>
<pre class="r"><code>ggally_points(mtcars, mapping = ggplot2::aes_string(x = &quot;disp&quot;, y = &quot;hp&quot;))</code></pre>
<p><img src="rd_files/figure-html/ggally_points_id_48-2.png" width="960" /></p>
<pre class="r"><code>ggally_points(
  mtcars,
  mapping = ggplot2::aes_string(
    x     = &quot;disp&quot;,
    y     = &quot;hp&quot;,
    color = &quot;as.factor(cyl)&quot;,
    size  = &quot;gear&quot;
  )
)</code></pre>
<p><img src="rd_files/figure-html/ggally_points_id_48-3.png" width="960" /></p>
<h4>
Author
</h4>
<p>Barret Schloerke <a href='mailto:schloerke@gmail.com'>schloerke@gmail.com</a></p>
</div>
<div id="ggally_ratio" class="section level2">
<h2>ggally_ratio</h2>
<a id="ggally_ratio_alias"></a>
<h3>
Plots a mosaic plot
</h3>
<p class="rd-p">
Plots the mosaic plot by using fluctuation.
</p>
<h4>
Usage
</h4>
<pre class="r"><code><div>ggally_ratio(data, mapping&nbsp;=&nbsp;do.call(ggplot2::aes_string, as.list(colnames(data)[1:2])), ..., floor&nbsp;=&nbsp;0, ceiling&nbsp;=&nbsp;NULL)</div></code></pre>
<h4>
Arguments
</h4>
<dl class="rd-dl">
<dt>
data
</dt>
<dd class="rd-dd">
data set using
</dd>
<dt>
mapping
</dt>
<dd class="rd-dd">
aesthetics being used. Only x and y will used and both are required
</dd>
<dt>
…
</dt>
<dd class="rd-dd">
passed to <code><a href=http://www.rdocumentation.org/packages/ggplot2/topics/geom_tile>geom_tile</a>(…)</code>
</dd>
<dt>
floor
</dt>
<dd class="rd-dd">
dont display cells smaller than this value
</dd>
<dt>
ceiling
</dt>
<dd class="rd-dd">
max value to scale frequencies. If any frequency is larger than the ceiling, the fill color is displayed darker than other rectangles
</dd>
</dl>
<h4>
Examples
</h4>
<pre class="r"><code>data(tips, package = &quot;reshape&quot;)
ggally_ratio(tips, ggplot2::aes(sex, day))</code></pre>
<p><img src="rd_files/figure-html/ggally_ratio_id_49-1.png" width="960" /></p>
<pre class="r"><code>ggally_ratio(tips, ggplot2::aes(sex, day)) + ggplot2::coord_equal()</code></pre>
<p><img src="rd_files/figure-html/ggally_ratio_id_49-2.png" width="960" /></p>
<pre class="r"><code># only plot tiles greater or equal to 20 and scale to a max of 50
ggally_ratio(
  tips, ggplot2::aes(sex, day),
  floor = 20, ceiling = 50
) + ggplot2::theme(aspect.ratio = 4/2)</code></pre>
<p><img src="rd_files/figure-html/ggally_ratio_id_49-3.png" width="960" /></p>
<h4>
Author
</h4>
<p>Barret Schloerke <a href='mailto:schloerke@gmail.com'>schloerke@gmail.com</a></p>
</div>
<div id="ggally_smooth-ggally_smooth_lm-ggally_smooth_loess" class="section level2">
<h2>ggally_smooth, ggally_smooth_lm, ggally_smooth_loess</h2>
<a id="ggally_smooth_alias"></a>
<h3>
Plots the Scatter Plot with Smoothing
</h3>
<p class="rd-p">
Add a smoothed condition mean with a given scatter plot.
</p>
<h4>
Usage
</h4>
<pre class="r"><code><div>ggally_smooth(data, mapping, ..., method&nbsp;=&nbsp;"lm")</div>
<div>ggally_smooth_loess(data, mapping, ...)</div>
<div>ggally_smooth_lm(data, mapping, ...)</div></code></pre>
<h4>
Arguments
</h4>
<dl class="rd-dl">
<dt>
data
</dt>
<dd class="rd-dd">
data set using
</dd>
<dt>
mapping
</dt>
<dd class="rd-dd">
aesthetics being used
</dd>
<dt>
…
</dt>
<dd class="rd-dd">
other arguments to add to geom_point
</dd>
<dt>
method
</dt>
<dd class="rd-dd">
<code>method</code> parameter supplied to <code><a href=http://www.rdocumentation.org/packages/ggplot2/topics/geom_smooth>geom_smooth</a></code>
</dd>
</dl>
<h4>
Examples
</h4>
<pre class="r"><code> data(tips, package = &quot;reshape&quot;)
 ggally_smooth(tips, mapping = ggplot2::aes(x = total_bill, y = tip))</code></pre>
<p><img src="rd_files/figure-html/ggally_smooth_id_50-1.png" width="960" /></p>
<pre class="r"><code> ggally_smooth(tips, mapping = ggplot2::aes_string(x = &quot;total_bill&quot;, y = &quot;tip&quot;))</code></pre>
<p><img src="rd_files/figure-html/ggally_smooth_id_50-2.png" width="960" /></p>
<pre class="r"><code> ggally_smooth(tips, mapping = ggplot2::aes_string(x = &quot;total_bill&quot;, y = &quot;tip&quot;, color = &quot;sex&quot;))</code></pre>
<p><img src="rd_files/figure-html/ggally_smooth_id_50-3.png" width="960" /></p>
<h4>
Author
</h4>
<p>Barret Schloerke <a href='mailto:schloerke@gmail.com'>schloerke@gmail.com</a></p>
</div>
<div id="ggally_text" class="section level2">
<h2>ggally_text</h2>
<a id="ggally_text_alias"></a>
<h3>
GGplot Text
</h3>
<p class="rd-p">
Plot text for a plot.
</p>
<h4>
Usage
</h4>
<pre class="r"><code><div>ggally_text(label, mapping&nbsp;=&nbsp;ggplot2::aes(color&nbsp;=&nbsp;"black"), xP&nbsp;=&nbsp;0.5, yP&nbsp;=&nbsp;0.5, xrange&nbsp;=&nbsp;c(0, 1), yrange&nbsp;=&nbsp;c(0, 1), ...)</div></code></pre>
<h4>
Arguments
</h4>
<dl class="rd-dl">
<dt>
label
</dt>
<dd class="rd-dd">
text that you want to appear
</dd>
<dt>
mapping
</dt>
<dd class="rd-dd">
aesthetics that dont relate to position (such as color)
</dd>
<dt>
xP
</dt>
<dd class="rd-dd">
horizontal position percentage
</dd>
<dt>
yP
</dt>
<dd class="rd-dd">
vertical position percentage
</dd>
<dt>
xrange
</dt>
<dd class="rd-dd">
range of the data around it. Only nice to have if plotting in a matrix
</dd>
<dt>
yrange
</dt>
<dd class="rd-dd">
range of the data around it. Only nice to have if plotting in a matrix
</dd>
<dt>
…
</dt>
<dd class="rd-dd">
other arguments for geom_text
</dd>
</dl>
<h4>
Examples
</h4>
<pre class="r"><code>ggally_text(&quot;Example 1&quot;)</code></pre>
<p><img src="rd_files/figure-html/ggally_text_id_51-1.png" width="960" /></p>
<pre class="r"><code>ggally_text(&quot;Example\nTwo&quot;, mapping = ggplot2::aes(size = 15), color = I(&quot;red&quot;))</code></pre>
<p><img src="rd_files/figure-html/ggally_text_id_51-2.png" width="960" /></p>
<h4>
Author
</h4>
<p>Barret Schloerke <a href='mailto:schloerke@gmail.com'>schloerke@gmail.com</a></p>
</div>
<div id="ggally_blank-ggally_blankdiag" class="section level2">
<h2>ggally_blank, ggally_blankDiag</h2>
<a id="ggally_blank_alias"></a>
<h3>
Blank
</h3>
<p class="rd-p">
Draws nothing.
</p>
<h4>
Usage
</h4>
<pre class="r"><code><div>ggally_blank(...)</div>
<div>ggally_blankDiag(...)</div></code></pre>
<h4>
Arguments
</h4>
<dl class="rd-dl">
<dt>
…
</dt>
<dd class="rd-dd">
other arguments ignored
</dd>
</dl>
<h4>
Details
</h4>
<p class="rd-p">
Makes a “blank” ggplot object that will only draw white space
</p>
<h4>
Author
</h4>
<p>Barret Schloerke <a href='mailto:schloerke@gmail.com'>schloerke@gmail.com</a></p>
</div>
<div id="ggally_na-ggally_nadiag" class="section level2">
<h2>ggally_na, ggally_naDiag</h2>
<a id="ggally_na_alias"></a>
<h3>
NA plot
</h3>
<p class="rd-p">
Draws a large <code>NA</code> in the middle of the plotting area. This plot is useful when all X or Y data is <code>NA</code>
</p>
<h4>
Usage
</h4>
<pre class="r"><code><div>ggally_na(data&nbsp;=&nbsp;NULL, mapping&nbsp;=&nbsp;NULL, size&nbsp;=&nbsp;10, color&nbsp;=&nbsp;"grey20", ...)</div>
<div>ggally_naDiag(...)</div></code></pre>
<h4>
Arguments
</h4>
<dl class="rd-dl">
<dt>
data
</dt>
<dd class="rd-dd">
ignored
</dd>
<dt>
mapping
</dt>
<dd class="rd-dd">
ignored
</dd>
<dt>
size
</dt>
<dd class="rd-dd">
size of the geom_text NA
</dd>
<dt>
color
</dt>
<dd class="rd-dd">
color of the geom_text NA
</dd>
<dt>
…
</dt>
<dd class="rd-dd">
other arguments sent to geom_text
</dd>
</dl>
<h4>
Author
</h4>
<p>Barret Schloerke <a href='mailto:schloerke@gmail.com'>schloerke@gmail.com</a></p>
</div>
<div id="ggally_diagaxis" class="section level2">
<h2>ggally_diagAxis</h2>
<a id="ggally_diagAxis_alias"></a>
<h3>
Internal Axis Labeling Plot for ggpairs
</h3>
<p class="rd-p">
This function is used when <code>axisLabels == “internal”</code>.
</p>
<h4>
Usage
</h4>
<pre class="r"><code><div>ggally_diagAxis(data, mapping, label&nbsp;=&nbsp;mapping$x, labelSize&nbsp;=&nbsp;5, labelXPercent&nbsp;=&nbsp;0.5, labelYPercent&nbsp;=&nbsp;0.55, labelHJust&nbsp;=&nbsp;0.5, labelVJust&nbsp;=&nbsp;0.5, gridLabelSize&nbsp;=&nbsp;4, ...)</div></code></pre>
<h4>
Arguments
</h4>
<dl class="rd-dl">
<dt>
data
</dt>
<dd class="rd-dd">
dataset being plotted
</dd>
<dt>
mapping
</dt>
<dd class="rd-dd">
aesthetics being used (x is the variable the plot will be made for)
</dd>
<dt>
label
</dt>
<dd class="rd-dd">
title to be displayed in the middle. Defaults to <code>mapping$x</code>
</dd>
<dt>
labelSize
</dt>
<dd class="rd-dd">
size of variable label
</dd>
<dt>
labelXPercent
</dt>
<dd class="rd-dd">
percent of horizontal range
</dd>
<dt>
labelYPercent
</dt>
<dd class="rd-dd">
percent of vertical range
</dd>
<dt>
labelHJust
</dt>
<dd class="rd-dd">
hjust supplied to label
</dd>
<dt>
labelVJust
</dt>
<dd class="rd-dd">
vjust supplied to label
</dd>
<dt>
gridLabelSize
</dt>
<dd class="rd-dd">
size of grid labels
</dd>
<dt>
…
</dt>
<dd class="rd-dd">
other arguments for geom_text
</dd>
</dl>
<h4>
Examples
</h4>
<pre class="r"><code> data(tips, package = &quot;reshape&quot;)
 ggally_diagAxis(tips, ggplot2::aes(x=tip))</code></pre>
<p><img src="rd_files/figure-html/ggally_diagAxis_id_54-1.png" width="960" /></p>
<pre class="r"><code> ggally_diagAxis(tips, ggplot2::aes(x=sex))</code></pre>
<p><img src="rd_files/figure-html/ggally_diagAxis_id_54-2.png" width="960" /></p>
<h4>
Author
</h4>
<p>Jason Crowley <a href='mailto:crowley.jason.s@gmail.com'>crowley.jason.s@gmail.com</a> and Barret Schloerke</p>
</div>
</div>
<div id="datasets" class="section level1">
<h1>Datasets</h1>
<div id="australia_pisa2012" class="section level2">
<h2>australia_PISA2012</h2>
<a id="australia_PISA2012_alias"></a>
<h3>
Programme for International Student Assesment (PISA) 2012 Data for Australia
</h3>
<p class="rd-p">
About PISA
</p>
<h4>
Usage
</h4>
<pre class="r"><code><div>data(australia_PISA2012)</div></code></pre>
<h4>
Format
</h4>
<p class="rd-p">
A data frame with 8247 rows and 32 variables
</p>
<h4>
Source
</h4>
<p class="rd-p">
<a href = http://www.oecd.org/pisa/pisaproducts/database-cbapisa2012.htm>http://www.oecd.org/pisa/pisaproducts/database-cbapisa2012.htm</a>
</p>
<h4>
Details
</h4>
<p class="rd-p">
The Programme for International Student Assessment (PISA) is a triennial international survey which aims to evaluate education systems worldwide by testing the skills and knowledge of 15-year-old students. To date, students representing more than 70 economies have participated in the assessment.
</p>
<p class="rd-p">
While 65 economies took part in the 2012 study, this data set only contains information from the country of Australia.
</p>
<p class="rd-p">
<ul>
<li>
gender : Factor w/ 2 levels “female”,“male”: 1 1 2 2 2 1 1 1 2 1 …
</li>
<li>
age : Factor w/ 4 levels “4”,“5”,“6”,“7”: 2 2 2 4 3 1 2 2 2 2 …
</li>
<li>
homework : num 5 5 9 3 2 3 4 3 5 1 …
</li>
<li>
desk : num 1 0 1 1 1 1 1 1 1 1 …
</li>
<li>
room : num 1 1 1 1 1 1 1 1 1 1 …
</li>
<li>
study : num 1 1 1 1 1 1 1 1 1 1 …
</li>
<li>
computer : num 1 1 1 1 1 1 1 1 1 1 …
</li>
<li>
software : num 1 1 1 1 1 1 1 1 1 1 …
</li>
<li>
internet : num 1 1 1 1 1 1 1 1 1 1 …
</li>
<li>
literature : num 0 0 1 0 1 1 1 1 1 0 …
</li>
<li>
poetry : num 0 0 1 0 1 1 0 1 1 1 …
</li>
<li>
art : num 1 0 1 0 1 1 0 1 1 1 …
</li>
<li>
textbook : num 1 1 1 1 1 0 1 1 1 1 …
</li>
<li>
dictionary : num 1 1 1 1 1 1 1 1 1 1 …
</li>
<li>
dishwasher : num 1 1 1 1 0 1 1 1 1 1 …
</li>
<li>
PV1MATH : num 562 565 602 520 613 …
</li>
<li>
PV2MATH : num 569 557 594 507 567 …
</li>
<li>
PV3MATH : num 555 553 552 501 585 …
</li>
<li>
PV4MATH : num 579 538 526 521 596 …
</li>
<li>
PV5MATH : num 548 573 619 547 603 …
</li>
<li>
PV1READ : num 582 617 650 554 605 …
</li>
<li>
PV2READ : num 571 572 608 560 557 …
</li>
<li>
PV3READ : num 602 560 594 517 627 …
</li>
<li>
PV4READ : num 572 564 575 564 597 …
</li>
<li>
PV5READ : num 585 565 620 572 598 …
</li>
<li>
PV1SCIE : num 583 627 668 574 639 …
</li>
<li>
PV2SCIE : num 579 600 665 612 635 …
</li>
<li>
PV3SCIE : num 593 574 620 571 666 …
</li>
<li>
PV4SCIE : num 567 582 592 598 700 …
</li>
<li>
PV5SCIE : num 587 625 656 662 670 …
</li>
<li>
SENWGT_STU : num 0.133 0.133 0.141 0.141 0.141 …
</li>
<li>
possessions: num 10 8 12 9 11 11 10 12 12 11 …
</li>
</ul>
</p>
<p class="rd-p">
</p>
</div>
<div id="flea" class="section level2">
<h2>flea</h2>
<a id="flea_alias"></a>
<h3>
Historical data used for classification examples.
</h3>
<p class="rd-p">
This data contains physical measurements on three species of flea beetles.
</p>
<h4>
Usage
</h4>
<pre class="r"><code><div>data(flea)</div></code></pre>
<h4>
Format
</h4>
<p class="rd-p">
A data frame with 74 rows and 7 variables
</p>
<h4>
Details
</h4>
<p class="rd-p">
<ul>
<li>
species Ch. concinna, Ch. heptapotamica, Ch. heikertingeri
</li>
<li>
tars1 width of the first joint of the first tarsus in microns
</li>
<li>
tars2 width of the second joint of the first tarsus in microns
</li>
<li>
head the maximal width of the head between the external edges of the eyes in 0.01 mm
</li>
<li>
aede1 the maximal width of the aedeagus in the fore-part in microns
</li>
<li>
aede2 the front angle of the aedeagus (1 unit = 7.5 degrees)
</li>
<li>
aede3 the aedeagus width from the side in microns
</li>
</ul>
</p>
<p class="rd-p">
</p>
<h4>
References
</h4>
<p class="rd-p">
Lubischew, A. A. (1962), On the Use of Discriminant Functions in Taxonomy, Biometrics 18:455-477.
</p>
</div>
<div id="happy" class="section level2">
<h2>happy</h2>
<a id="happy_alias"></a>
<h3>
Data related to happiness from the General Social Survey, 1972-2006.
</h3>
<p class="rd-p">
This data extract is taken from Hadley Wickham’s <code>productplots</code> package. The original description follows, with minor edits.
</p>
<h4>
Usage
</h4>
<pre class="r"><code><div>data(happy)</div></code></pre>
<h4>
Format
</h4>
<p class="rd-p">
A data frame with 51020 rows and 10 variables
</p>
<h4>
Details
</h4>
<p class="rd-p">
The data is a small sample of variables related to happiness from the General Social Survey (GSS). The GSS is a yearly cross-sectional survey of Americans, run from 1972. We combine data for 25 years to yield 51,020 observations, and of the over 5,000 variables, we select nine related to happiness:
</p>
<p class="rd-p">
<ul>
<li>
age. age in years: 18–89.
</li>
<li>
degree. highest education: lt high school, high school, junior college, bachelor, graduate.
</li>
<li>
finrela. relative financial status: far above, above average, average, below average, far below.
</li>
<li>
happy. happiness: very happy, pretty happy, not too happy.
</li>
<li>
health. health: excellent, good, fair, poor.
</li>
<li>
marital. marital status: married, never married, divorced, widowed, separated.
</li>
<li>
sex. sex: female, male.
</li>
<li>
wtsall. probability weight. 0.43–6.43.
</li>
</ul>
</p>
<p class="rd-p">
</p>
<h4>
References
</h4>
<p class="rd-p">
Smith, Tom W., Peter V. Marsden, Michael Hout, Jibum Kim. <em>General Social Surveys, 1972-2006</em>. [machine-readable data file]. Principal Investigator, Tom W. Smith; Co-Principal Investigators, Peter V. Marsden and Michael Hout, NORC ed. Chicago: National Opinion Research Center, producer, 2005; Storrs, CT: The Roper Center for Public Opinion Research, University of Connecticut, distributor. 1 data file (57,061 logical records) and 1 codebook (3,422 pp).
</p>
</div>
<div id="nasa" class="section level2">
<h2>nasa</h2>
<a id="nasa_alias"></a>
<h3>
Data from the Data Expo JSM 2006.
</h3>
<p class="rd-p">
This data was provided by NASA for the competition.
</p>
<h4>
Usage
</h4>
<pre class="r"><code><div>data(nasa)</div></code></pre>
<h4>
Format
</h4>
<p class="rd-p">
A data frame with 41472 rows and 17 variables
</p>
<h4>
Details
</h4>
<p class="rd-p">
The data shows 6 years of monthly measurements of a 24x24 spatial grid from Central America:
</p>
<p class="rd-p">
<ul>
<li>
time integer specifying temporal order of measurements
</li>
<li>
x, y, lat, long spatial location of measurements.
</li>
<li>
cloudhigh, cloudlow, cloudmid, ozone, pressure, surftemp, temperature are the various satellite measurements.
</li>
<li>
date, day, month, year specifying the time of measurements.
</li>
<li>
id unique ide for each spatial position.
</li>
</ul>
</p>
<p class="rd-p">
</p>
<h4>
References
</h4>
<p class="rd-p">
Murrell, P. (2010) The 2006 Data Expo of the American Statistical Association. Computational Statistics, 25:551-554.
</p>
</div>
<div id="twitter_spambots" class="section level2">
<h2>twitter_spambots</h2>
<a id="twitter_spambots_alias"></a>
<h3>
Twitter spambots
</h3>
<p class="rd-p">
A network of spambots found on Twitter as part of a data mining project.
</p>
<h4>
Usage
</h4>
<pre class="r"><code><div>data(twitter_spambots)</div></code></pre>
<h4>
Format
</h4>
<p class="rd-p">
An object of class <code>network</code> with 120 edges and 94 vertices.
</p>
<h4>
Details
</h4>
<p class="rd-p">
Each node of the network is identified by the Twitter screen name of the account and further carries five vertex attributes:
</p>
<p class="rd-p">
<ul>
<li>
location users location, as provided by the user
</li>
<li>
lat latitude, based on the users location
</li>
<li>
lon longitude, based on the users location
</li>
<li>
followers number of Twitter accounts that follow this account
</li>
<li>
friends number of Twitter accounts followed by the account
</li>
</ul>
</p>
<p class="rd-p">
</p>
<h4>
Author
</h4>
<p>Amos Elberg</p>
</div>
</div>


      </div>
    </div>
  </div>

  <div id="footer">
    <div class="container">
      <div class="col-md-6">
                <p>&copy; Barret Schloerke, 2016</p>
              </div>
      <div class="col-md-6">
        <p class="pull-right">created with <a href="https://github.com/hafen/packagedocs">packagedocs</a>
                  </p>
      </div>
    </div>
  </div>

  
</body>
</html>
